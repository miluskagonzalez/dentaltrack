(window.webpackJsonpdentaltrack=window.webpackJsonpdentaltrack||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(32)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(23),o=n(39),a=n(40),s=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i),u=new o.ErrorFactory("app","Firebase",s),l="[DEFAULT]",c=[],h=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){c.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){c=c.filter((function(t){return t!==e}))}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,i=Object.keys(e.services_);n<i.length;n++)for(var r=i[n],o=0,a=Object.keys(e.services_[r]);o<a.length;o++){var s=a[o];t.push(e.services_[r][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=l),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==l?t:void 0,i=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=i}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=l),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(c.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)})),c=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d="6.6.0",f=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=function e(){var t=function(e){var t={},n={},i={},r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var a=i;void 0===a.name&&(a.name=l);var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var h=new e(n,a,r);return t[s]=h,c(h,"create"),h},app:a,apps:null,SDK_VERSION:d,INTERNAL:{registerService:function(t,l,c,h,d){void 0===d&&(d=!1);if(n[t])return f.debug("There were multiple attempts to register service "+t+"."),r[t];n[t]=l,h&&(i[t]=h,s().forEach((function(e){h("create",e)})));function p(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==c&&o.deepExtend(p,c);return r[t]=p,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this._getService.bind(this,t);return i.apply(this,d?e:[])},p},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:h}};function a(e){if(e=e||l,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function c(e,t){for(var r=0,o=Object.keys(n);r<o.length;r++){var a=h(e,o[r]);if(null===a)return;i[a]&&i[a](t,e)}}function h(e,t){return"serverAuth"===t?null:t}return r.default=r,Object.defineProperty(r,"apps",{get:s}),a.App=e,r}(h);return t.INTERNAL=r.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),v=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,e)};var y=m;t.default=y,t.firebase=y},function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(20),a=n.n(o),s=n(16),u=n.n(s),l=n(27),c=n.n(l),h=1073741823;var d=r.a.createContext||function(e,t){var n,r,o="__create-react-context-"+c()()+"__",s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}(t.props.value),t}a()(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,i=this.props.value,r=e.value;((o=i)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(i,r):h,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(i.Component);s.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var l=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a()(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?h:t},i.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?h:e},i.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},i.getValue=function(){return this.context[o]?this.context[o].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return l.contextTypes=((r={})[o]=u.a.object,r),{Provider:s,Consumer:l}},f=n(7),p=n(6),m=n(4),v=n(21),y=n.n(v),g=n(2),b=(n(24),n(8)),w=n(28),E=n.n(w);n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return k})),n.d(t,"e",(function(){return M})),n.d(t,"f",(function(){return U})),n.d(t,"d",(function(){return _}));var _=function(e){var t=d();return t.displayName=e,t}("Router"),k=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(f.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return r.a.createElement(_.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(r.a.Component);r.a.Component;var T=function(e){function t(){return e.apply(this,arguments)||this}Object(f.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(r.a.Component);var S={},C=1e4,I=0;function D(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(S[e])return S[e];var t=y.a.compile(e);return I<C&&(S[e]=t,I++),t}(e)(t,{pretty:!0})}function A(e){var t=e.computedMatch,n=e.to,i=e.push,o=void 0!==i&&i;return r.a.createElement(_.Consumer,null,(function(e){e||Object(m.a)(!1);var i=e.history,a=e.staticContext,s=o?i.push:i.replace,u=Object(p.c)(t?"string"===typeof n?D(n,t.params):Object(g.a)({},n,{pathname:D(n.pathname,t.params)}):n);return a?(s(u),null):r.a.createElement(T,{onMount:function(){s(u)},onUpdate:function(e,t){var n=Object(p.c)(t.to);Object(p.f)(n,Object(g.a)({},u,{key:n.key}))||s(u)},to:n})}))}var O={},x=1e4,N=0;function M(e,t){void 0===t&&(t={}),"string"===typeof t&&(t={path:t});var n=t,i=n.path,r=n.exact,o=void 0!==r&&r,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(i).reduce((function(t,n){if(!n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=O[n]||(O[n]={});if(i[e])return i[e];var r=[],o={regexp:y()(e,r,t),keys:r};return N<x&&(i[e]=o,N++),o}(n,{end:o,strict:s,sensitive:l}),r=i.regexp,a=i.keys,u=r.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),d=e===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var R=function(e){function t(){return e.apply(this,arguments)||this}return Object(f.a)(t,e),t.prototype.render=function(){var e=this;return r.a.createElement(_.Consumer,null,(function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?M(n.pathname,e.props):t.match,o=Object(g.a)({},t,{location:n,match:i}),a=e.props,s=a.children,u=a.component,l=a.render;(Array.isArray(s)&&0===s.length&&(s=null),"function"===typeof s)&&(void 0===(s=s(o))&&(s=null));return r.a.createElement(_.Provider,{value:o},s&&!function(e){return 0===r.a.Children.count(e)}(s)?s:o.match?u?r.a.createElement(u,o):l?l(o):null:null)}))},t}(r.a.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function P(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:Object(g.a)({},t,{pathname:t.pathname.substr(n.length)})}function B(e){return"string"===typeof e?e:Object(p.e)(e)}function F(e){return function(){Object(m.a)(!1)}}function V(){}r.a.Component;r.a.Component;function U(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,i=Object(b.a)(t,["wrappedComponentRef"]);return r.a.createElement(_.Consumer,null,(function(t){return t||Object(m.a)(!1),r.a.createElement(e,Object(g.a)({},i,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,E()(n,e)}},function(e,t,n){"use strict";var i=!0,r="Invariant failed";t.a=function(e,t){if(!e)throw i?new Error(r):new Error(r+": "+(t||""))}},function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=n(2);function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&r(e),u=t&&r(t),l=s||u;if(e&&r(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var h=0,d=a.length;d>=0;d--){var f=a[d];"."===f?o(a,d):".."===f?(o(a,d),h++):h&&(o(a,d),h--)}if(!l)for(;h--;h)a.unshift("..");!l||""===a[0]||a[0]&&r(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"===typeof t||"object"===typeof n){var i=s(t),r=s(n);return i!==t||r!==n?e(i,r):Object.keys(Object.assign({},t,n)).every((function(i){return e(t[i],n[i])}))}return!1},l=n(4);function c(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function m(e,t,n,r){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e)).state=t:(void 0===(o=Object(i.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),g||Object(l.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,v=o.keyLength,k=void 0===v?6:v,T=e.basename?f(c(e.basename)):"";function S(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return T&&(o=d(o,T)),m(o,i,n)}function C(){return Math.random().toString(36).substr(2,k)}var I=y();function D(e){Object(i.a)(U,e),U.length=t.length,I.notifyListeners(U.location,U.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||N(S(e.state))}function O(){N(S(_()))}var x=!1;function N(e){if(x)x=!1,D();else{I.confirmTransitionTo(e,"POP",h,(function(t){t?D({action:"POP",location:e}):function(e){var t=U.location,n=R.indexOf(t.key);-1===n&&(n=0);var i=R.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(x=!0,P(r))}(e)}))}}var M=S(_()),R=[M.key];function L(e){return T+p(e)}function P(e){t.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?(window.addEventListener(w,A),r&&window.addEventListener(E,O)):0===B&&(window.removeEventListener(w,A),r&&window.removeEventListener(E,O))}var V=!1;var U={length:t.length,action:"POP",location:M,createHref:L,push:function(e,i){var r=m(e,i,C(),U.location);I.confirmTransitionTo(r,"PUSH",h,(function(e){if(e){var i=L(r),o=r.key,a=r.state;if(n)if(t.pushState({key:o,state:a},null,i),s)window.location.href=i;else{var u=R.indexOf(U.location.key),l=R.slice(0,u+1);l.push(r.key),R=l,D({action:"PUSH",location:r})}else window.location.href=i}}))},replace:function(e,i){var r=m(e,i,C(),U.location);I.confirmTransitionTo(r,"REPLACE",h,(function(e){if(e){var i=L(r),o=r.key,a=r.state;if(n)if(t.replaceState({key:o,state:a},null,i),s)window.location.replace(i);else{var u=R.indexOf(U.location.key);-1!==u&&(R[u]=r.key),D({action:"REPLACE",location:r})}else window.location.replace(i)}}))},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return V||(F(1),V=!0),function(){return V&&(V=!1,F(-1)),t()}},listen:function(e){var t=I.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var T="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:c},slash:{encodePath:c,decodePath:c}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function I(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.replace(C(window.location.href)+"#"+e)}function A(e){void 0===e&&(e={}),g||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?f(c(e.basename)):"",h=S[s],v=h.encodePath,w=h.decodePath;function E(){var e=w(I());return u&&(e=d(e,u)),m(e)}var _=y();function k(e){Object(i.a)(U,e),U.length=t.length,_.notifyListeners(U.location,U.action)}var A=!1,O=null;function x(){var e,t,n=I(),i=v(n);if(n!==i)D(i);else{var r=E(),a=U.location;if(!A&&(t=r,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(O===p(r))return;O=null,function(e){if(A)A=!1,k();else{_.confirmTransitionTo(e,"POP",o,(function(t){t?k({action:"POP",location:e}):function(e){var t=U.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var i=L.lastIndexOf(p(e));-1===i&&(i=0);var r=n-i;r&&(A=!0,P(r))}(e)}))}}(r)}}var N=I(),M=v(N);N!==M&&D(M);var R=E(),L=[p(R)];function P(e){t.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?window.addEventListener(T,x):0===B&&window.removeEventListener(T,x)}var V=!1;var U={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+v(u+p(e))},push:function(e,t){var n=m(e,void 0,void 0,U.location);_.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),i=v(u+t);if(I()!==i){O=t,function(e){window.location.hash=e}(i);var r=L.lastIndexOf(p(U.location)),o=L.slice(0,r+1);o.push(t),L=o,k({action:"PUSH",location:n})}else k()}}))},replace:function(e,t){var n=m(e,void 0,void 0,U.location);_.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),i=v(u+t);I()!==i&&(O=t,D(i));var r=L.indexOf(p(U.location));-1!==r&&(L[r]=t),k({action:"REPLACE",location:n})}}))},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return V||(F(1),V=!0),function(){return V&&(V=!1,F(-1)),t()}},listen:function(e){var t=_.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function O(e,t,n){return Math.min(Math.max(e,t),n)}function x(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,l=void 0===u?6:u,c=y();function h(e){Object(i.a)(w,e),w.length=w.entries.length,c.notifyListeners(w.location,w.action)}function d(){return Math.random().toString(36).substr(2,l)}var f=O(s,0,o.length-1),v=o.map((function(e){return m(e,void 0,"string"===typeof e?d():e.key||d())})),g=p;function b(e){var t=O(w.index+e,0,w.entries.length-1),i=w.entries[t];c.confirmTransitionTo(i,"POP",n,(function(e){e?h({action:"POP",location:i,index:t}):h()}))}var w={length:v.length,action:"POP",location:v[f],index:f,entries:v,createHref:g,push:function(e,t){var i=m(e,t,d(),w.location);c.confirmTransitionTo(i,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:"PUSH",location:i,index:t,entries:n})}}))},replace:function(e,t){var i=m(e,t,d(),w.location);c.confirmTransitionTo(i,"REPLACE",n,(function(e){e&&(w.entries[w.index]=i,h({action:"REPLACE",location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return w}},function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return(r="function"===typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(44)()},function(e,t,n){(function(n){var i,r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var e,t=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,a=i.push,s=function(){},u=function(e){return"function"===typeof e&&e.call},l=function(e){return"string"===typeof e},c=/^#[\w-]*$/,h=/^\.[\w-]*$/,d=/<.+>/,f=/^\w+$/;function p(e,n){return n=n||t,h.test(e)?n.getElementsByClassName(e.slice(1)):f.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e)}function m(n){if(!e){var i=(e=t.implementation.createHTMLDocument(null)).createElement("base");i.href=t.location.href,e.head.appendChild(i)}return e.body.innerHTML=n,e.body.childNodes}function v(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function y(e,i){if(!e)return this;if(e.cash&&e!==n)return e;var r,o=e,a=0;if(l(e))o=c.test(e)?t.getElementById(e.slice(1)):d.test(e)?m(e):p(e,i);else if(u(e))return v(e),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;a<r;a++)this[a]=o[a];return this}function g(e,t){return new y(e,t)}var b=g.fn=g.prototype=y.prototype={cash:!0,length:0,push:a,splice:i.splice,map:i.map,init:y};function w(e,t){for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);}function E(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function _(e){return l(e)?E:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function k(e){return g(r.call(e).filter((function(e,t,n){return n.indexOf(e)===t})))}Object.defineProperty(b,"constructor",{value:g}),g.parseHTML=m,g.noop=s,g.isFunction=u,g.isString=l,g.extend=b.extend=function(e){e=e||{};var t=r.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(e[o]=t[i][o]);return e},g.extend({merge:function(e,t){for(var n=+t.length,i=e.length,r=0;r<n;i++,r++)e[i]=t[r];return e.length=i,e},each:w,matches:E,unique:k,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var T=g.uid="_cash"+Date.now();function S(e){return e[T]=e[T]||{}}function C(e,t,n){return S(e)[t]=n}function I(e,t){var n=S(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:g(e).attr("data-"+t)),n[t]}b.extend({data:function(e,t){if(l(e))return void 0===t?I(this[0],e):this.each((function(n){return C(n,e,t)}));for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each((function(t){return function(e,t){var n=S(e);n?delete n[t]:e.dataset?delete e.dataset[t]:g(e).removeAttr("data-"+name)}(t,e)}))}});var D=/\S+/g;function A(e){return l(e)&&e.match(D)}function O(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function x(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function N(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}b.extend({addClass:function(e){var t=A(e);return t?this.each((function(e){var n=" "+e.className+" ";w(t,(function(t){x(e,t,n)}))})):this},attr:function(e,t){if(e){if(l(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t}));for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=A(e);return n&&n.length&&this.each((function(e){return!(t=O(e,n[0]))})),t},prop:function(e,t){if(l(e))return void 0===t?this[0][e]:this.each((function(n){n[e]=t}));for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each((function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]}))},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=A(e);return t?this.each((function(e){w(t,(function(t){N(e,t)}))})):this},removeProp:function(e){return this.each((function(t){delete t[e]}))},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=A(e);return n?this.each((function(e){var t=" "+e.className+" ";w(n,(function(n){O(e,n)?N(e,n):x(e,n,t)}))})):this}}),b.extend({add:function(e,t){return k(g.merge(this,g(e,t)))},each:function(e){return w(this,e),this},eq:function(e){return g(this.get(e))},filter:function(e){if(!e)return this;var t=u(e)?e:_(e);return g(o.call(this,(function(n){return t(n,e)})))},first:function(){return this.eq(0)},get:function(e){return void 0===e?r.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?g(e)[0]:this[0],n=e?this:g(t).parent().children();return r.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var M=function(){var e=/(?:^\w|[A-Z]|\b\w)/g,t=/[\s-_]+/g;return function(n){return n.replace(e,(function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()})).replace(t,"")}}(),R=function(){var e={},t=document.createElement("div").style;return function(n){if(n=M(n),e[n])return e[n];var i=n.charAt(0).toUpperCase()+n.slice(1);return w((n+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" "),(function(i){if(i in t)return e[i]=n=e[n]=i,!1})),e[n]}}();function L(e,t){return parseInt(n.getComputedStyle(e[0],null)[t],10)||0}function P(e,t,n){var i,r=I(e,"_cashEvents"),o=r&&r[t];o&&(n?(e.removeEventListener(t,n),(i=o.indexOf(n))>=0&&o.splice(i,1)):(w(o,(function(n){e.removeEventListener(t,n)})),o=[]))}function B(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function F(e){var t=e.type;if(!t)return null;switch(t.toLowerCase()){case"select-one":return function(e){var t=e.selectedIndex;return t>=0?e.options[t].value:null}(e);case"select-multiple":return function(e){var t=[];return w(e.options,(function(e){e.selected&&t.push(e.value)})),t.length?t:null}(e);case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function V(e,t,n){var i=l(t);i||!t.length?w(e,i?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,i){return function(e,t,n){if(n){var i=e.childNodes[0];e.insertBefore(t,i)}else e.appendChild(t)}(e,0===i?t:t.cloneNode(!0),n)}):w(t,(function(t){return V(e,t,n)}))}g.prefixedProp=R,g.camelCase=M,b.extend({css:function(e,t){if(l(e))return e=R(e),arguments.length>1?this.each((function(n){return n.style[e]=t})):n.getComputedStyle(this[0])[e];for(var i in e)this.css(i,e[i]);return this}}),w(["Width","Height"],(function(e){var t=e.toLowerCase();b[t]=function(){return this[0].getBoundingClientRect()[t]},b["inner"+e]=function(){return this[0]["client"+e]},b["outer"+e]=function(t){return this[0]["offset"+e]+(t?L(this,"margin"+("Width"===e?"Left":"Top"))+L(this,"margin"+("Width"===e?"Right":"Bottom")):0)}})),b.extend({off:function(e,t){return this.each((function(n){return P(n,e,t)}))},on:function(e,t,n,i){var r;if(!l(e)){for(var o in e)this.on(o,t,e[o]);return this}return u(t)&&(n=t,t=null),"ready"===e?(v(n),this):(t&&(r=n,n=function(e){for(var n=e.target;!E(n,t);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,e)}),this.each((function(t){var r=n;i&&(r=function(){n.apply(this,arguments),P(t,e,r)}),function(e,t,n){var i=I(e,"_cashEvents")||C(e,"_cashEvents",{});i[t]=i[t]||[],i[t].push(n),e.addEventListener(t,n)}(t,e,r)})))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:v,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each((function(e){return e.dispatchEvent(n)}))}}}),b.extend({serialize:function(){var e="";return w(this[0].elements||this,(function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var n=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=F(t);null!==i&&w(i,(function(t){e+=B(n,t)}));break;default:var r=F(t);null!==r&&(e+=B(n,r))}}})),e.substr(1)},val:function(e){return void 0===e?F(this[0]):this.each((function(t){return t.value=e}))}}),b.extend({after:function(e){return g(e).insertAfter(this),this},append:function(e){return V(this,e),this},appendTo:function(e){return V(g(e),this),this},before:function(e){return g(e).insertBefore(this),this},clone:function(){return g(this.map((function(e){return e.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e){return e.innerHTML=t}))},insertAfter:function(e){var t=this;return g(e).each((function(e,n){var i=e.parentNode,r=e.nextSibling;t.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),r)}))})),this},insertBefore:function(e){var t=this;return g(e).each((function(e,n){var i=e.parentNode;t.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),e)}))})),this},prepend:function(e){return V(this,e,!0),this},prependTo:function(e){return V(g(e),this,!0),this},remove:function(){return this.each((function(e){if(e.parentNode)return e.parentNode.removeChild(e)}))},text:function(e){return void 0===e?this[0].textContent:this.each((function(t){return t.textContent=e}))}});var U=t.documentElement;return b.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+n.pageYOffset-U.clientTop,left:e.left+n.pageXOffset-U.clientLeft}},offsetParent:function(){return g(this[0].offsetParent)}}),b.extend({children:function(e){var t=[];return this.each((function(e){a.apply(t,e.children)})),t=k(t),e?t.filter((function(t){return E(t,e)})):t},closest:function(e){return!e||this.length<1?g():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=_(e);return this.each((function(i){return!(t=n(i,e))})),t},find:function(e){if(!e||e.nodeType)return g(e&&this.has(e).length?e:null);var t=[];return this.each((function(n){a.apply(t,p(e,n))})),k(t)},has:function(e){var t=l(e)?function(t){return 0!==p(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return g(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=_(e);return this.filter((function(n){return!t(n,e)}))},parent:function(){var e=[];return this.each((function(t){t&&t.parentNode&&e.push(t.parentNode)})),k(e)},parents:function(e){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==t.body.parentNode;)n=n.parentNode,(!e||e&&E(n,e))&&i.push(n)})),k(i)},prev:function(){return g(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter((function(e){return e!==n}))}}),g}();var l=function(){function e(t,n,i){u(this,e),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=t.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return o(e,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var r=[],o=0;o<t.length;o++)r.push(new e(t[o],n));i=r}return i}}]),e}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),void 0===(i=function(){return M}.apply(t,[]))||(e.exports=i),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(e){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(e){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(e,t,n){jQuery.fn[t]=function(i){if(e.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var e=this[n];e[i].apply(e,r)}))}if("object"===typeof i||!i)return e.init(this,arguments[0]),this;jQuery.error("Method "+i+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n){M[i].init(n[i])}},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=t.add(t.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=e.getBoundingClientRect(),o=e===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,a=e.scrollLeft,s=e.scrollTop,u=t.left-a,l=t.top-s;return(u<r.left+n||u<n)&&(i.left=!0),(u+t.width>r.right-n||u+t.width>window.innerWidth-n)&&(i.right=!0),(l<r.top+n||l<n)&&(i.top=!0),(l+t.height>o-n||l+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,a=t.getBoundingClientRect(),s=Math.min(a.height,window.innerHeight),u=Math.min(a.width,window.innerWidth),l=e.getBoundingClientRect(),c=t.scrollLeft,h=t.scrollTop,d=n.left-c,f=n.top-h,p=n.top+l.height-h;return r.spaceOnRight=o?window.innerWidth-(l.left+n.width):u-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?l.right-n.width:d-n.width+l.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(l.top+n.height+i):s-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?l.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var c=Date.now||function(){return(new Date).getTime()};M.throttle=function(e,t,n){var i=void 0,r=void 0,o=void 0,a=null,s=0;n||(n={});var u=function(){s=!1===n.leading?0:c(),a=null,o=e.apply(i,r),i=r=null};return function(){var l=c();s||!1!==n.leading||(s=l);var h=t-(l-s);return i=this,r=arguments,h<=0?(clearTimeout(a),a=null,s=l,o=e.apply(i,r),i=r=null):a||!1===n.trailing||(a=setTimeout(u,h)),o}};var h={scope:{}};h.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},h.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof n&&null!=n?n:e},h.global=h.getGlobal(this),h.SYMBOL_PREFIX="jscomp_symbol_",h.initSymbol=function(){h.initSymbol=function(){},h.global.Symbol||(h.global.Symbol=h.Symbol)},h.symbolCounter_=0,h.Symbol=function(e){return h.SYMBOL_PREFIX+(e||"")+h.symbolCounter_++},h.initSymbolIterator=function(){h.initSymbol();var e=h.global.Symbol.iterator;e||(e=h.global.Symbol.iterator=h.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&h.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return h.arrayIterator(this)}}),h.initSymbolIterator=function(){}},h.arrayIterator=function(e){var t=0;return h.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},h.iteratorPrototype=function(e){return h.initSymbolIterator(),(e={next:e})[h.global.Symbol.iterator]=function(){return this},e},h.array=h.array||{},h.iteratorFromArray=function(e,t){h.initSymbolIterator(),e instanceof String&&(e+="");var n=0,i={next:function(){if(n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},h.polyfill=function(e,t,n,i){if(t){for(n=h.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];r in n||(n[r]={}),n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&h.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},h.polyfill("Array.prototype.keys",(function(e){return e||function(){return h.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3");var d=this;M.anime=function(){function e(e){if(!O.col(e))try{return document.querySelectorAll(e)}catch(t){}}function t(e,t){for(var n=e.length,i=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&r.push(a)}return r}function n(e){return e.reduce((function(e,t){return e.concat(O.arr(t)?n(t):t)}),[])}function i(t){return O.arr(t)?t:(O.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function r(e,t){return e.some((function(e){return e===t}))}function o(e){var t,n={};for(t in e)n[t]=e[t];return n}function a(e,t){var n,i=o(e);for(n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function s(e,t){var n,i=o(e);for(n in t)i[n]=O.und(e[n])?t[n]:e[n];return i}function u(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function l(e,t){return O.fnc(e)?e(t.target,t.id,t.total):e}function c(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(e,t){return O.dom(e)&&r(A,t)?"transform":O.dom(e)&&(e.getAttribute(t)||O.svg(e)&&e[t])?"attribute":O.dom(e)&&"transform"!==t&&c(e,t)?"css":null!=e[t]?"object":void 0}function f(e,n){switch(h(e,n)){case"transform":return function(e,n){var i=function(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}(n);if(i=-1<n.indexOf("scale")?1:0+i,!(e=e.style.transform))return i;for(var r=[],o=[],a=[],s=/(\w+)\((.+?)\)/g;r=s.exec(e);)o.push(r[1]),a.push(r[2]);return(e=t(a,(function(e,t){return o[t]===n}))).length?e[0]:i}(e,n);case"css":return c(e,n);case"attribute":return e.getAttribute(n)}return e[n]||0}function p(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=u(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function m(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var r=e.getItem(i);0<i&&(n+=m(t,r)),t=r}return n}function y(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return m({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return v(e);case"polygon":var t=e.points;return v(e)+m(t.getItem(t.numberOfItems-1),t.getItem(0))}}function g(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var i=n(),r=n(-1),o=n(1);switch(e.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function b(e,t){var n,i=/-?\d*\.?\d+/g;if(n=O.pth(e)?e.totalLength:e,O.col(n))if(O.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=O.hex(n)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+",1)"}(n):O.hsl(n)?function(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;if(n=n[4]||1,0==i)r=i=e=r;else{var o=.5>r?r*(1+i):r+i-r*i,a=2*r-o;r=t(a,o,e+1/3),i=t(a,o,e),e=t(a,o,e-1/3)}return"rgba("+255*r+","+255*i+","+255*e+","+n+")"}(n):void 0;else r=(r=u(n))?n.substr(0,n.length-r.length):n,n=t&&!/\s/g.test(n)?r+t:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:O.str(e)||t?n.split(i):[]}}function w(e){return t(e=e?n(O.arr(e)?e.map(i):i(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function E(e,t){var n=o(t);if(O.arr(e)){var r=e.length;2!==r||O.obj(e[0])?O.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}return i(e).map((function(e,n){return n=n?0:t.delay,e=O.obj(e)&&!O.pth(e)?e:{value:e},O.und(e.delay)&&(e.delay=n),e})).map((function(e){return s(e,n)}))}function _(e,t){var n;return e.tweens.map((function(i){var r=(i=function(e,t){var n,i={};for(n in e){var r=l(e[n],t);O.arr(r)&&1===(r=r.map((function(e){return l(e,t)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,t)).value,o=f(t.target,e.name),a=n?n.to.original:o,s=(a=O.arr(r)?r[0]:a,p(O.arr(r)?r[1]:r,a));return o=u(s)||u(a)||u(o),i.from=b(a,o),i.to=b(s,o),i.start=n?n.end:e.offset,i.end=i.start+i.delay+i.duration,i.easing=function(e){return O.arr(e)?x.apply(this,e):N[e]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=O.pth(r),i.isColor=O.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function k(e,t,n,i){var r="delay"===e;return t.length?(r?Math.min:Math.max).apply(Math,t.map((function(t){return t[e]}))):r?i.delay:n.offset+i.delay+i.duration}function T(e){var i,r=a(I,e),o=a(D,e),u=function(e){var t=w(e);return t.map((function(e,n){return{target:e,id:n,total:t.length}}))}(e.targets),l=[],c=s(r,o);for(i in e)c.hasOwnProperty(i)||"targets"===i||l.push({name:i,offset:c.offset,tweens:E(e[i],o)});return e=function(e,i){return t(n(e.map((function(e){return i.map((function(t){var n=h(e.target,t.name);if(n){var i=_(t,e);t={type:n,property:t.name,animatable:e,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else t=void 0;return t}))}))),(function(e){return!O.und(e)}))}(u,l),s(r,{children:[],animatables:u,animations:e,duration:k("duration",e,r,o),delay:k("delay",e,r,o)})}function S(e){function n(){return window.Promise&&new Promise((function(e){return d=e}))}function i(e){return p.reversed?p.duration-e:e}function r(e){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var a=r[n],s=a.animatable,u=(l=a.tweens)[f=l.length-1];f&&(u=t(l,(function(t){return e<t.end}))[0]||u);for(var l=Math.min(Math.max(e-u.start-u.delay,0),u.duration)/u.duration,h=isNaN(l)?1:u.easing(l,u.elasticity),d=(l=u.to.strings,u.round),f=[],m=void 0,v=(m=u.to.numbers.length,0);v<m;v++){var y=void 0,b=(y=u.to.numbers[v],u.from.numbers[v]);y=u.isPath?g(u.value,h*y):b+h*(y-b),d&&(u.isColor&&2<v||(y=Math.round(y*d)/d)),f.push(y)}if(u=l.length)for(m=l[0],h=0;h<u;h++)d=l[h+1],v=f[h],isNaN(v)||(m=d?m+(v+d):m+(v+" "));else m=f[0];M[a.type](s.target,a.property,m,i,s.id),a.currentValue=m,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)C||(C=c(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[C]=i[r].join(" ");p.currentTime=e,p.progress=e/p.duration*100}function o(e){p[e]&&p[e](p)}function a(){p.remaining&&!0!==p.remaining&&p.remaining--}function s(e){var t=p.duration,s=p.offset,c=s+p.delay,m=p.currentTime,v=p.reversed,y=i(e);if(p.children.length){var g=p.children,b=g.length;if(y>=p.currentTime)for(var w=0;w<b;w++)g[w].seek(y);else for(;b--;)g[b].seek(y)}(y>=c||!t)&&(p.began||(p.began=!0,o("begin")),o("run")),y>s&&y<t?r(y):(y<=s&&0!==m&&(r(0),v&&a()),(y>=t&&m!==t||!t)&&(r(t),v||a())),o("update"),e>=t&&(p.remaining?(l=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(d(),f=n()))),h=0)}e=void 0===e?{}:e;var u,l,h=0,d=null,f=n(),p=T(e);return p.reset=function(){var e=p.direction,t=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===e,p.remaining="alternate"===e&&1===t?2:t,r(0),e=p.children.length;e--;)p.children[e].reset()},p.tick=function(e){u=e,l||(l=u),s((h+u-l)*S.speed)},p.seek=function(e){s(i(e))},p.pause=function(){var e=R.indexOf(p);-1<e&&R.splice(e,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,l=0,h=i(p.currentTime),R.push(p),L||P())},p.reverse=function(){p.reversed=!p.reversed,l=0,h=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=f,p.reset(),p.autoplay&&p.play(),p}var C,I={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},D={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},A="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),O={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return O.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||O.svg(e)},str:function(e){return"string"===typeof e},fnc:function(e){return"function"===typeof e},und:function(e){return"undefined"===typeof e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return O.hex(e)||O.rgb(e)||O.hsl(e)}},x=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,i,r){if(0<=t&&1>=t&&0<=i&&1>=i){var o=new Float32Array(11);if(t!==n||i!==r)for(var a=0;11>a;++a)o[a]=e(.1*a,t,i);return function(a){if(t===n&&i===r)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&o[u]<=a;++u)s+=.1;u=s+(a-o[--u])/(o[u+1]-o[u])*.1;var l=3*(1-3*i+3*t)*u*u+2*(3*i-6*t)*u+3*t;if(.001<=l){for(s=0;4>s&&0!==(l=3*(1-3*i+3*t)*u*u+2*(3*i-6*t)*u+3*t);++s){var c=e(u,t,i)-a;u-=c/l}a=u}else if(0===l)a=u;else{u=s,s+=.1;var h=0;do{0<(l=e(c=u+(s-u)/2,t,i)-a)?s=c:u=c}while(1e-7<Math.abs(l)&&10>++h);a=c}return e(a,n,r)}}}}(),N=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return.5>t?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},r={linear:x(.25,.25,.75,.75)},o={};for(t in i)o.type=t,i[o.type].forEach(function(e){return function(t,i){r["ease"+e.type+n[i]]=O.fnc(t)?t:x.apply(d,t)}}(o)),o={type:o.type};return r}(),M={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){i[r]||(i[r]=[]),i[r].push(t+"("+n+")")}},R=[],L=0,P=function(){function e(){L=requestAnimationFrame(t)}function t(t){var n=R.length;if(n){for(var i=0;i<n;)R[i]&&R[i].tick(t),i++;e()}else cancelAnimationFrame(L),L=0}return e}();return S.version="2.2.0",S.speed=1,S.running=R,S.remove=function(e){e=w(e);for(var t=R.length;t--;)for(var n=R[t],i=n.animations,o=i.length;o--;)r(e,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},S.getValue=f,S.path=function(t,n){var i=O.str(t)?e(t)[0]:t,r=n||100;return function(e){return{el:i,property:e,totalLength:y(i)*(r/100)}}},S.setDashoffset=function(e){var t=y(e);return e.setAttribute("stroke-dasharray",t),t},S.bezier=x,S.easings=N,S.timeline=function(e){var t=S(e);return t.pause(),t.duration=0,t.add=function(n){return t.children.forEach((function(e){e.began=!0,e.completed=!0})),i(n).forEach((function(n){var i=s(n,a(D,e||{}));i.targets=i.targets||e.targets,n=t.duration;var r=i.offset;i.autoplay=!1,i.direction=t.direction,i.offset=O.und(r)?n:p(r,n),t.began=!0,t.completed=!0,t.seek(i.offset),(i=S(i)).began=!0,i.completed=!0,i.duration>n&&(t.duration=i.duration),t.children.push(i)})),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},S.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},S}(),function(e,t){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));i.el.M_Collapsible=i,i.options=e.extend({},l.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var r=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?r.first().css("display","block"):r.css("display","block"),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(t){var n=e(t.target).closest(".collapsible-header");if(t.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),a=r[0].classList.contains("active"),s=o.index(r);a?this.close(s):this.open(s)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),a=r.css("padding-bottom"),s=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),t({targets:r[0],height:s,paddingTop:o,paddingBottom:a,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var r=i.children(".collapsible-body");t.remove(r[0]),r.css("overflow","hidden"),t({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length&&!i[0].classList.contains("active")){if("function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(t){var i=r.index(e(t));n.close(i)}))}i[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return n}}]),l}(l);M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Dropdown=i,l._dropdowns.push(i),i.id=M.getIdFromTrigger(t),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=e(i.dropdownEl),i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?e(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),l._dropdowns.splice(l._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var n=t.toElement||t.relatedTarget,i=!!e(n).closest(".dropdown-content").length,r=!1,o=e(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(t){var n=this,i=e(t.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){e(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"===typeof this.options.onItemClick){var n=e(t.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=e(n).find("a, button").first();i.length?i[0].click():n.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var r=t.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,a=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){a=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);a&&(this.focusedIndex=o,this._focusFocusedItem())}var s=String.fromCharCode(t.which).toLowerCase();if(s&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(s);var u=this.filterQuery.join(""),l=e(this.dropdownEl).find("li").filter((function(t){return 0===e(t).text().toLowerCase().indexOf(u)}))[0];l&&(this.focusedIndex=e(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each((function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,i=t.width,r=e.left-t.left,o=e.top-t.top,a={left:r,top:o,height:n,width:i},s=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,u=M.checkPossibleAlignments(this.el,s,a,this.options.coverTrigger?0:e.height),l="top",c=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,u.top||(u.bottom?l="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(l="bottom",n+=u.spaceOnTop,o-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[c]){var h="left"===c?"right":"left";u[h]?c=h:u.spaceOnLeft>u.spaceOnRight?(c="right",i+=u.spaceOnLeft,r-=u.spaceOnLeft):(c="left",i+=u.spaceOnRight)}return"bottom"===l&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===c&&(r=r-t.width+e.width),{x:r,y:o,verticalAlignment:l,horizontalAlignment:c,height:n,width:i}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){if(e.options.autoFocus&&e.dropdownEl.focus(),"function"===typeof e.options.onOpenEnd){var n=t.animatables[0].target;e.options.onOpenEnd.call(n,e.el)}}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){if(e._resetDropdownStyles(),"function"===typeof e.options.onCloseEnd){t.animatables[0].target;e.options.onCloseEnd.call(e,e.el)}}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return n}}]),l}(l);i._dropdowns=[],window.M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Modal=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=e('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,l._count++,i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){l._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===l._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===l._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){e(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==l._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"===typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:0,opacity:1}),t(i)):(e.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(i))}},{key:"_animateOut",value:function(){var n=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"===typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:"-100%",opacity:0}),t(i)):(e.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(i))}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,l._modalsOpen++,this._nthModalOpened=l._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*l._modalsOpen,this.el.style.zIndex=1e3+2*l._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,l._modalsOpen--,this._nthModalOpened=0,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===l._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return n}}]),l}(l);i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(e,t){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Materialbox=i,i.options=e.extend({},l.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=e("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();for(var t=this.placeholder[0].parentNode;null!==t&&!e(t).is(document);){var n=e(t);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),t(n)}},{key:"_animateImageOut",value:function(){var e=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,a=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>a?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return n}}]),l}(l);M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(e){"use strict";var t={responsiveThreshold:0},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Parallax=r,r.options=e.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){this.complete&&e(this).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return s(i,n),o(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,a=t*((r+o-i)/(e+o));this._enabled?n>r&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+a+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<i._parallaxes.length;e++){var t=i._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),i}(l);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(e,t){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Tabs=i,i.options=e.extend({},l.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var n=this,i=e(t.target).closest("li.tab"),r=e(t.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))t.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=e(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var a=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"===typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"===typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(a),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout((function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=e();this.$tabLinks.each((function(t){var i=e(M.escapeHash(t.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=e('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=t.index;t.index=e(n).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(i),"function"===typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var n=0,i=0;this.index-e>=0?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(r)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return n}}]),l}(l);window.M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(e,t){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Tooltip=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){e.isHovered||e.isFocused||e._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(t.isHovered||t.isFocused||e)&&t._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,n=this.el,i=this.tooltipEl,r=n.offsetHeight,o=n.offsetWidth,a=i.offsetHeight,s=i.offsetWidth,u=this.options.margin,l=void 0,c=void 0;this.xMovement=0,this.yMovement=0,l=n.getBoundingClientRect().top+M.getDocumentScrollTop(),c=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(l+=-a-u,c+=o/2-s/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(l+=r/2-a/2,c+=o+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(l+=r/2-a/2,c+=-s-u,this.xMovement=-this.options.transitionMovement):(l+=r+u,c+=o/2-s/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(c,l,s,a),e(i).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),a=e-r,s=t-o,u={left:a,top:s,width:n,height:i},l=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,u,l);return c.left?a=l:c.right&&(a-=a+n-window.innerWidth),c.top?s=l:c.bottom&&(s-=s+i-window.innerHeight),{x:a+r,y:s+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return n}}]),l}(l);M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(e){"use strict";var t=t||{},n=document.querySelectorAll.bind(document);function i(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}var r={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var a=function(e){var t,n,i={top:0,left:0},r=e&&e.ownerDocument;return t=r.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(i=e.getBoundingClientRect()),n=function(e){return null!==(t=e)&&t===t.window?e:9===e.nodeType&&e.defaultView;var t}(r),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}}(n),s=e.pageY-a.top,u=e.pageX-a.left,l="scale("+n.clientWidth/100*10+")";"touches"in e&&(s=e.touches[0].pageY-a.top,u=e.touches[0].pageX-a.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",l),o.setAttribute("data-x",u),o.setAttribute("data-y",s);var c={top:s+"px",left:u+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(c)),o.className=o.className.replace("waves-notransition",""),c["-webkit-transform"]=l,c["-moz-transform"]=l,c["-ms-transform"]=l,c["-o-transform"]=l,c.transform=l,c.opacity="1",c["-webkit-transition-duration"]=r.duration+"ms",c["-moz-transition-duration"]=r.duration+"ms",c["-o-transition-duration"]=r.duration+"ms",c["transition-duration"]=r.duration+"ms",c["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",c["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(c))},hide:function(e){o.touchup(e);var t=this,n=(t.clientWidth,null),a=t.getElementsByClassName("waves-ripple");if(!(a.length>0))return!1;var s=(n=a[a.length-1]).getAttribute("data-x"),u=n.getAttribute("data-y"),l=n.getAttribute("data-scale"),c=350-(Date.now()-Number(n.getAttribute("data-hold")));c<0&&(c=0),setTimeout((function(){var o={top:u+"px",left:s+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l};n.setAttribute("style",i(o)),setTimeout((function(){try{t.removeChild(n)}catch(e){return!1}}),r.duration)}),c)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},o={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?o.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){o.touches>0&&(o.touches-=1)}),500):"mousedown"===e.type&&o.touches>0&&(t=!1),t},touchup:function(e){o.allowEvent(e)}};function a(t){var n=function(e){if(!1===o.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}(t);null!==n&&(r.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}t.displayEffect=function(t){"duration"in(t=t||{})&&(r.duration=t.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("mousedown",a,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(r.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",a,!1),t.addEventListener("mousedown",a,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",(function(){t.displayEffect()}),!1)}(window),function(e,t){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(t){u(this,i),this.options=e.extend({},i.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=e(n),this._animateIn(),this._setTimer()}return o(i,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"===typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"===typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"===typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,i._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()}),20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"===typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),i._toasts.splice(i._toasts.indexOf(e),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",i._onDragStart),e.addEventListener("touchmove",i._onDragMove),e.addEventListener("touchend",i._onDragEnd),e.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(e),i._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),e(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var n=e(t.target).closest(".toast")[0].M_Toast;n.panning=!0,i._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(t),n.time=Date.now(),n.xPos=i._xPos(t)}}},{key:"_onDragMove",value:function(e){if(i._draggedToast){e.preventDefault();var t=i._draggedToast;t.deltaX=Math.abs(t.xPos-i._xPos(e)),t.xPos=i._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,r=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var e=i._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>n||e.velocityX>1?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in i._toasts)i._toasts[e].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(e){return new i(e)}}(cash,M.anime),function(e,t){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),l._sidenavs.push(i),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=l._sidenavs.indexOf(this);e>=0&&l._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===l._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===l._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-trigger");if(t.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),t.preventDefault()}}},{key:"_startDrag",value:function(e){var n=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var i=t,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var i=-t;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){e(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"===typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"===typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"===typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(n._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return n}}]),l}(l);i._sidenavs=[],window.M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_ScrollSpy=i,i.options=e.extend({},l.defaults,n),l._elements.push(i),l._count++,l._increment++,i.tickId=-1,i.id=l._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return s(l,i),o(l,[{key:"destroy",value:function(){l._elements.splice(l._elements.indexOf(this),1),l._elementsInView.splice(l._elementsInView.indexOf(this),1),l._visibleElements.splice(l._visibleElements.indexOf(this.$el),1),l._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===l._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===l._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=e(n.target),r=l._elements.length-1;r>=0;r--){var o=l._elements[r];if(i.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var a=o.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:a-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){l._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,r=l._findElements(e,n,i,t),o=0;o<r.length;o++){var a=r[o];a.tickId<0&&a._enter(),a.tickId=l._ticks}for(var s=0;s<l._elementsInView.length;s++){var u=l._elementsInView[s],c=u.tickId;c>=0&&c!==l._ticks&&(u._exit(),u.tickId=-1)}l._elementsInView=r}},{key:"_enter",value:function(){l._visibleElements=l._visibleElements.filter((function(e){return 0!=e.height()})),l._visibleElements[0]?(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements[0][0].M_ScrollSpy&&this.id<l._visibleElements[0][0].M_ScrollSpy.id?l._visibleElements.unshift(this.$el):l._visibleElements.push(this.$el)):l._visibleElements.push(this.$el),e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;l._visibleElements=l._visibleElements.filter((function(e){return 0!=e.height()})),l._visibleElements[0]&&(e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),l._visibleElements=l._visibleElements.filter((function(e){return e.attr("id")!=t.$el.attr("id")})),l._visibleElements[0]&&e(this.options.getActiveElement(l._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var r=[],o=0;o<l._elements.length;o++){var a=l._elements[o],s=e+a.options.scrollOffset||200;if(a.$el.height()>0){var u=a.$el.offset().top,c=a.$el.offset().left,h=c+a.$el.width(),d=u+a.$el.height();!(c>t||h<i||u>n||d<s)&&r.push(a)}}return r}},{key:"defaults",get:function(){return n}}]),l}(l);i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Autocomplete=r,r.options=e.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=e(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),"undefined"!==typeof window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){t.selectOption(e(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(i._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){i._keydown=!0;var n=t.keyCode,r=void 0,o=e(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(r=e(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),t.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(t.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var n=t.find("img"),i=t.text().toLowerCase().indexOf(""+e.toLowerCase()),r=i+e.length-1,o=t.text().slice(0,i),a=t.text().slice(i,r+1),s=t.text().slice(r+1);t.html("<span>"+o+"<span class='highlight'>"+a+"</span>"+s+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"===typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,n){var i=this;this._resetAutocomplete();var r=[];for(var o in t)if(t.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var a={data:t[o],key:o};r.push(a),this.count++}if(this.options.sortFunction){r.sort((function(e,t){return i.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())}))}for(var s=0;s<r.length;s++){var u=r[s],l=e("<li></li>");u.data?l.append('<img src="'+u.data+'" class="right circle"><span>'+u.key+"</span>"):l.append("<span>"+u.key+"</span>"),e(this.container).append(l),this._highlight(n,l)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),i}(l);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,n){var i=e(this);t.value.length>0||e(t).is(":focus")||t.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):t.validity?i.siblings("label").toggleClass("active",!0===t.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),i=e[0].value.length;0!==i||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&i<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var n=e(".hiddendiv").first();n.length||(n=e('<div class="hiddendiv common"></div>'),e("body").append(n));var i=t.css("font-family"),r=t.css("font-size"),o=t.css("line-height"),a=t.css("padding-top"),s=t.css("padding-right"),u=t.css("padding-bottom"),l=t.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),o&&n.css("line-height",o),a&&n.css("padding-top",a),s&&n.css("padding-right",s),u&&n.css("padding-bottom",u),l&&n.css("padding-left",l),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(t[0].value+"\n");var c=n.html().replace(/\n/g,"<br>");n.html(c),t[0].offsetWidth>0&&t[0].offsetHeight>0?n.css("width",t.width()+"px"):n.css("width",window.innerWidth/2+"px"),t.data("original-height")<=n.innerHeight()?t.css("height",n.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,(function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))})),e(document).ready((function(){M.updateTextFields()})),e(document).on("reset",(function(n){var i=e(n.target);i.is("form")&&(i.find(t).removeClass("valid").removeClass("invalid"),i.find(t).each((function(t){this.value.length&&e(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&e(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){e(n.target).is(t)&&e(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=e(n.target);if(i.is(t)){var r=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}}),!0);e(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return e(this).addClass("tabbed"),void e(this).one("blur",(function(t){e(this).removeClass("tabbed")}))}));e(".materialize-textarea").each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),e(document).on("keyup",".materialize-textarea",(function(){M.textareaAutoResize(e(this))})),e(document).on("keydown",".materialize-textarea",(function(){M.textareaAutoResize(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field").find("input.file-path"),n=e(this)[0].files,i=[],r=0;r<n.length;r++)i.push(n[r].name);t[0].value=i.join(", "),t.trigger("change")}))}))}(cash),function(e,t){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function l(n,i){u(this,l);var r=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,n,i));return r.el.M_Slider=r,r.options=e.extend({},l.defaults,i),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(t){return e(t).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(e){r._animateCaptionIn(e,0)})),r.$slides.find("img").each((function(t){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==n&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",n))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),t({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(e){t({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return s(l,i),o(l,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(t){t.addEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each((function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(t){var n=e(t.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};e(n).hasClass("center-align")?r.translateY=-100:e(n).hasClass("right-align")?r.translateX=100:e(n).hasClass("left-align")&&(r.translateX=-100),t(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=e('<li class="indicator-item"></li>');t.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var n=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return n}}]),l}(l);M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",(function(n){if(e(this).children(".card-reveal").length){var i=e(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=e(this).find(".card-reveal");e(n.target).is(e(".card-reveal .card-title"))||e(n.target).is(e(".card-reveal .card-title i"))?t({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;e(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(e(n.target).is(e(".card .activator"))||e(n.target).is(e(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),t({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(e){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Chips=r,r.options=e.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=e(),r._setupInput(),r.hasAutocomplete=Object.keys(r.options.autocompleteOptions).length>0,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return s(i,n),o(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var n=e(t.target).closest(".chip"),i=e(t.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(i._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=t.tag,n.setAttribute("tabindex",0),e(i).addClass("material-icons close"),i.textContent="close",t.image){var r=document.createElement("img");r.setAttribute("src",t.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(t);this.$chips.add(n),this.chipsData.push(t),e(this.$input).before(n),this._setPlaceholder(),"function"===typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(t){var n=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter((function(t){return e(t).index()>=0})),this.chipsData.splice(t,1),this._setPlaceholder(),"function"===typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);this._selectedChip=t,t[0].focus(),"function"===typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(t){i._keydown=!0;var n=e(t.target).closest(".chips"),r=t.target&&n.length;if(!e(t.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var a=o.chipsData.length;if(o._selectedChip){var s=o._selectedChip.index();o.deleteChip(s),o._selectedChip=null,a=Math.max(s-1,0)}o.chipsData.length&&o.selectChip(a)}else if(37===t.keyCode){if(o._selectedChip){var u=o._selectedChip.index()-1;if(u<0)return;o.selectChip(u)}}else if(39===t.keyCode&&o._selectedChip){var l=o._selectedChip.index()+1;l>=o.chipsData.length?o.$input[0].focus():o.selectChip(l)}}}},{key:"_handleChipsKeyup",value:function(e){i._keydown=!1}},{key:"_handleChipsBlur",value:function(t){i._keydown||(e(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),i}(l);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),e(document).ready((function(){e(document.body).on("click",".chip .close",(function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()}))}))}(cash),function(e){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Pushpin=r,r.options=e.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return s(i,n),o(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=i._pushpins.indexOf(this);i._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"===typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in i._pushpins){i._pushpins[e]._updatePosition()}}},{key:"defaults",get:function(){return t}}]),i}(l);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(e,t){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_FloatingActionButton=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){t({targets:i,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each((function(n){t.remove(n),t({targets:n,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var t,n=this,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),a=e('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(a),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,t=i/a[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),a.css({"background-color":s}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":s}),a.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout((function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),l}(l);M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){"use strict";var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));r.el.M_Datepicker=r,r.options=e.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"===typeof n.i18n&&(r.options.i18n=e.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var o=r.options.defaultDate;return i._isDate(o)?r.options.setDefaultDate?(r.setDate(o,!0),r.setInputValue()):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,i._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(e){return t.formats[e]?t.formats[e]():e})).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"===typeof e&&(e=new Date(Date.parse(e))),i._isDate(e)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&e<n?e=n:i._isDate(r)&&e>r&&(e=r),this.date=new Date(e.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!==typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=i._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],r=t.monthsShort[e.getMonth()],o=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(e){var t=!0;if(i._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=o<n.getTime()||r.getTime()<o}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var r=this.options,o=new Date,a=i._getDaysInMonth(e,t),s=new Date(e,t,1).getDay(),u=[],l=[];i._setToStartOfDay(o),r.firstDay>0&&(s-=r.firstDay)<0&&(s+=7);for(var c=0===t?11:t-1,h=11===t?0:t+1,d=0===t?e-1:e,f=11===t?e+1:e,p=i._getDaysInMonth(d,c),m=a+s,v=m;v>7;)v-=7;m+=7-v;for(var y=!1,g=0,b=0;g<m;g++){var w=new Date(e,t,g-s+1),E=!!i._isDate(this.date)&&i._compareDates(w,this.date),_=i._compareDates(w,o),k=-1!==r.events.indexOf(w.toDateString()),T=g<s||g>=a+s,S=g-s+1,C=t,I=e,D=r.startRange&&i._compareDates(r.startRange,w),A=r.endRange&&i._compareDates(r.endRange,w),O=r.startRange&&r.endRange&&r.startRange<w&&w<r.endRange;T&&(g<s?(S=p+S,C=c,I=d):(S-=a,C=h,I=f));var x={day:S,month:C,year:I,hasEvent:k,isSelected:E,isToday:_,isDisabled:r.minDate&&w<r.minDate||r.maxDate&&w>r.maxDate||r.disableWeekends&&i._isWeekend(w)||r.disableDayFn&&r.disableDayFn(w),isEmpty:T,isStartRange:D,isEndRange:A,isInRange:O,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};l.push(this.renderDay(x)),7===++b&&(u.push(this.renderRow(l,r.isRTL,y)),l=[],b=0,y=!1)}return this.renderTable(r,u,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,n,i,r,o,a){var s,u,l=void 0,c=void 0,h=void 0,d=this.options,f=i===d.minYear,p=i===d.maxYear,m='<div id="'+a+'" class="datepicker-controls" role="heading" aria-live="assertive">',v=!0,y=!0;for(h=[],l=0;l<12;l++)h.push('<option value="'+(i===o?l-n:12+l-n)+'"'+(l===r?' selected="selected"':"")+(f&&l<d.minMonth||p&&l>d.maxMonth?'disabled="disabled"':"")+">"+d.i18n.months[l]+"</option>");for(s='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",e.isArray(d.yearRange)?(l=d.yearRange[0],c=d.yearRange[1]+1):(l=i-d.yearRange,c=1+i+d.yearRange),h=[];l<c&&l<=d.maxYear;l++)l>=d.minYear&&h.push('<option value="'+l+'" '+(l===i?'selected="selected"':"")+">"+l+"</option>");u='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>";m+='<button class="month-prev'+(v?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',m+='<div class="selects-container">',d.showMonthAfterYear?m+=u+s:m+=s+u,m+="</div>",f&&(0===r||d.minMonth>=r)&&(v=!1),p&&(11===r||d.maxMonth<=r)&&(y=!1);return(m+='<button class="month-next'+(y?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,a=n.maxMonth,s="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(a)&&this._m>a&&(this._m=a)),t="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),s+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,t)+this.render(this.calendars[u].year,this.calendars[u].month,t);this.destroySelects(),this.calendarEl.innerHTML=s;var l=this.calendarEl.querySelector(".orig-select-year"),c=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(l,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(c,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),l.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"===typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var n=e(t.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"===typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"===typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){i._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,i._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4===0&&e%100!==0||e%400===0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){i._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),i}(l);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(e){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Timepicker=r,r.options=e.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n=t.left,r=t.top;this.x0=n+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var o=i._Pos(e);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=i._Pos(e),n=t.x-this.x0,r=t.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var n=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(t),o=r.x-this.x0,a=r.y-this.y0;this.moved&&o===this.dx&&a===this.dy&&this.setHand(o,a),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"===typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"===typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var n=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+e+","+e+")");var a=i._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bearing"),a.setAttribute("cx",0),a.setAttribute("cy",0),a.setAttribute("r",4);var s=i._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var u=i._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",t),o.appendChild(s),o.appendChild(u),o.appendChild(a),r.appendChild(o),this._canvas.appendChild(r),this.hand=s,this.bg=u,this.bearing=a,this.g=o}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=t.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var a=0;a<24;a+=1){var s=t.clone(),u=a/6*Math.PI,l=a>0&&a<13?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(u)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*l-this.options.tickRadius+"px"}),s.html(0===a?"00":a),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=t.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(t){var n=e(t.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&"undefined"!==typeof e[1]&&(e[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=e[0]>=12&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,n){"minutes"===t&&e(this.hoursView).css("visibility");var i="hours"===t,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",i),e(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),e(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){e(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(t){var n=this.currentView,i=this[n],r="hours"===n,o=i*(Math.PI/(r?6:30)),a=r&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,s=Math.sin(o)*a,u=-Math.cos(o)*a,l=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){e(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(s,u)}),t)):this.setHand(s,u)}},{key:"setHand",value:function(e,t,n){var r=this,o=Math.atan2(e,-t),a="hours"===this.currentView,s=Math.PI/(a||n?6:30),u=Math.sqrt(e*e+t*t),l=a&&u<(this.options.outerRadius+this.options.innerRadius)/2,c=l?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(c=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/s);o=h*s,this.options.twelveHour?a?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):a?(12===h&&(h=0),h=l?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=h,a?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=i._addLeadingZero(h);var d=Math.sin(o)*(c-this.options.tickRadius),f=-Math.cos(o)*(c-this.options.tickRadius),p=Math.sin(o)*c,m=-Math.cos(o)*c;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",m)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,r=t?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!t&&this.options.twelveHour&&(r=r+" "+this.amOrPm),this.el.value=r,r!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),i}(l);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(e){"use strict";var t={},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_CharacterCounter=r,r.options=e.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=t;var i=n;t&&(i+="/"+t,this._validateInput()),e(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),i}(l);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(e){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_Carousel=r,r.options=e.extend({},i.defaults,n),r.hasMultipleSlides=r.$el.find(".carousel-item").length>1,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=e('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(t,n){if(r.images.push(t),r.showIndicators){var i=e('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return"undefined"===typeof document.body.style[t]||(r.xform=t,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),"undefined"!==typeof window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(t,n){t.addEventListener("click",e._handleIndicatorClickBound)})));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;"undefined"!==typeof window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(t,n){t.removeEventListener("click",e._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,i=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),i=this.reference-t,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+i));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var n=e(t.target).closest(".carousel-item").index();0!==this._wrap(this.center)-n&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var n=e(t.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(r>0)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,a=i[0].naturalHeight,s=this.$el.width()/o*a;this.$el.css("height",s+"px")}}else i.one("load",(function(e,n){t.$el.css("height",e.offsetHeight+"px")}));else if(!e){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,n,i;t=(e=Date.now())-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+t),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,(t=this.amplitude*Math.exp(-e/this.options.duration))>2||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,o,a,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"===typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),a=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(l="translateX(0)",d=1):(l="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",l+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*a),this.showIndicators){var m=this.center%this.count,v=this.$indicators.find(".indicator-item.active");v.index()!==m&&(v.removeClass("active"),this.$indicators.find(".indicator-item").eq(m)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)],e(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var y=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*a*s+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(u,d,0,y)}for(s=1;s<=i;++s){if(this.options.fullWidth?(c=this.options.dist,h=s===i&&r<0?1-a:1):(c=this.options.dist*(2*s+a*o),h=1-p*(2*s+a*o)),!this.noWrap||this.center+s<this.count){u=this.images[this._wrap(this.center+s)];var g=l+" translateX("+(this.options.shift+(this.dim*s-r)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-s,g)}if(this.options.fullWidth?(c=this.options.dist,h=s===i&&r>0?1-a:1):(c=this.options.dist*(2*s-a*o),h=1-p*(2*s-a*o)),!this.noWrap||this.center-s>=0){u=this.images[this._wrap(this.center-s)];var b=l+" translateX("+(-this.options.shift+(-this.dim*s-r)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(u,h,-s,b)}}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)];var w=l+" translateX("+-r/2+"px) translateX("+o*this.options.shift*a+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(u,d,0,w)}var E=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"===typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,E[0],this.dragged),"function"===typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,E[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,i){e.style[this.xform]=i,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"===typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),i}(l);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(e){"use strict";var t={onOpen:void 0,onClose:void 0},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.el.M_TapTarget=r,r.options=e.extend({},i.defaults,n),r.isOpen=!1,r.$origin=e("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var n=this.$origin.parents(),i=0;i<n.length&&!(t="fixed"==e(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),a=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,l=window.innerHeight,c=u/2,h=l/2,d=s<=c,f=s>c,p=a<=h,m=a>h,v=s>=.25*u&&s<=.75*u,y=this.$el.outerWidth(),g=this.$el.outerHeight(),b=a+o/2-g/2,w=s+r/2-y/2,E=t?"fixed":"absolute",_=v?y:y/2+r,k=g/2,T=p?g/2:0,S=d&&!v?y/2-r:0,C=r,I=m?"bottom":"top",D=2*r,A=D,O=g/2-A/2,x=y/2-D/2,N={};N.top=p?b+"px":"",N.right=f?u-w-y+"px":"",N.bottom=m?l-b-g+"px":"",N.left=d?w+"px":"",N.position=E,e(this.wrapper).css(N),e(this.contentEl).css({width:_+"px",height:k+"px",top:T+"px",right:"0px",bottom:"0px",left:S+"px",padding:C+"px",verticalAlign:I}),e(this.waveEl).css({top:O+"px",left:x+"px",width:D+"px",height:A+"px"})}},{key:"open",value:function(){this.isOpen||("function"===typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"===typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),i}(l);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(e){"use strict";var t={classes:"",dropdownOptions:{}},n=function(n){function i(t,n){u(this,i);var r=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,t,n));return r.$el.hasClass("browser-default")?a(r):(r.el.M_FormSelect=r,r.options=e.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return s(i,n),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.addEventListener("click",t._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.removeEventListener("click",t._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var n=e(t.target).closest("li")[0],i=n.id;if(!e(n).hasClass("disabled")&&!e(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=e(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(n).toggleClass("selected",r);e(this._valueDict[i].el).prop("selected")!==r&&(e(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(e(n).is("option")){var i=void 0;i=t.isMultiple?t._appendOptionWithIcon(t.$el,n,"multiple"):t._appendOptionWithIcon(t.$el,n),t._addOptionToValueDict(n,i)}else if(e(n).is("optgroup")){var r=e(n).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(e){var n=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=e.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=e(t.dropdownOptions).find(".selected").first();if(t.dropdown.isScrollable&&i.length){var r=i[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;r-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};t.id=i,r.el=e,r.optionEl=t,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",a=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,s=e("<li></li>"),u=e("<span></span>");u.html(a),s.addClass(r+" "+o),s.append(u);var l=n.getAttribute("data-icon");if(l){var c=e('<img alt="" src="'+l+'">');s.prepend(c)}return e(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(t){var n=!this._keysSelected.hasOwnProperty(t),i=e(this._valueDict[t].optionEl);return n?this._keysSelected[t]=!0:delete this._keysSelected[t],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var t=[];if(this.$el.find("option").each((function(n){if(e(n).prop("selected")){var i=e(n).text();t.push(i)}})),!t.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&t.push(n.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var n=this._valueDict[t],i=e(n.el).prop("selected");e(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(e(this.dropdownOptions),e(n.optionEl)),this._keysSelected[t]=!0):e(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,n){n&&(this.isMultiple||t.find("li.selected").removeClass("selected"),e(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),i}(l);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(e,t){"use strict";var n={},i=function(i){function l(t,n){u(this,l);var i=a(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Range=i,i.options=e.extend({},l.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return s(l,i),o(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var n=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(e(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return r(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),l}(l);M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(e("input[type=range]"))}(cash,M.anime)}).call(this,n(15))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(7),r=n(0),o=n.n(r),a=n(3),s=n(6),u=(n(16),n(2)),l=n(8),c=n(4),h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(a.c,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;o.a.Component},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var i=n(46);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,i=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=r.exec(e));){var h=n[0],d=n[1],f=n.index;if(s+=e.slice(a,f),a=f+h.length,d)s+=d[1];else{var p=e[a],m=n[2],v=n[3],y=n[4],g=n[5],b=n[6],w=n[7];s&&(i.push(s),s="");var E=null!=m&&null!=p&&p!==m,_="+"===b||"*"===b,k="?"===b||"*"===b,T=n[2]||c,S=y||g;i.push({name:v||o++,prefix:m||"",delimiter:T,optional:k,repeat:_,partial:E,asterisk:!!w,pattern:S?l(S):w?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var o="",s=n||{},u=(r||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var h,d=s[c.name];if(null==d){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(i(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=u(d[f]),!t[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!t[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function d(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)a+=u(l);else{var d=u(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+d+f+")*"),a+=f=l.optional?l.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return r||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":r&&m?"":"(?="+p+"|$)",c(new RegExp("^"+a,h(n)),t)}function f(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(f(e[r],t,n).source);return c(new RegExp("(?:"+i.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return l})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return k}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,i){t(n,i,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(t){o(t)}}function s(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function h(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";e.exports=n(47)},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(33)},function(e,t,n){"use strict";var i,r=(i=n(1))&&"object"===typeof i&&"default"in i?i.default:i;e.exports=r},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(15))},function(e,t,n){"use strict";var i=n(24),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&e(t,r,i)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!i||!i[y])&&(!m||!m[y])&&(!s||!s[y])){var g=d(n,y);try{l(t,y,g)}catch(b){}}}return t}return t}},function(e,t,n){var i;e.exports=(i=n(0),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){var i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=n.apply(null,i);a&&e.push(a)}else if("object"===o)for(var s in i)r.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}var r={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):void 0!==(i=function(){return n}.apply(t,[]))&&(e.exports=i)}()},function(e,t){e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Progress=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(8));t.Progress=i.default},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r,o=(t.prefixClass="react-sweet-progress",t.DEFAULT_TRAIL_COLOR="#efefef",t.STATUSES={ACTIVE:"active",SUCCESS:"success",ERROR:"error",DEFAULT:"default"});t.COLOR_MAP=(i(r={},o.ACTIVE,"#138ce4"),i(r,o.SUCCESS,"#049e51"),i(r,o.ERROR,"#e23f33"),r)},function(e,t){e.exports={"react-sweet-progress-line":"react-sweet-progress-line","react-sweet-progress-line-inner":"react-sweet-progress-line-inner","react-sweet-progress-line-inner-status-active":"react-sweet-progress-line-inner-status-active","active-anim":"active-anim"}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,i,r){var o=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=r;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:n,_owner:null}}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=i(s),l=i(n(0)),c=i(n(9)),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getPathStyles",value:function(){var e=this.props,t=(e.prefixClass,e.percent),n=e.strokeWidth,i=e.gapDegree,r=void 0===i?0:i,o=(e.gapPosition,50-n/2),a=-2*o,s="M 50,50 m 0,"+-o+"\n     a "+o+","+o+" 0 1 1 0,"+-a+"\n     a "+o+","+o+" 0 1 1 "+-0+","+a,u=2*Math.PI*o;return{pathString:s,trailPathStyle:{strokeDasharray:u-r+"px "+u+"px",strokeDashoffset:"-"+r/2+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},strokePathStyle:{strokeDasharray:t/100*(u-r)+"px "+u+"px",strokeDashoffset:"-"+r/2+"px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixClass,i=t.strokeWidth,a=t.strokeColor,s=t.trailColor,h=t.style,d=t.className,f=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["prefixClass","strokeWidth","strokeColor","trailColor","style","className"]),p=(0,l.default)(c.default[n+"-circle"],d),m=this.getPathStyles(),v=m.pathString,y=m.trailPathStyle,g=m.strokePathStyle;return delete f.percent,delete f.gapDegree,delete f.gapPosition,u.default.createElement("svg",r({className:p,viewBox:"0 0 100 100",style:h},f),o("path",{d:v,stroke:s,strokeWidth:i,fillOpacity:"0",style:y}),u.default.createElement("path",{d:v,stroke:a,strokeWidth:i,fillOpacity:"0",ref:function(t){e.path=t},style:g}))}}]),t}(s.Component);t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,i,r){var o=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=r;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:n,_owner:null}}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=(i(a),n(0)),u=(i(s),n(4)),l=(i(u),function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props.size?{width:this.props.size,height:this.props.size}:{width:"20px",height:"20px"};switch(this.props.name){case"success":return r("svg",{version:"1.1",viewBox:"0 0 512 512",style:e},void 0,r("path",{fill:"#049e51",d:"M489,255.9c0-0.2,0-0.5,0-0.7c0-1.6,0-3.2-0.1-4.7c0-0.9-0.1-1.8-0.1-2.8c0-0.9-0.1-1.8-0.1-2.7  c-0.1-1.1-0.1-2.2-0.2-3.3c0-0.7-0.1-1.4-0.1-2.1c-0.1-1.2-0.2-2.4-0.3-3.6c0-0.5-0.1-1.1-0.1-1.6c-0.1-1.3-0.3-2.6-0.4-4  c0-0.3-0.1-0.7-0.1-1C474.3,113.2,375.7,22.9,256,22.9S37.7,113.2,24.5,229.5c0,0.3-0.1,0.7-0.1,1c-0.1,1.3-0.3,2.6-0.4,4  c-0.1,0.5-0.1,1.1-0.1,1.6c-0.1,1.2-0.2,2.4-0.3,3.6c0,0.7-0.1,1.4-0.1,2.1c-0.1,1.1-0.1,2.2-0.2,3.3c0,0.9-0.1,1.8-0.1,2.7  c0,0.9-0.1,1.8-0.1,2.8c0,1.6-0.1,3.2-0.1,4.7c0,0.2,0,0.5,0,0.7c0,0,0,0,0,0.1s0,0,0,0.1c0,0.2,0,0.5,0,0.7c0,1.6,0,3.2,0.1,4.7  c0,0.9,0.1,1.8,0.1,2.8c0,0.9,0.1,1.8,0.1,2.7c0.1,1.1,0.1,2.2,0.2,3.3c0,0.7,0.1,1.4,0.1,2.1c0.1,1.2,0.2,2.4,0.3,3.6  c0,0.5,0.1,1.1,0.1,1.6c0.1,1.3,0.3,2.6,0.4,4c0,0.3,0.1,0.7,0.1,1C37.7,398.8,136.3,489.1,256,489.1s218.3-90.3,231.5-206.5  c0-0.3,0.1-0.7,0.1-1c0.1-1.3,0.3-2.6,0.4-4c0.1-0.5,0.1-1.1,0.1-1.6c0.1-1.2,0.2-2.4,0.3-3.6c0-0.7,0.1-1.4,0.1-2.1  c0.1-1.1,0.1-2.2,0.2-3.3c0-0.9,0.1-1.8,0.1-2.7c0-0.9,0.1-1.8,0.1-2.8c0-1.6,0.1-3.2,0.1-4.7c0-0.2,0-0.5,0-0.7  C489,256,489,256,489,255.9C489,256,489,256,489,255.9z",id:"XMLID_3_"}),r("g",{fill:"none",stroke:"#FFFFFF",strokeWidth:30,strokeMiterlimit:10},void 0,r("line",{x1:"213.6",x2:"369.7",y1:"344.2",y2:"188.2"}),r("line",{x1:"233.8",x2:"154.7",y1:"345.2",y2:"266.1"})));case"error":return r("svg",{version:"1.1",viewBox:"0 0 50 50",style:e},void 0,r("circle",{fill:"#e23f33",cx:"25",cy:"25",r:"25"}),r("polyline",{fill:"none",stroke:"#FFFFFF",strokeWidth:3,strokeLinecap:"round",strokeMiterlimit:10,points:"16,34 25,25 34,16"}),r("polyline",{fill:"none",stroke:"#FFFFFF",strokeWidth:3,strokeLinecap:"round",strokeMiterlimit:10,points:"16,16 25,25 34,34"}));default:return null}}}]),t}(a.Component));t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,i,r){var o=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=r;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:n,_owner:null}}}(),o=(i(n(1)),n(0)),a=i(o),s=i((n(3),n(4)));t.default=function(e){var t=e.prefixClass,n=e.percent,i=e.className,o=e.status,u=e.background,l=e.trailColor,c=(0,a.default)(s.default[t+"-line"],i),h=(0,a.default)(s.default[t+"-line-inner"],function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},s.default[t+"-line-inner-status-"+o],!!o));return r("div",{className:c,style:{backgroundColor:l}},void 0,r("div",{className:h,style:{width:n+"%",backgroundColor:u}}))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,i,r){var o=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=r;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:n,_owner:null}}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=(i(s),n(0)),l=i(u),c=n(3),h=i(n(10)),d=i(n(7)),f=i(n(5)),p=i(n(6)),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:e.status||c.STATUSES.ACTIVE},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getSymbolByStatus",value:function(e,t){switch(e){case c.STATUSES.SUCCESS:return o(p.default,{name:"success",size:t});case c.STATUSES.ERROR:return o(p.default,{name:"error",size:t});default:return this.props.percent+"%"}}},{key:"render",value:function(){var e,t=this.props,n=t.percent,i=t.status,a=t.theme,s=t.style,u=t.className,p=t.symbolClassName,m=t.type,v=t.width,y=t.strokeWidth;e=0===n?c.STATUSES.DEFAULT:n>=100&&!i?c.STATUSES.SUCCESS:i||c.STATUSES.ACTIVE;var g=a&&a[e],b=g?g.color:c.COLOR_MAP[e],w=g?g.trailColor:c.DEFAULT_TRAIL_COLOR;if("circle"===m){var E=v||132,_=.16*E+6,k=1.25*_,T=g&&g.symbol||this.getSymbolByStatus(e,k),S=r({width:E,height:E,fontSize:_},s),C=y||6;return o("div",{className:c.prefixClass+"-circle-outer",style:S},void 0,o(f.default,{percent:n,strokeWidth:C,strokeColor:b,trailColor:w,prefixClass:c.prefixClass,gapDegree:0,gapPosition:"top"}),o("div",{className:h.default[c.prefixClass+"-symbol-absolute"]},void 0,o("div",{className:(0,l.default)(h.default[c.prefixClass+"-symbol"],p)},void 0,T)))}var I=g&&g.symbol||this.getSymbolByStatus(e);return o("div",{className:(0,l.default)(h.default[""+c.prefixClass],u),style:s},void 0,o(d.default,{prefixClass:c.prefixClass,percent:n,status:e,background:b,trailColor:w}),o("div",{className:(0,l.default)(h.default[c.prefixClass+"-symbol"],p)},void 0,I))}}]),t}(s.Component);m.defaultProps={percent:0},t.default=m},function(e,t){e.exports={"react-sweet-progress-circle":"react-sweet-progress-circle"}},function(e,t){e.exports={"react-sweet-progress":"react-sweet-progress","react-sweet-progress-symbol":"react-sweet-progress-symbol","react-sweet-progress-symbol-absolute":"react-sweet-progress-symbol-absolute","react-sweet-progress-circle-outer":"react-sweet-progress-circle-outer"}},function(e,t,n){n(2),e.exports=n(2)}]))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(8);function r(e,t){if(null==e)return{};var n,r,o=Object(i.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},,function(e,t,n){"use strict";var i=n(22),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder");var y="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function _(){}function k(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw g(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=E.prototype;var T=k.prototype=new _;T.constructor=k,i(T,E.prototype),T.isPureReactComponent=!0;var S={current:null},C={suspense:null},I={current:null},D=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var i=void 0,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)D.call(t,i)&&!A.hasOwnProperty(i)&&(r[i]=t[i]);var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===r[i]&&(r[i]=u[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:I.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var N=/\/+/g,M=[];function R(e,t,n,i){if(M.length){var r=M.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function P(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return i(r,t,""===n?"."+B(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+B(s=t[l],l);u+=e(s,c,i,r)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+B(s,l++),i,r);else if("object"===s)throw i=""+t,g(Error(31),"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return u}(e,"",t,n)}function B(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,i,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),i.push(e))}function U(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),P(e,V,t=R(t,o,i,r)),L(t)}function q(){var e=S.current;if(null===e)throw g(Error(321));return e}var j={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return U(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;P(e,F,t=R(null,null,t,n)),L(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw g(Error(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,n){return q().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,n){return q().useReducer(e,t,n)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},Fragment:s,Profiler:l,StrictMode:u,Suspense:f,unstable_SuspenseList:p,createElement:O,cloneElement:function(e,t,n){if(null===e||void 0===e)throw g(Error(267),e);var r=void 0,a=i({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=I.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(r in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)D.call(t,r)&&!A.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(1===(r=arguments.length-2))a.children=n;else if(1<r){c=Array(r);for(var h=0;h<r;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:x,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=C.suspense;C.suspense=void 0===t?null:t;try{e()}finally{C.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:C,ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:i}},W={default:j},H=W&&j||W;e.exports=H.default||H},function(e,t,n){"use strict";var i=n(0),r=n(22),o=n(34);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!i)throw a(Error(227));var s=null,u={};function l(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!h[n]){if(!t.extractEvents)throw a(Error(97),e);for(var i in h[n]=t,n=t.eventTypes){var r=void 0,o=n[i],l=t,f=i;if(d.hasOwnProperty(f))throw a(Error(99),f);d[f]=o;var p=o.phasedRegistrationNames;if(p){for(r in p)p.hasOwnProperty(r)&&c(p[r],l,f);r=!0}else o.registrationName?(c(o.registrationName,l,f),r=!0):r=!1;if(!r)throw a(Error(98),i,e)}}}}function c(e,t,n){if(f[e])throw a(Error(100),e);f[e]=t,p[e]=t.eventTypes[n].dependencies}var h=[],d={},f={},p={};function m(e,t,n,i,r,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var v=!1,y=null,g=!1,b=null,w={onError:function(e){v=!0,y=e}};function E(e,t,n,i,r,o,a,s,u){v=!1,y=null,m.apply(w,arguments)}var _=null,k=null,T=null;function S(e,t,n){var i=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,i,r,o,s,u,l){if(E.apply(this,arguments),v){if(!v)throw a(Error(198));var c=y;v=!1,y=null,g||(g=!0,b=c)}}(i,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function I(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var D=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)S(e,t[i],n[i]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){if(null!==e&&(D=C(D,e)),e=D,D=null,e){if(I(e,A),D)throw a(Error(95));if(g)throw e=b,g=!1,b=null,e}}var x={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!u.hasOwnProperty(t)||u[t]!==i){if(u[t])throw a(Error(102),t);u[t]=i,n=!0}}n&&l()}};function N(e,t){var n=e.stateNode;if(!n)return null;var i=_(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw a(Error(231),t,typeof n);return n}var M=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+M,L="__reactEventHandlers$"+M;function P(e){if(e[R])return e[R];for(;!e[R];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[R]).tag||6===e.tag?e:null}function B(e){return!(e=e[R])||5!==e.tag&&6!==e.tag?null:e}function F(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function V(e){return e[L]||null}function U(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function q(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function j(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=U(t);for(t=n.length;0<t--;)q(n[t],"captured",e);for(t=0;t<n.length;t++)q(n[t],"bubbled",e)}}function W(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function z(e){I(e,j)}var $=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement);function K(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Q={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},G={},Y={};function X(e){if(G[e])return G[e];if(!Q[e])return e;var t,n=Q[e];for(t in n)if(n.hasOwnProperty(t)&&t in Y)return G[e]=n[t];return e}$&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);var J=X("animationend"),Z=X("animationiteration"),ee=X("animationstart"),te=X("transitionend"),ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,re=null,oe=null;function ae(){if(oe)return oe;var e,t,n=re,i=n.length,r="value"in ie?ie.value:ie.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return oe=r.slice(e,1<t?1-t:void 0)}function se(){return!0}function ue(){return!1}function le(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?se:ue,this.isPropagationStopped=ue,this}function ce(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function he(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ce,e.release=he}r(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){this.isPersistent=se},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,de(n),n},de(le);var fe=le.extend({data:null}),pe=le.extend({data:null}),me=[9,13,27,32],ve=$&&"CompositionEvent"in window,ye=null;$&&"documentMode"in document&&(ye=document.documentMode);var ge=$&&"TextEvent"in window&&!ye,be=$&&(!ve||ye&&8<ye&&11>=ye),we=String.fromCharCode(32),Ee={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_e=!1;function ke(e,t){switch(e){case"keyup":return-1!==me.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Se=!1;var Ce={eventTypes:Ee,extractEvents:function(e,t,n,i){var r=void 0,o=void 0;if(ve)e:{switch(e){case"compositionstart":r=Ee.compositionStart;break e;case"compositionend":r=Ee.compositionEnd;break e;case"compositionupdate":r=Ee.compositionUpdate;break e}r=void 0}else Se?ke(e,n)&&(r=Ee.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=Ee.compositionStart);return r?(be&&"ko"!==n.locale&&(Se||r!==Ee.compositionStart?r===Ee.compositionEnd&&Se&&(o=ae()):(re="value"in(ie=i)?ie.value:ie.textContent,Se=!0)),r=fe.getPooled(r,t,n,i),o?r.data=o:null!==(o=Te(n))&&(r.data=o),z(r),o=r):o=null,(e=ge?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(_e=!0,we);case"textInput":return(e=t.data)===we&&_e?null:e;default:return null}}(e,n):function(e,t){if(Se)return"compositionend"===e||!ve&&ke(e,t)?(e=ae(),oe=re=ie=null,Se=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return be&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(Ee.beforeInput,t,n,i)).data=e,z(t)):t=null,null===o?t:null===t?o:[o,t]}},Ie=null,De=null,Ae=null;function Oe(e){if(e=k(e)){if("function"!==typeof Ie)throw a(Error(280));var t=_(e.stateNode);Ie(e.stateNode,e.type,t)}}function xe(e){De?Ae?Ae.push(e):Ae=[e]:De=e}function Ne(){if(De){var e=De,t=Ae;if(Ae=De=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Me(e,t){return e(t)}function Re(e,t,n,i){return e(t,n,i)}function Le(){}var Pe=Me,Be=!1;function Fe(){null===De&&null===Ae||(Le(),Ne())}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ve[e.type]:"textarea"===t}function qe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function je(e){if(!$)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=We(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var $e=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;$e.hasOwnProperty("ReactCurrentDispatcher")||($e.ReactCurrentDispatcher={current:null}),$e.hasOwnProperty("ReactCurrentBatchConfig")||($e.ReactCurrentBatchConfig={suspense:null});var Ke=/^(.*)[\\\/]/,Qe="function"===typeof Symbol&&Symbol.for,Ge=Qe?Symbol.for("react.element"):60103,Ye=Qe?Symbol.for("react.portal"):60106,Xe=Qe?Symbol.for("react.fragment"):60107,Je=Qe?Symbol.for("react.strict_mode"):60108,Ze=Qe?Symbol.for("react.profiler"):60114,et=Qe?Symbol.for("react.provider"):60109,tt=Qe?Symbol.for("react.context"):60110,nt=Qe?Symbol.for("react.concurrent_mode"):60111,it=Qe?Symbol.for("react.forward_ref"):60112,rt=Qe?Symbol.for("react.suspense"):60113,ot=Qe?Symbol.for("react.suspense_list"):60120,at=Qe?Symbol.for("react.memo"):60115,st=Qe?Symbol.for("react.lazy"):60116;Qe&&Symbol.for("react.fundamental"),Qe&&Symbol.for("react.responder");var ut="function"===typeof Symbol&&Symbol.iterator;function lt(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=ut&&e[ut]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case Xe:return"Fragment";case Ye:return"Portal";case Ze:return"Profiler";case Je:return"StrictMode";case rt:return"Suspense";case ot:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case it:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case at:return ct(e.type);case st:if(e=1===e._status?e._result:null)return ct(e)}return null}function ht(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ct(e.type);n=null,i&&(n=ct(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Ke,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,pt={},mt={};function vt(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){yt[e]=new vt(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];yt[t]=new vt(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){yt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){yt[e]=new vt(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){yt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){yt[e]=new vt(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){yt[e]=new vt(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){yt[e]=new vt(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){yt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1)}));var gt=/[\-:]([a-z])/g;function bt(e){return e[1].toUpperCase()}function wt(e,t,n,i){var r=yt.hasOwnProperty(t)?yt[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!ft.call(mt,e)||!ft.call(pt,e)&&(dt.test(e)?mt[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function Et(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function kt(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Et(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Tt(e,t){null!=(t=t.checked)&&wt(e,"checked",t,!1)}function St(e,t){Tt(e,t);var n=Et(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?It(e,t.type,n):t.hasOwnProperty("defaultValue")&&It(e,t.type,Et(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ct(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function It(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(gt,bt);yt[t]=new vt(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(gt,bt);yt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(gt,bt);yt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){yt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1)})),yt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){yt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0)}));var Dt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function At(e,t,n){return(e=le.getPooled(Dt.change,e,t,n)).type="change",xe(n),z(e),e}var Ot=null,xt=null;function Nt(e){O(e)}function Mt(e){if(ze(F(e)))return e}function Rt(e,t){if("change"===e)return t}var Lt=!1;function Pt(){Ot&&(Ot.detachEvent("onpropertychange",Bt),xt=Ot=null)}function Bt(e){if("value"===e.propertyName&&Mt(xt))if(e=At(xt,e,qe(e)),Be)O(e);else{Be=!0;try{Me(Nt,e)}finally{Be=!1,Fe()}}}function Ft(e,t,n){"focus"===e?(Pt(),xt=n,(Ot=t).attachEvent("onpropertychange",Bt)):"blur"===e&&Pt()}function Vt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mt(xt)}function Ut(e,t){if("click"===e)return Mt(t)}function qt(e,t){if("input"===e||"change"===e)return Mt(t)}$&&(Lt=je("input")&&(!document.documentMode||9<document.documentMode));var jt={eventTypes:Dt,_isInputEventSupported:Lt,extractEvents:function(e,t,n,i){var r=t?F(t):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=Rt:Ue(r)?Lt?o=qt:(o=Vt,a=Ft):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ut),o&&(o=o(e,t)))return At(o,n,i);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&It(r,"number",r.value)}},Wt=le.extend({view:null,detail:null}),Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ht[e])&&!!t[e]}function $t(){return zt}var Kt=0,Qt=0,Gt=!1,Yt=!1,Xt=Wt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$t,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kt;return Kt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Qt;return Qt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),Jt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},en={eventTypes:Zt,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?P(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=Zt.mouseLeave,u=Zt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Jt,s=Zt.pointerLeave,u=Zt.pointerEnter,l="pointer");var c=null==o?r:F(o);if(r=null==t?r:F(t),(e=a.getPooled(s,o,n,i)).type=l+"leave",e.target=c,e.relatedTarget=r,(n=a.getPooled(u,t,n,i)).type=l+"enter",n.target=r,n.relatedTarget=c,i=t,o&&i)e:{for(r=i,l=0,a=t=o;a;a=U(a))l++;for(a=0,u=r;u;u=U(u))a++;for(;0<l-a;)t=U(t),l--;for(;0<a-l;)r=U(r),a--;for(;l--;){if(t===r||t===r.alternate)break e;t=U(t),r=U(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(l=o.alternate)||l!==r);)t.push(o),o=U(o);for(o=[];i&&i!==r&&(null===(l=i.alternate)||l!==r);)o.push(i),i=U(i);for(i=0;i<t.length;i++)W(t[i],"bubbled",e);for(i=o.length;0<i--;)W(o[i],"captured",n);return[e,n]}};function tn(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var nn=Object.prototype.hasOwnProperty;function rn(e,t){if(tn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!nn.call(t,n[i])||!tn(e[n[i]],t[n[i]]))return!1;return!0}function on(e,t){return{responder:e,props:t}}function an(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){if(2!==an(e))throw a(Error(188))}function un(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=an(e)))throw a(Error(188));return 1===t?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return sn(r),e;if(o===i)return sn(r),t;o=o.sibling}throw a(Error(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=o;break}if(u===i){s=!0,i=r,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=r;break}if(u===i){s=!0,i=o,n=r;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==i)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var ln=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hn=Wt.extend({relatedTarget:null});function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn=Wt.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:$t,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),vn=Xt.extend({dataTransfer:null}),yn=Wt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$t}),gn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),bn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[J,"animationEnd",2],[Z,"animationIteration",2],[ee,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[te,"transitionEnd",2],["waiting","waiting",2]],En={},_n={},kn=0;kn<wn.length;kn++){var Tn=wn[kn],Sn=Tn[0],Cn=Tn[1],In=Tn[2],Dn="on"+(Cn[0].toUpperCase()+Cn.slice(1)),An={phasedRegistrationNames:{bubbled:Dn,captured:Dn+"Capture"},dependencies:[Sn],eventPriority:In};En[Cn]=An,_n[Sn]=An}var On={eventTypes:En,getEventPriority:function(e){return void 0!==(e=_n[e])?e.eventPriority:2},extractEvents:function(e,t,n,i){var r=_n[e];if(!r)return null;switch(e){case"keypress":if(0===dn(n))return null;case"keydown":case"keyup":e=mn;break;case"blur":case"focus":e=hn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=yn;break;case J:case Z:case ee:e=ln;break;case te:e=gn;break;case"scroll":e=Wt;break;case"wheel":e=bn;break;case"copy":case"cut":case"paste":e=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=le}return z(t=e.getPooled(r,t,n,i)),t}},xn=On.getEventPriority,Nn=[];function Mn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=P(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=qe(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<h.length;s++){var u=h[s];u&&(u=u.extractEvents(i,t,o,r))&&(a=C(a,u))}O(a)}}var Rn=!0;function Ln(e,t){Pn(t,e,!1)}function Pn(e,t,n){switch(xn(t)){case 0:var i=Bn.bind(null,t,1);break;case 1:i=Fn.bind(null,t,1);break;default:i=Vn.bind(null,t,1)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Bn(e,t,n){Be||Le();var i=Vn,r=Be;Be=!0;try{Re(i,e,t,n)}finally{(Be=r)||Fe()}}function Fn(e,t,n){Vn(e,t,n)}function Vn(e,t,n){if(Rn){if(null===(t=P(t=qe(n)))||"number"!==typeof t.tag||2===an(t)||(t=null),Nn.length){var i=Nn.pop();i.topLevelType=e,i.nativeEvent=n,i.targetInst=t,e=i}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,Be)Mn(n);else{Be=!0;try{Pe(Mn,n,void 0)}finally{Be=!1,Fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Nn.length&&Nn.push(e)}}}var Un=new("function"===typeof WeakMap?WeakMap:Map);function qn(e){var t=Un.get(e);return void 0===t&&(t=new Set,Un.set(e,t)),t}function jn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Wn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hn(e,t){var n,i=Wn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wn(i)}}function zn(){for(var e=window,t=jn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=jn((e=t.contentWindow).document)}return t}function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn=$&&"documentMode"in document&&11>=document.documentMode,Qn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Yn=null,Xn=null,Jn=!1;function Zn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Jn||null==Gn||Gn!==jn(n)?null:("selectionStart"in(n=Gn)&&$n(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xn&&rn(Xn,n)?null:(Xn=n,(e=le.getPooled(Qn.select,Yn,e,t)).type="select",e.target=Gn,z(e),e))}var ei={eventTypes:Qn,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=qn(o),r=p.onSelect;for(var a=0;a<r.length;a++)if(!o.has(r[a])){o=!1;break e}o=!0}r=!o}if(r)return null;switch(o=t?F(t):window,e){case"focus":(Ue(o)||"true"===o.contentEditable)&&(Gn=o,Yn=t,Xn=null);break;case"blur":Xn=Yn=Gn=null;break;case"mousedown":Jn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Jn=!1,Zn(n,i);case"selectionchange":if(Kn)break;case"keydown":case"keyup":return Zn(n,i)}return null}};function ti(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ni(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Et(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ii(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ri(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:Et(n)}}function oi(e,t){var n=Et(t.value),i=Et(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ai(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=V,k=B,T=F,x.injectEventPluginsByName({SimpleEventPlugin:On,EnterLeaveEventPlugin:en,ChangeEventPlugin:jt,SelectEventPlugin:ei,BeforeInputEventPlugin:Ce});var si={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ui(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function li(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ui(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ci=void 0,hi=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==si.svg||"innerHTML"in e)e.innerHTML=t;else{for((ci=ci||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ci.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];function mi(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fi.hasOwnProperty(e)&&fi[e]?(""+t).trim():t+"px"}function vi(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=mi(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fi).forEach((function(e){pi.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fi[t]=fi[e]}))}));var yi=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(e,t){if(t){if(yi[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw a(Error(62),"")}}function bi(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function wi(e,t){var n=qn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.has(r)){switch(r){case"scroll":Pn(e,"scroll",!0);break;case"focus":case"blur":Pn(e,"focus",!0),Pn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":je(r)&&Pn(e,r,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ne.indexOf(r)&&Ln(r,e)}n.add(r)}}}function Ei(){}var _i=null,ki=null;function Ti(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Si(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ci="function"===typeof setTimeout?setTimeout:void 0,Ii="function"===typeof clearTimeout?clearTimeout:void 0;function Di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var Ai=[],Oi=-1;function xi(e){0>Oi||(e.current=Ai[Oi],Ai[Oi]=null,Oi--)}function Ni(e,t){Ai[++Oi]=e.current,e.current=t}var Mi={},Ri={current:Mi},Li={current:!1},Pi=Mi;function Bi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Vi(e){xi(Li),xi(Ri)}function Ui(e){xi(Li),xi(Ri)}function qi(e,t,n){if(Ri.current!==Mi)throw a(Error(168));Ni(Ri,t),Ni(Li,n)}function ji(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw a(Error(108),ct(t)||"Unknown",o);return r({},n,i)}function Wi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Mi,Pi=Ri.current,Ni(Ri,t),Ni(Li,Li.current),!0}function Hi(e,t,n){var i=e.stateNode;if(!i)throw a(Error(169));n?(t=ji(e,t,Pi),i.__reactInternalMemoizedMergedChildContext=t,xi(Li),xi(Ri),Ni(Ri,t)):xi(Li),Ni(Li,n)}var zi=o.unstable_runWithPriority,$i=o.unstable_scheduleCallback,Ki=o.unstable_cancelCallback,Qi=o.unstable_shouldYield,Gi=o.unstable_requestPaint,Yi=o.unstable_now,Xi=o.unstable_getCurrentPriorityLevel,Ji=o.unstable_ImmediatePriority,Zi=o.unstable_UserBlockingPriority,er=o.unstable_NormalPriority,tr=o.unstable_LowPriority,nr=o.unstable_IdlePriority,ir={},rr=void 0!==Gi?Gi:function(){},or=null,ar=null,sr=!1,ur=Yi(),lr=1e4>ur?Yi:function(){return Yi()-ur};function cr(){switch(Xi()){case Ji:return 99;case Zi:return 98;case er:return 97;case tr:return 96;case nr:return 95;default:throw a(Error(332))}}function hr(e){switch(e){case 99:return Ji;case 98:return Zi;case 97:return er;case 96:return tr;case 95:return nr;default:throw a(Error(332))}}function dr(e,t){return e=hr(e),zi(e,t)}function fr(e,t,n){return e=hr(e),$i(e,t,n)}function pr(e){return null===or?(or=[e],ar=$i(Ji,vr)):or.push(e),ir}function mr(){null!==ar&&Ki(ar),vr()}function vr(){if(!sr&&null!==or){sr=!0;var e=0;try{var t=or;dr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),or=null}catch(n){throw null!==or&&(or=or.slice(e+1)),$i(Ji,mr),n}finally{sr=!1}}}function yr(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function gr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var br={current:null},wr=null,Er=null,_r=null;function kr(){_r=Er=wr=null}function Tr(e,t){var n=e.type._context;Ni(br,n._currentValue),n._currentValue=t}function Sr(e){var t=br.current;xi(br),e.type._context._currentValue=t}function Cr(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ir(e,t){wr=e,_r=Er=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ha=!0),e.firstContext=null)}function Dr(e,t){if(_r!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(_r=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Er){if(null===wr)throw a(Error(308));Er=t,wr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Er=Er.next=t;return e._currentValue}var Ar=!1;function Or(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function xr(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Nr(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Mr(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Rr(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Or(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Or(e.memoizedState),r=n.updateQueue=Or(n.memoizedState)):i=e.updateQueue=xr(r):null===r&&(r=n.updateQueue=xr(i));null===r||i===r?Mr(i,t):null===i.lastUpdate||null===r.lastUpdate?(Mr(i,t),Mr(r,t)):(Mr(i,t),r.lastUpdate=t)}function Lr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Or(e.memoizedState):Pr(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Pr(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=xr(t)),t}function Br(e,t,n,i,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,i,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,i,o):e)||void 0===o)break;return r({},i,o);case 2:Ar=!0}return i}function Fr(e,t,n,i,r){Ar=!1;for(var o=(t=Pr(e,t)).baseState,a=null,s=0,u=t.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<r?(null===a&&(a=u,o=l),s<c&&(s=c)):(js(c,u.suspenseConfig),l=Br(e,0,u,l,n,i),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(c=null,u=t.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h<r?(null===c&&(c=u,null===a&&(o=l)),s<h&&(s=h)):(l=Br(e,0,u,l,n,i),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=l}function Vr(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Ur(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Ur(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Ur(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;if("function"!==typeof n)throw a(Error(191),n);n.call(i)}e=e.nextEffect}}var qr=$e.ReactCurrentBatchConfig,jr=(new i.Component).refs;function Wr(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var Hr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===an(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=As(),r=qr.suspense;(r=Nr(i=Os(i,e,r),r)).payload=t,void 0!==n&&null!==n&&(r.callback=n),Rr(e,r),Ns(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=As(),r=qr.suspense;(r=Nr(i=Os(i,e,r),r)).tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),Rr(e,r),Ns(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=As(),i=qr.suspense;(i=Nr(n=Os(n,e,i),i)).tag=2,void 0!==t&&null!==t&&(i.callback=t),Rr(e,i),Ns(e,n)}};function zr(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!rn(n,i)||!rn(r,o))}function $r(e,t,n){var i=!1,r=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=Dr(o):(r=Fi(t)?Pi:Ri.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Bi(e,r):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hr,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kr(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Hr.enqueueReplaceState(t,t.state,null)}function Qr(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=jr;var o=t.contextType;"object"===typeof o&&null!==o?r.context=Dr(o):(o=Fi(t)?Pi:Ri.current,r.context=Bi(e,o)),null!==(o=e.updateQueue)&&(Fr(e,o,n,r,i),r.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(Wr(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Hr.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Fr(e,o,n,r,i),r.state=e.memoizedState)),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var Gr=Array.isArray;function Yr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var i=void 0;if(n){if(1!==n.tag)throw a(Error(309));i=n.stateNode}if(!i)throw a(Error(147),e);var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===jr&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!==typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function Xr(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Jr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=ou(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,i){return null===t||6!==t.tag?((t=uu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Yr(e,t,n),i.return=e,i):((i=au(n.type,n.key,n.props,null,e.mode,i)).ref=Yr(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=lu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=su(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=uu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=au(t.type,t.key,t.props,null,e.mode,n)).ref=Yr(e,null,t),n.return=e,n;case Ye:return(t=lu(t,e.mode,n)).return=e,t}if(Gr(t)||lt(t))return(t=su(t,e.mode,n,null)).return=e,t;Xr(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===r?n.type===Xe?h(e,t,n.props.children,i,r):l(e,t,n,i):null;case Ye:return n.key===r?c(e,t,n,i):null}if(Gr(n)||lt(n))return null!==r?null:h(e,t,n,i,null);Xr(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return u(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Ge:return e=e.get(null===i.key?n:i.key)||null,i.type===Xe?h(t,e,i.props.children,r,i.key):l(t,e,i,r);case Ye:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Gr(i)||lt(i))return h(t,e=e.get(n)||null,i,r,null);Xr(t,i)}return null}function m(r,a,s,u){for(var l=null,c=null,h=a,m=a=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var y=f(r,h,s[m],u);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(r,h),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y,h=v}if(m===s.length)return n(r,h),l;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],u))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);m<s.length;m++)null!==(v=p(h,r,m,s[m],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(r,e)})),l}function v(r,s,u,l){var c=lt(u);if("function"!==typeof c)throw a(Error(150));if(null==(u=c.call(u)))throw a(Error(151));for(var h=c=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=f(r,m,g.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,v),null===h?c=b:h.sibling=b,h=b,m=y}if(g.done)return n(r,m),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=d(r,g.value,l))&&(s=o(g,s,v),null===h?c=g:h.sibling=g,h=g);return c}for(m=i(r,m);!g.done;v++,g=u.next())null!==(g=p(m,r,v,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===h?c=g:h.sibling=g,h=g);return e&&m.forEach((function(e){return t(r,e)})),c}return function(e,i,o,u){var l="object"===typeof o&&null!==o&&o.type===Xe&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Ge:e:{for(c=o.key,l=i;null!==l;){if(l.key===c){if(7===l.tag?o.type===Xe:l.elementType===o.type){n(e,l.sibling),(i=r(l,o.type===Xe?o.props.children:o.props)).ref=Yr(e,l,o),i.return=e,e=i;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===Xe?((i=su(o.props.children,e.mode,u,o.key)).return=e,e=i):((u=au(o.type,o.key,o.props,null,e.mode,u)).ref=Yr(e,i,o),u.return=e,e=u)}return s(e);case Ye:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=lu(o,e.mode,u)).return=e,e=i}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=uu(o,e.mode,u)).return=e,e=i),s(e);if(Gr(o))return m(e,i,o,u);if(lt(o))return v(e,i,o,u);if(c&&Xr(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,i)}}var Zr=Jr(!0),eo=Jr(!1),to={},no={current:to},io={current:to},ro={current:to};function oo(e){if(e===to)throw a(Error(174));return e}function ao(e,t){Ni(ro,t),Ni(io,e),Ni(no,to);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:li(null,"");break;default:t=li(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}xi(no),Ni(no,t)}function so(e){xi(no),xi(io),xi(ro)}function uo(e){oo(ro.current);var t=oo(no.current),n=li(t,e.type);t!==n&&(Ni(io,e),Ni(no,n))}function lo(e){io.current===e&&(xi(no),xi(io))}var co=1,ho=1,fo=2,po={current:0};function mo(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vo=0,yo=2,go=4,bo=8,wo=16,Eo=32,_o=64,ko=128,To=$e.ReactCurrentDispatcher,So=0,Co=null,Io=null,Do=null,Ao=null,Oo=null,xo=null,No=0,Mo=null,Ro=0,Lo=!1,Po=null,Bo=0;function Fo(){throw a(Error(321))}function Vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Uo(e,t,n,i,r,o){if(So=o,Co=t,Do=null!==e?e.memoizedState:null,To.current=null===Do?Zo:ea,t=n(i,r),Lo){do{Lo=!1,Bo+=1,Do=null!==e?e.memoizedState:null,xo=Ao,Mo=Oo=Io=null,To.current=ea,t=n(i,r)}while(Lo);Po=null,Bo=0}if(To.current=Jo,(e=Co).memoizedState=Ao,e.expirationTime=No,e.updateQueue=Mo,e.effectTag|=Ro,e=null!==Io&&null!==Io.next,So=0,xo=Oo=Ao=Do=Io=Co=null,No=0,Mo=null,Ro=0,e)throw a(Error(300));return t}function qo(){To.current=Jo,So=0,xo=Oo=Ao=Do=Io=Co=null,No=0,Mo=null,Ro=0,Lo=!1,Po=null,Bo=0}function jo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Oo?Ao=Oo=e:Oo=Oo.next=e,Oo}function Wo(){if(null!==xo)xo=(Oo=xo).next,Do=null!==(Io=Do)?Io.next:null;else{if(null===Do)throw a(Error(310));var e={memoizedState:(Io=Do).memoizedState,baseState:Io.baseState,queue:Io.queue,baseUpdate:Io.baseUpdate,next:null};Oo=null===Oo?Ao=e:Oo.next=e,Do=Io.next}return Oo}function Ho(e,t){return"function"===typeof t?t(e):t}function zo(e){var t=Wo(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<Bo){var i=n.dispatch;if(null!==Po){var r=Po.get(n);if(void 0!==r){Po.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return tn(o,t.memoizedState)||(ha=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,i]}}return[t.memoizedState,i]}i=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==i&&(i.next=null),i=s.next):i=null!==i?i.next:null,null!==i){var u=r=null,l=i,c=!1;do{var h=l.expirationTime;h<So?(c||(c=!0,u=s,r=o),h>No&&(No=h)):(js(h,l.suspenseConfig),o=l.eagerReducer===e?l.eagerState:e(o,l.action)),s=l,l=l.next}while(null!==l&&l!==i);c||(u=s,r=o),tn(o,t.memoizedState)||(ha=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=r,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function $o(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===Mo?(Mo={lastEffect:null}).lastEffect=e.next=e:null===(t=Mo.lastEffect)?Mo.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Mo.lastEffect=e),e}function Ko(e,t,n,i){var r=jo();Ro|=e,r.memoizedState=$o(t,n,void 0,void 0===i?null:i)}function Qo(e,t,n,i){var r=Wo();i=void 0===i?null:i;var o=void 0;if(null!==Io){var a=Io.memoizedState;if(o=a.destroy,null!==i&&Vo(i,a.deps))return void $o(vo,n,o,i)}Ro|=e,r.memoizedState=$o(t,n,o,i)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(){}function Xo(e,t,n){if(!(25>Bo))throw a(Error(301));var i=e.alternate;if(e===Co||null!==i&&i===Co)if(Lo=!0,e={expirationTime:So,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Po&&(Po=new Map),void 0===(n=Po.get(t)))Po.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=As(),o=qr.suspense;o={expirationTime:r=Os(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,c=i(l,n);if(o.eagerReducer=i,o.eagerState=c,tn(c,l))return}catch(h){}Ns(e,r)}}var Jo={readContext:Dr,useCallback:Fo,useContext:Fo,useEffect:Fo,useImperativeHandle:Fo,useLayoutEffect:Fo,useMemo:Fo,useReducer:Fo,useRef:Fo,useState:Fo,useDebugValue:Fo,useResponder:Fo},Zo={readContext:Dr,useCallback:function(e,t){return jo().memoizedState=[e,void 0===t?null:t],e},useContext:Dr,useEffect:function(e,t){return Ko(516,ko|_o,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ko(4,go|Eo,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ko(4,go|Eo,e,t)},useMemo:function(e,t){var n=jo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=jo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Xo.bind(null,Co,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},jo().memoizedState=e},useState:function(e){var t=jo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e}).dispatch=Xo.bind(null,Co,e),[t.memoizedState,e]},useDebugValue:Yo,useResponder:on},ea={readContext:Dr,useCallback:function(e,t){var n=Wo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Vo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:Dr,useEffect:function(e,t){return Qo(516,ko|_o,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qo(4,go|Eo,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4,go|Eo,e,t)},useMemo:function(e,t){var n=Wo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Vo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:zo,useRef:function(){return Wo().memoizedState},useState:function(e){return zo(Ho)},useDebugValue:Yo,useResponder:on},ta=null,na=null,ia=!1;function ra(e,t){var n=iu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function aa(e){if(ia){var t=na;if(t){var n=t;if(!oa(e,t)){if(!(t=Di(n.nextSibling))||!oa(e,t))return e.effectTag|=2,ia=!1,void(ta=e);ra(ta,n)}ta=e,na=Di(t.firstChild)}else e.effectTag|=2,ia=!1,ta=e}}function sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;ta=e}function ua(e){if(e!==ta)return!1;if(!ia)return sa(e),ia=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Si(t,e.memoizedProps))for(t=na;t;)ra(e,t),t=Di(t.nextSibling);return sa(e),na=ta?Di(e.stateNode.nextSibling):null,!0}function la(){na=ta=null,ia=!1}var ca=$e.ReactCurrentOwner,ha=!1;function da(e,t,n,i){t.child=null===e?eo(t,null,n,i):Zr(t,e.child,n,i)}function fa(e,t,n,i,r){n=n.render;var o=t.ref;return Ir(t,r),i=Uo(e,t,n,i,o,r),null===e||ha?(t.effectTag|=1,da(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Sa(e,t,r))}function pa(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!==typeof a||ru(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=au(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ma(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:rn)(r,i)&&e.ref===t.ref)?Sa(e,t,o):(t.effectTag|=1,(e=ou(a,i)).ref=t.ref,e.return=t,t.child=e)}function ma(e,t,n,i,r,o){return null!==e&&rn(e.memoizedProps,i)&&e.ref===t.ref&&(ha=!1,r<o)?Sa(e,t,o):ya(e,t,n,i,o)}function va(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ya(e,t,n,i,r){var o=Fi(n)?Pi:Ri.current;return o=Bi(t,o),Ir(t,r),n=Uo(e,t,n,i,o,r),null===e||ha?(t.effectTag|=1,da(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Sa(e,t,r))}function ga(e,t,n,i,r){if(Fi(n)){var o=!0;Wi(t)}else o=!1;if(Ir(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),$r(t,n,i),Qr(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Dr(l):l=Bi(t,l=Fi(n)?Pi:Ri.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&Kr(t,a,i,l),Ar=!1;var d=t.memoizedState;u=a.state=d;var f=t.updateQueue;null!==f&&(Fr(t,f,i,a,r),u=t.memoizedState),s!==i||d!==u||Li.current||Ar?("function"===typeof c&&(Wr(t,n,c,i),u=t.memoizedState),(s=Ar||zr(t,n,s,i,d,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=l,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:gr(t.type,s),u=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Dr(l):l=Bi(t,l=Fi(n)?Pi:Ri.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==l)&&Kr(t,a,i,l),Ar=!1,u=t.memoizedState,d=a.state=u,null!==(f=t.updateQueue)&&(Fr(t,f,i,a,r),d=t.memoizedState),s!==i||u!==d||Li.current||Ar?("function"===typeof c&&(Wr(t,n,c,i),d=t.memoizedState),(c=Ar||zr(t,n,s,i,u,d,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,l)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),i=!1);return ba(e,t,n,i,o,r)}function ba(e,t,n,i,r,o){va(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return r&&Hi(t,n,!1),Sa(e,t,o);i=t.stateNode,ca.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=Zr(t,e.child,null,o),t.child=Zr(t,null,s,o)):da(e,t,s,o),t.memoizedState=i.state,r&&Hi(t,n,!0),t.child}function wa(e){var t=e.stateNode;t.pendingContext?qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&qi(0,t.context,!1),ao(e,t.containerInfo)}var Ea={};function _a(e,t,n){var i,r=t.mode,o=t.pendingProps,a=po.current,s=null,u=!1;if((i=0!==(64&t.effectTag))||(i=0!==(a&fo)&&(null===e||null!==e.memoizedState)),i?(s=Ea,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=ho),Ni(po,a&=co),null===e)if(u){if(o=o.fallback,(e=su(null,r,0,null)).return=t,0===(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=su(o,r,n,null)).return=t,e.sibling=n,r=e}else r=n=eo(t,null,o.children,n);else{if(null!==e.memoizedState)if(r=(a=e.child).sibling,u){if(o=o.fallback,(n=ou(a,a.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(o=ou(r,o,r.expirationTime)).return=t,n.sibling=o,r=n,n.childExpirationTime=0,n=o}else r=n=Zr(t,a.child,o.children,n);else if(a=e.child,u){if(u=o.fallback,(o=su(null,r,0,null)).return=t,o.child=a,null!==a&&(a.return=o),0===(2&t.mode))for(a=null!==t.memoizedState?t.child.child:t.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=su(u,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,r=o,o.childExpirationTime=0}else n=r=Zr(t,a,o.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=r,n}function ka(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:i,tail:n,tailExpiration:0,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.last=i,o.tail=n,o.tailExpiration=0,o.tailMode=r)}function Ta(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(da(e,t,i.children,n),0!==((i=po.current)&fo))i=i&co|fo,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Cr(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=co}if(Ni(po,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(i=n.alternate)&&null===mo(i)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ka(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(i=r.alternate)&&null===mo(i)){t.child=r;break}i=r.sibling,r.sibling=n,n=r,r=i}ka(t,!0,n,null,o);break;case"together":ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=ou(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ou(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ca(e){e.effectTag|=4}var Ia=void 0,Da=void 0,Aa=void 0,Oa=void 0;function xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Na(e){switch(e.tag){case 1:Fi(e.type)&&Vi();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(so(),Ui(),0!==(64&(t=e.effectTag)))throw a(Error(285));return e.effectTag=-2049&t|64,e;case 5:return lo(e),null;case 13:return xi(po),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return xi(po),null;case 4:return so(),null;case 10:return Sr(e),null;default:return null}}function Ma(e,t){return{value:e,source:t,stack:ht(t)}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Aa=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s=t.stateNode;switch(oo(no.current),e=null,n){case"input":a=_t(s,a),i=_t(s,i),e=[];break;case"option":a=ti(s,a),i=ti(s,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=ii(s,a),i=ii(s,i),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(s.onclick=Ei)}gi(n,i),s=n=void 0;var u=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(f.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var c=i[n];if(l=null!=a?a[n]:void 0,i.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(e||(e=[]),e.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(n,""+c)):"children"===n?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(f.hasOwnProperty(n)?(null!=c&&wi(o,n),e||l===c||(e=[])):(e=e||[]).push(n,c))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&Ca(t)}},Oa=function(e,t,n,i){n!==i&&Ca(t)};var Ra="function"===typeof WeakSet?WeakSet:Set;function La(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ht(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function Pa(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ys(e,n)}else t.current=null}function Ba(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)!==vo){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}(i.tag&t)!==vo&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function Fa(e,t){switch("function"===typeof tu&&tu(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var i=n.next;dr(97<t?97:t,(function(){var t=i;do{var n=t.destroy;if(void 0!==n){var r=e;try{n()}catch(o){Ys(r,o)}}t=t.next}while(t!==i)}))}break;case 1:Pa(e),"function"===typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ys(e,n)}}(e,t);break;case 5:Pa(e);break;case 4:ja(e,t)}}function Va(e,t){for(var n=e;;)if(Fa(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ua(e){return 5===e.tag||3===e.tag||4===e.tag}function qa(e){e:{for(var t=e.return;null!==t;){if(Ua(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw a(Error(161))}16&n.effectTag&&(di(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ua(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var o=5===r.tag||6===r.tag;if(o||20===r.tag){var s=o?r.stateNode:r.stateNode.instance;if(n)if(i){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else i?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=Ei)):t.appendChild(s)}else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ja(e,t){for(var n=e,i=!1,r=void 0,o=void 0;;){if(!i){i=n.return;e:for(;;){if(null===i)throw a(Error(160));switch(r=i.stateNode,i.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}i=i.return}i=!0}if(5===n.tag||6===n.tag)if(Va(n,t),o){var s=r,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else r.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,Va(n,t),o?8===(s=r).nodeType?s.parentNode.removeChild(u):s.removeChild(u):r.removeChild(u);else if(4===n.tag){if(null!==n.child){r=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Fa(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function Wa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Ba(go,bo,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[L]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Tt(n,i),bi(e,r),t=bi(e,i),r=0;r<o.length;r+=2){var s=o[r],u=o[r+1];"style"===s?vi(n,u):"dangerouslySetInnerHTML"===s?hi(n,u):"children"===s?di(n,u):wt(n,s,u,t)}switch(e){case"input":St(n,i);break;case"textarea":oi(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?ni(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?ni(n,!!i.multiple,i.defaultValue,!0):ni(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,ms=lr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=mi("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Ha(t);break;case 19:Ha(t);break;case 17:case 20:break;default:throw a(Error(163))}}function Ha(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ra),t.forEach((function(t){var i=Js.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var za="function"===typeof WeakMap?WeakMap:Map;function $a(e,t,n){(n=Nr(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){gs||(gs=!0,bs=i),La(e,t)},n}function Ka(e,t,n){(n=Nr(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return La(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===ws?ws=new Set([this]):ws.add(this),La(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Qa=Math.ceil,Ga=$e.ReactCurrentDispatcher,Ya=$e.ReactCurrentOwner,Xa=0,Ja=8,Za=16,es=32,ts=0,ns=1,is=2,rs=3,os=4,as=Xa,ss=null,us=null,ls=0,cs=ts,hs=1073741823,ds=1073741823,fs=null,ps=!1,ms=0,vs=500,ys=null,gs=!1,bs=null,ws=null,Es=!1,_s=null,ks=90,Ts=0,Ss=null,Cs=0,Is=null,Ds=0;function As(){return(as&(Za|es))!==Xa?1073741821-(lr()/10|0):0!==Ds?Ds:Ds=1073741821-(lr()/10|0)}function Os(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=cr();if(0===(4&t))return 99===i?1073741823:1073741822;if((as&Za)!==Xa)return ls;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(i){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw a(Error(326))}return null!==ss&&e===ls&&--e,e}var xs=0;function Ns(e,t){if(50<Cs)throw Cs=0,Is=null,a(Error(185));if(null!==(e=Ms(e,t))){e.pingTime=0;var n=cr();if(1073741823===t)if((as&Ja)!==Xa&&(as&(Za|es))===Xa)for(var i=qs(e,1073741823,!0);null!==i;)i=i(!0);else Rs(e,99,1073741823),as===Xa&&mr();else Rs(e,n,t);(4&as)===Xa||98!==n&&99!==n||(null===Ss?Ss=new Map([[e,t]]):(void 0===(n=Ss.get(e))||n>t)&&Ss.set(e,t))}}function Ms(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(t>r.firstPendingTime&&(r.firstPendingTime=t),0===(e=r.lastPendingTime)||t<e)&&(r.lastPendingTime=t),r}function Rs(e,t,n){if(e.callbackExpirationTime<n){var i=e.callbackNode;null!==i&&i!==ir&&Ki(i),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=pr(Ls.bind(null,e,qs.bind(null,e,n))):(i=null,1!==n&&(i={timeout:10*(1073741821-n)-lr()}),e.callbackNode=fr(t,Ls.bind(null,e,qs.bind(null,e,n)),i))}}function Ls(e,t,n){var i=e.callbackNode,r=null;try{return null!==(r=t(n))?Ls.bind(null,e,r):null}finally{null===r&&i===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Ps(){(as&(1|Za|es))===Xa&&(function(){if(null!==Ss){var e=Ss;Ss=null,e.forEach((function(e,t){pr(qs.bind(null,t,e))})),mr()}}(),Ks())}function Bs(e,t){var n=as;as|=1;try{return e(t)}finally{(as=n)===Xa&&mr()}}function Fs(e,t,n,i){var r=as;as|=4;try{return dr(98,e.bind(null,t,n,i))}finally{(as=r)===Xa&&mr()}}function Vs(e,t){var n=as;as&=-2,as|=Ja;try{return e(t)}finally{(as=n)===Xa&&mr()}}function Us(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ii(n)),null!==us)for(n=us.return;null!==n;){var i=n;switch(i.tag){case 1:var r=i.type.childContextTypes;null!==r&&void 0!==r&&Vi();break;case 3:so(),Ui();break;case 5:lo(i);break;case 4:so();break;case 13:case 19:xi(po);break;case 10:Sr(i)}n=n.return}ss=e,us=ou(e.current,null),ls=t,cs=ts,ds=hs=1073741823,fs=null,ps=!1}function qs(e,t,n){if((as&(Za|es))!==Xa)throw a(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return zs.bind(null,e);if(Ks(),e!==ss||t!==ls)Us(e,t);else if(cs===rs)if(ps)Us(e,t);else{var i=e.lastPendingTime;if(i<t)return qs.bind(null,e,i)}if(null!==us){i=as,as|=Za;var r=Ga.current;if(null===r&&(r=Jo),Ga.current=Jo,n){if(1073741823!==t){var o=As();if(o<t)return as=i,kr(),Ga.current=r,qs.bind(null,e,o)}}else Ds=0;for(;;)try{if(n)for(;null!==us;)us=Ws(us);else for(;null!==us&&!Qi();)us=Ws(us);break}catch(m){if(kr(),qo(),null===(o=us)||null===o.return)throw Us(e,t),as=i,m;e:{var s=e,u=o.return,l=o,c=m,h=ls;if(l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,f=0!==(po.current&ho);c=u;do{var p;if((p=13===c.tag)&&(null!==c.memoizedState?p=!1:p=void 0!==(p=c.memoizedProps).fallback&&(!0!==p.unstable_avoidThisFallback||!f)),p){if(null===(u=c.updateQueue)?((u=new Set).add(d),c.updateQueue=u):u.add(d),0===(2&c.mode)){c.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((h=Nr(1073741823,null)).tag=2,Rr(l,h))),l.expirationTime=1073741823;break e}l=s,s=h,null===(f=l.pingCache)?(f=l.pingCache=new za,u=new Set,f.set(d,u)):void 0===(u=f.get(d))&&(u=new Set,f.set(d,u)),u.has(s)||(u.add(s),l=Xs.bind(null,l,d,s),d.then(l,l)),c.effectTag|=2048,c.expirationTime=h;break e}c=c.return}while(null!==c);c=Error((ct(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ht(l))}cs!==os&&(cs=ns),c=Ma(c,l),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=h,Lr(l,h=$a(l,c,h));break e;case 1:if(d=c,s=l.type,u=l.stateNode,0===(64&l.effectTag)&&("function"===typeof s.getDerivedStateFromError||null!==u&&"function"===typeof u.componentDidCatch&&(null===ws||!ws.has(u)))){l.effectTag|=2048,l.expirationTime=h,Lr(l,h=Ka(l,d,h));break e}}l=l.return}while(null!==l)}us=Hs(o)}if(as=i,kr(),Ga.current=r,null!==us)return qs.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(fr(97,(function(){return n._onComplete(),null})),!0)}(e,t))return null;switch(ss=null,cs){case ts:throw a(Error(328));case ns:return(i=e.lastPendingTime)<t?qs.bind(null,e,i):n?zs.bind(null,e):(Us(e,t),pr(qs.bind(null,e,t)),null);case is:return 1073741823===hs&&!n&&10<(n=ms+vs-lr())?ps?(Us(e,t),qs.bind(null,e,t)):(i=e.lastPendingTime)<t?qs.bind(null,e,i):(e.timeoutHandle=Ci(zs.bind(null,e),n),null):zs.bind(null,e);case rs:if(!n){if(ps)return Us(e,t),qs.bind(null,e,t);if((n=e.lastPendingTime)<t)return qs.bind(null,e,n);if(1073741823!==ds?n=10*(1073741821-ds)-lr():1073741823===hs?n=0:(n=10*(1073741821-hs)-5e3,0>(n=(i=lr())-n)&&(n=0),(t=10*(1073741821-t)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qa(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=Ci(zs.bind(null,e),n),null}return zs.bind(null,e);case os:return!n&&1073741823!==hs&&null!==fs&&(i=hs,0>=(t=0|(r=fs).busyMinDurationMs)?t=0:(n=0|r.busyDelayMs,t=(i=lr()-(10*(1073741821-i)-(0|r.timeoutMs||5e3)))<=n?0:n+t-i),10<t)?(e.timeoutHandle=Ci(zs.bind(null,e),t),null):zs.bind(null,e);default:throw a(Error(329))}}function js(e,t){e<hs&&1<e&&(hs=e),null!==t&&e<ds&&1<e&&(ds=e,fs=t)}function Ws(e){var t=Zs(e.alternate,e,ls);return e.memoizedProps=e.pendingProps,null===t&&(t=Hs(e)),Ya.current=null,t}function Hs(e){us=e;do{var t=us.alternate;if(e=us.return,0===(1024&us.effectTag)){e:{var n=t,i=ls,o=(t=us).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Fi(t.type)&&Vi();break;case 3:so(),Ui(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==n&&null!==n.child||(ua(t),t.effectTag&=-3),Da(t);break;case 5:lo(t),i=oo(ro.current);var s=t.type;if(null!==n&&null!=t.stateNode)Aa(n,t,s,o,i),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=oo(no.current);if(ua(t)){o=void 0,s=(n=t).stateNode;var l=n.type,c=n.memoizedProps;switch(s[R]=n,s[L]=c,l){case"iframe":case"object":case"embed":Ln("load",s);break;case"video":case"audio":for(var h=0;h<ne.length;h++)Ln(ne[h],s);break;case"source":Ln("error",s);break;case"img":case"image":case"link":Ln("error",s),Ln("load",s);break;case"form":Ln("reset",s),Ln("submit",s);break;case"details":Ln("toggle",s);break;case"input":kt(s,c),Ln("invalid",s),wi(i,"onChange");break;case"select":s._wrapperState={wasMultiple:!!c.multiple},Ln("invalid",s),wi(i,"onChange");break;case"textarea":ri(s,c),Ln("invalid",s),wi(i,"onChange")}for(o in gi(l,c),h=null,c)c.hasOwnProperty(o)&&(u=c[o],"children"===o?"string"===typeof u?s.textContent!==u&&(h=["children",u]):"number"===typeof u&&s.textContent!==""+u&&(h=["children",""+u]):f.hasOwnProperty(o)&&null!=u&&wi(i,o));switch(l){case"input":He(s),Ct(s,c,!0);break;case"textarea":He(s),ai(s);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(s.onclick=Ei)}i=h,n.updateQueue=i,null!==i&&Ca(t)}else{c=s,n=o,l=t,h=9===i.nodeType?i:i.ownerDocument,u===si.html&&(u=ui(c)),u===si.html?"script"===c?((c=h.createElement("div")).innerHTML="<script><\/script>",h=c.removeChild(c.firstChild)):"string"===typeof n.is?h=h.createElement(c,{is:n.is}):(h=h.createElement(c),"select"===c&&(c=h,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):h=h.createElementNS(u,c),(c=h)[R]=l,c[L]=n,Ia(n=c,t,!1,!1),l=n;var d=i,p=bi(s,o);switch(s){case"iframe":case"object":case"embed":Ln("load",l),i=o;break;case"video":case"audio":for(i=0;i<ne.length;i++)Ln(ne[i],l);i=o;break;case"source":Ln("error",l),i=o;break;case"img":case"image":case"link":Ln("error",l),Ln("load",l),i=o;break;case"form":Ln("reset",l),Ln("submit",l),i=o;break;case"details":Ln("toggle",l),i=o;break;case"input":kt(l,o),i=_t(l,o),Ln("invalid",l),wi(d,"onChange");break;case"option":i=ti(l,o);break;case"select":l._wrapperState={wasMultiple:!!o.multiple},i=r({},o,{value:void 0}),Ln("invalid",l),wi(d,"onChange");break;case"textarea":ri(l,o),i=ii(l,o),Ln("invalid",l),wi(d,"onChange");break;default:i=o}gi(s,i),c=void 0,h=s,u=l;var m=i;for(c in m)if(m.hasOwnProperty(c)){var v=m[c];"style"===c?vi(u,v):"dangerouslySetInnerHTML"===c?null!=(v=v?v.__html:void 0)&&hi(u,v):"children"===c?"string"===typeof v?("textarea"!==h||""!==v)&&di(u,v):"number"===typeof v&&di(u,""+v):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(f.hasOwnProperty(c)?null!=v&&wi(d,c):null!=v&&wt(u,c,v,p))}switch(s){case"input":He(l),Ct(l,o,!1);break;case"textarea":He(l),ai(l);break;case"option":null!=o.value&&l.setAttribute("value",""+Et(o.value));break;case"select":i=l,l=o,i.multiple=!!l.multiple,null!=(c=l.value)?ni(i,!!l.multiple,c,!1):null!=l.defaultValue&&ni(i,!!l.multiple,l.defaultValue,!0);break;default:"function"===typeof i.onClick&&(l.onclick=Ei)}Ti(s,o)&&Ca(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)Oa(n,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw a(Error(166));n=oo(ro.current),oo(no.current),ua(t)?(i=t.stateNode,n=t.memoizedProps,i[R]=t,i.nodeValue!==n&&Ca(t)):(i=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[R]=t,i.stateNode=n)}break;case 11:break;case 13:if(xi(po),o=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=i;break e}i=null!==o,o=!1,null===n?ua(t):(o=null!==(s=n.memoizedState),i||null===s||null!==(s=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=s,s.nextEffect=l):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),i&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(po.current&ho)?cs===ts&&(cs=is):cs!==ts&&cs!==is||(cs=rs)),(i||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:so(),Da(t);break;case 10:Sr(t);break;case 9:case 14:break;case 17:Fi(t.type)&&Vi();break;case 18:break;case 19:if(xi(po),null===(o=t.memoizedState))break;if(s=0!==(64&t.effectTag),null===(l=o.rendering)){if(s)xa(o,!1);else if(cs!==ts||null!==n&&0!==(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=mo(n))){for(t.effectTag|=64,xa(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=i,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(l=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=l.childExpirationTime,o.expirationTime=l.expirationTime,o.child=l.child,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,s=l.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Ni(po,po.current&co|fo),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=mo(l))){if(t.effectTag|=64,s=!0,xa(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(i=n.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else lr()>o.tailExpiration&&1<i&&(t.effectTag|=64,s=!0,xa(o,!1),t.expirationTime=t.childExpirationTime=i-1);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=o.last)?i.sibling=l:t.child=l,o.last=l)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=lr()+500),i=o.tail,o.rendering=i,o.tail=i.sibling,o.lastEffect=t.lastEffect,i.sibling=null,n=po.current,Ni(po,n=s?n&co|fo:n&co),t=i;break e}break;case 20:break;default:throw a(Error(156))}t=null}if(i=us,1===ls||1!==i.childExpirationTime){for(n=0,o=i.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(l=o.childExpirationTime)>n&&(n=l),o=o.sibling;i.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=us.firstEffect),null!==us.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=us.firstEffect),e.lastEffect=us.lastEffect),1<us.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=us:e.firstEffect=us,e.lastEffect=us))}else{if(null!==(t=Na(us)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=us.sibling))return t;us=e}while(null!==us);return cs===ts&&(cs=os),null}function zs(e){var t=cr();return dr(99,$s.bind(null,e,t)),null!==_s&&fr(97,(function(){return Ks(),null})),null}function $s(e,t){if(Ks(),(as&(Za|es))!==Xa)throw a(Error(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var r=n.expirationTime,o=n.childExpirationTime;if(r=o>r?o:r,e.firstPendingTime=r,r<e.lastPendingTime&&(e.lastPendingTime=r),e===ss&&(us=ss=null,ls=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){o=as,as|=es,Ya.current=null,_i=Rn;var s=zn();if($n(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(V){u=null;break e}var d=0,f=-1,p=-1,m=0,v=0,y=s,g=null;t:for(;;){for(var b;y!==u||0!==c&&3!==y.nodeType||(f=d+c),y!==h||0!==l&&3!==y.nodeType||(p=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===u&&++m===c&&(f=d),g===h&&++v===l&&(p=d),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}u=-1===f||-1===p?null:{start:f,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;ki={focusedElem:s,selectionRange:u},Rn=!1,ys=r;do{try{for(;null!==ys;){if(0!==(256&ys.effectTag)){var w=ys.alternate;switch((s=ys).tag){case 0:case 11:case 15:Ba(yo,vo,s);break;case 1:if(256&s.effectTag&&null!==w){var E=w.memoizedProps,_=w.memoizedState,k=s.stateNode,T=k.getSnapshotBeforeUpdate(s.elementType===s.type?E:gr(s.type,E),_);k.__reactInternalSnapshotBeforeUpdate=T}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}ys=ys.nextEffect}}catch(V){if(null===ys)throw a(Error(330));Ys(ys,V),ys=ys.nextEffect}}while(null!==ys);ys=r;do{try{for(w=t;null!==ys;){var S=ys.effectTag;if(16&S&&di(ys.stateNode,""),128&S){var C=ys.alternate;if(null!==C){var I=C.ref;null!==I&&("function"===typeof I?I(null):I.current=null)}}switch(14&S){case 2:qa(ys),ys.effectTag&=-3;break;case 6:qa(ys),ys.effectTag&=-3,Wa(ys.alternate,ys);break;case 4:Wa(ys.alternate,ys);break;case 8:ja(E=ys,w),E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null;var D=E.alternate;null!==D&&(D.return=null,D.child=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null)}ys=ys.nextEffect}}catch(V){if(null===ys)throw a(Error(330));Ys(ys,V),ys=ys.nextEffect}}while(null!==ys);if(I=ki,C=zn(),S=I.focusedElem,w=I.selectionRange,C!==S&&S&&S.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(S.ownerDocument.documentElement,S)){null!==w&&$n(S)&&(C=w.start,void 0===(I=w.end)&&(I=C),"selectionStart"in S?(S.selectionStart=C,S.selectionEnd=Math.min(I,S.value.length)):(I=(C=S.ownerDocument||document)&&C.defaultView||window).getSelection&&(I=I.getSelection(),E=S.textContent.length,D=Math.min(w.start,E),w=void 0===w.end?D:Math.min(w.end,E),!I.extend&&D>w&&(E=w,w=D,D=E),E=Hn(S,D),_=Hn(S,w),E&&_&&(1!==I.rangeCount||I.anchorNode!==E.node||I.anchorOffset!==E.offset||I.focusNode!==_.node||I.focusOffset!==_.offset)&&((C=C.createRange()).setStart(E.node,E.offset),I.removeAllRanges(),D>w?(I.addRange(C),I.extend(_.node,_.offset)):(C.setEnd(_.node,_.offset),I.addRange(C))))),C=[];for(I=S;I=I.parentNode;)1===I.nodeType&&C.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"===typeof S.focus&&S.focus(),S=0;S<C.length;S++)(I=C[S]).element.scrollLeft=I.left,I.element.scrollTop=I.top}ki=null,Rn=!!_i,_i=null,e.current=n,ys=r;do{try{for(S=i;null!==ys;){var A=ys.effectTag;if(36&A){var O=ys.alternate;switch(I=S,(C=ys).tag){case 0:case 11:case 15:Ba(wo,Eo,C);break;case 1:var x=C.stateNode;if(4&C.effectTag)if(null===O)x.componentDidMount();else{var N=C.elementType===C.type?O.memoizedProps:gr(C.type,O.memoizedProps);x.componentDidUpdate(N,O.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var M=C.updateQueue;null!==M&&Vr(0,M,x);break;case 3:var R=C.updateQueue;if(null!==R){if(D=null,null!==C.child)switch(C.child.tag){case 5:D=C.child.stateNode;break;case 1:D=C.child.stateNode}Vr(0,R,D)}break;case 5:var L=C.stateNode;null===O&&4&C.effectTag&&(I=L,Ti(C.type,C.memoizedProps)&&I.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&A){var P=ys.ref;if(null!==P){var B=ys.stateNode;switch(ys.tag){case 5:var F=B;break;default:F=B}"function"===typeof P?P(F):P.current=F}}512&A&&(Es=!0),ys=ys.nextEffect}}catch(V){if(null===ys)throw a(Error(330));Ys(ys,V),ys=ys.nextEffect}}while(null!==ys);ys=null,rr(),as=o}else e.current=n;if(Es)Es=!1,_s=e,Ts=i,ks=t;else for(ys=r;null!==ys;)t=ys.nextEffect,ys.nextEffect=null,ys=t;if(0!==(t=e.firstPendingTime)?Rs(e,A=yr(A=As(),t),t):ws=null,"function"===typeof eu&&eu(n.stateNode,i),1073741823===t?e===Is?Cs++:(Cs=0,Is=e):Cs=0,gs)throw gs=!1,e=bs,bs=null,e;return(as&Ja)!==Xa?null:(mr(),null)}function Ks(){if(null===_s)return!1;var e=_s,t=Ts,n=ks;return _s=null,Ts=0,ks=90,dr(97<n?97:n,Qs.bind(null,e,t))}function Qs(e){if((as&(Za|es))!==Xa)throw a(Error(331));var t=as;for(as|=es,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ba(ko,vo,n),Ba(vo,_o,n)}}catch(i){if(null===e)throw a(Error(330));Ys(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return as=t,mr(),!0}function Gs(e,t,n){Rr(e,t=$a(e,t=Ma(n,t),1073741823)),null!==(e=Ms(e,1073741823))&&Rs(e,99,1073741823)}function Ys(e,t){if(3===e.tag)Gs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Gs(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ws||!ws.has(i))){Rr(n,e=Ka(n,e=Ma(t,e),1073741823)),null!==(n=Ms(n,1073741823))&&Rs(n,99,1073741823);break}}n=n.return}}function Xs(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),ss===e&&ls===n?cs===rs||cs===is&&1073741823===hs&&lr()-ms<vs?Us(e,ls):ps=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Rs(e,t=yr(t=As(),n),n)))}function Js(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=yr(n=As(),t=Os(n,e,null)),null!==(e=Ms(e,t))&&Rs(e,n,t)}var Zs=void 0;Zs=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||Li.current)ha=!0;else if(i<n){switch(ha=!1,t.tag){case 3:wa(t),la();break;case 5:if(uo(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Fi(t.type)&&Wi(t);break;case 4:ao(t,t.stateNode.containerInfo);break;case 10:Tr(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?_a(e,t,n):(Ni(po,po.current&co),null!==(t=Sa(e,t,n))?t.sibling:null);Ni(po,po.current&co);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return Ta(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),Ni(po,po.current),!i)return null}return Sa(e,t,n)}}else ha=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=Bi(t,Ri.current),Ir(t,n),r=Uo(null,t,i,e,r,n),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,qo(),Fi(i)){var o=!0;Wi(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=i.getDerivedStateFromProps;"function"===typeof s&&Wr(t,i,s,e),r.updater=Hr,t.stateNode=r,r._reactInternalFiber=t,Qr(t,i,e,n),t=ba(null,t,i,!0,o,n)}else t.tag=0,da(null,t,r,n),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(r),t.type=r,o=t.tag=function(e){if("function"===typeof e)return ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===it)return 11;if(e===at)return 14}return 2}(r),e=gr(r,e),o){case 0:t=ya(null,t,r,e,n);break;case 1:t=ga(null,t,r,e,n);break;case 11:t=fa(null,t,r,e,n);break;case 14:t=pa(null,t,r,gr(r.type,e),i,n);break;default:throw a(Error(306),r,"")}return t;case 0:return i=t.type,r=t.pendingProps,ya(e,t,i,r=t.elementType===i?r:gr(i,r),n);case 1:return i=t.type,r=t.pendingProps,ga(e,t,i,r=t.elementType===i?r:gr(i,r),n);case 3:if(wa(t),null===(i=t.updateQueue))throw a(Error(282));return r=null!==(r=t.memoizedState)?r.element:null,Fr(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(la(),t=Sa(e,t,n)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(na=Di(t.stateNode.containerInfo.firstChild),ta=t,r=ia=!0),r?(t.effectTag|=2,t.child=eo(t,null,i,n)):(da(e,t,i,n),la()),t=t.child),t;case 5:return uo(t),null===e&&aa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,Si(i,r)?s=null:null!==o&&Si(i,o)&&(t.effectTag|=16),va(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(da(e,t,s,n),t=t.child),t;case 6:return null===e&&aa(t),null;case 13:return _a(e,t,n);case 4:return ao(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Zr(t,null,i,n):da(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,fa(e,t,i,r=t.elementType===i?r:gr(i,r),n);case 7:return da(e,t,t.pendingProps,n),t.child;case 8:case 12:return da(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,Tr(t,o=r.value),null!==s){var u=s.value;if(0===(o=tn(u,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(s.children===r.children&&!Li.current){t=Sa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===u.tag&&((c=Nr(n,null)).tag=2,Rr(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Cr(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}da(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,Ir(t,n),i=i(r=Dr(r,o.unstable_observedBits)),t.effectTag|=1,da(e,t,i,n),t.child;case 14:return o=gr(r=t.type,t.pendingProps),pa(e,t,r,o=gr(r.type,o),i,n);case 15:return ma(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Fi(i)?(e=!0,Wi(t)):e=!1,Ir(t,n),$r(t,i,r),Qr(t,i,r,n),ba(null,t,i,!0,e,n);case 19:return Ta(e,t,n)}throw a(Error(156))};var eu=null,tu=null;function nu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function iu(e,t,n,i){return new nu(e,t,n,i)}function ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ou(e,t){var n=e.alternate;return null===n?((n=iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function au(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)ru(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Xe:return su(n.children,r,o,t);case nt:s=8,r|=7;break;case Je:s=8,r|=1;break;case Ze:return(e=iu(12,n,t,8|r)).elementType=Ze,e.type=Ze,e.expirationTime=o,e;case rt:return(e=iu(13,n,t,r)).type=rt,e.elementType=rt,e.expirationTime=o,e;case ot:return(e=iu(19,n,t,r)).elementType=ot,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case it:s=11;break e;case at:s=14;break e;case st:s=16,i=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=iu(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function su(e,t,n,i){return(e=iu(7,e,i,t)).expirationTime=n,e}function uu(e,t,n){return(e=iu(6,e,null,t)).expirationTime=n,e}function lu(e,t,n){return(t=iu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function hu(e,t,n){return e=new cu(e,t,n),t=iu(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function du(e,t,n,i,r,o){var s=t.current;e:if(n){t:{if(2!==an(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Fi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var l=n.type;if(Fi(l)){n=ji(n,l,u);break e}}n=u}else n=Mi;return null===t.context?t.context=n:t.pendingContext=n,t=o,(r=Nr(i,r)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Rr(s,r),Ns(s,i),i}function fu(e,t,n,i){var r=t.current,o=As(),a=qr.suspense;return du(e,t,n,r=Os(o,r,a),a,i)}function pu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function mu(e){var t=1073741821-25*(1+((1073741821-As()+500)/25|0));t<=xs&&--t,this._expirationTime=xs=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function vu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function yu(e,t,n){this._internalRoot=hu(e,t,n)}function gu(e,t){this._internalRoot=hu(e,2,t)}function bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function wu(e,t,n,i,r){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"===typeof r){var s=r;r=function(){var e=pu(a);s.call(e)}}fu(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new yu(e,0,t)}(n,i),a=o._internalRoot,"function"===typeof r){var u=r;r=function(){var e=pu(a);u.call(e)}}Vs((function(){fu(t,a,e,r)}))}return pu(a)}function Eu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!bu(t))throw a(Error(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ye,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ie=function(e,t,n){switch(t){case"input":if(St(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=V(i);if(!r)throw a(Error(90));ze(i),St(i,r)}}}break;case"textarea":oi(e,n);break;case"select":null!=(t=n.value)&&ni(e,!!n.multiple,t,!1)}},mu.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new vu;return du(e,t,null,n,null,i._onCommit),i},mu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},mu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;if(null===i)throw a(Error(251));i._next=r._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(as&(Za|es))!==Xa)throw a(Error(253));pr(qs.bind(null,e,t)),mr(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},mu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},vu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},vu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw a(Error(191),n);n()}}},gu.prototype.render=yu.prototype.render=function(e,t){var n=this._internalRoot,i=new vu;return null!==(t=void 0===t?null:t)&&i.then(t),fu(e,n,null,i._onCommit),i},gu.prototype.unmount=yu.prototype.unmount=function(e){var t=this._internalRoot,n=new vu;return null!==(e=void 0===e?null:e)&&n.then(e),fu(null,t,null,n._onCommit),n},gu.prototype.createBatch=function(){var e=new mu(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},Me=Bs,Re=Fs,Le=Ps,Pe=function(e,t){var n=as;as|=2;try{return e(t)}finally{(as=n)===Xa&&mr()}};var _u={createPortal:Eu,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=un(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!bu(t))throw a(Error(200));return wu(null,e,t,!0,n)},render:function(e,t,n){if(!bu(t))throw a(Error(200));return wu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){if(!bu(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return wu(e,t,n,!1,i)},unmountComponentAtNode:function(e){if(!bu(e))throw a(Error(40));return!!e._reactRootContainer&&(Vs((function(){wu(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Eu.apply(void 0,arguments)},unstable_batchedUpdates:Bs,unstable_interactiveUpdates:function(e,t,n,i){return Ps(),Fs(e,t,n,i)},unstable_discreteUpdates:Fs,unstable_flushDiscreteUpdates:Ps,flushSync:function(e,t){if((as&(Za|es))!==Xa)throw a(Error(187));var n=as;as|=1;try{return dr(99,e.bind(null,t))}finally{as=n,mr()}},unstable_createRoot:function(e,t){if(!bu(e))throw a(Error(299),"unstable_createRoot");return new gu(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!bu(e))throw a(Error(299),"unstable_createRoot");return new yu(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=as;as|=1;try{dr(99,e)}finally{(as=t)===Xa&&mr()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[B,F,V,x.injectEventPluginsByName,d,z,function(e){I(e,H)},xe,Ne,Vn,O,Ks,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);eu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(i){}},tu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$e.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=un(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:P,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var ku={default:_u},Tu=ku&&_u||ku;e.exports=Tu.default||Tu},function(e,t,n){"use strict";e.exports=n(35)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(i){throw setTimeout(e,0),i}};t.unstable_now=function(){return Date.now()},i=function(e){null!==u?setTimeout(i,0,e):(u=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout,m=window.requestAnimationFrame,v=window.cancelAnimationFrame;"undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"===typeof h&&"function"===typeof h.now?function(){return h.now()}:function(){return d.now()};var y=!1,g=null,b=-1,w=-1,E=33.33,_=-1,k=-1,T=0,S=!1;a=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(E=Math.floor(1e3/e),S=!0):(E=33.33,S=!1)};var C=function(){if(null!==g){var e=t.unstable_now(),n=0<T-e;try{g(n,e)||(g=null)}catch(i){throw D.postMessage(null),i}}},I=new MessageChannel,D=I.port2;I.port1.onmessage=C;i=function(e){g=e,y||(y=!0,m((function(e){!function e(n){if(null===g)k=_=-1,y=!1;else{y=!0,m((function(t){p(b),e(t)}));if(b=f((function e(){T=t.unstable_now()+E/2,C(),b=f(e,3*E)}),3*E),-1!==_&&.1<n-_){var i=n-_;!S&&-1!==k&&i<E&&k<E&&(8.33>(E=i<k?k:i)&&(E=8.33)),k=i}_=n,T=n+E,D.postMessage(null)}}(e)})))},r=function(e,n){w=f((function(){e(t.unstable_now())}),n)},o=function(){p(w),w=-1}}var A=null,O=null,x=null,N=3,M=!1,R=!1,L=!1;function P(e,t){var n=e.next;if(n===e)A=null;else{e===A&&(A=n);var i=e.previous;i.next=n,n.previous=i}e.next=e.previous=null,n=e.callback,i=N;var r=x;N=e.priorityLevel,x=e;try{var o=e.expirationTime<=t;switch(N){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(s){throw s}finally{N=i,x=r}if("function"===typeof a)if(t=e.expirationTime,e.callback=a,null===A)A=e.next=e.previous=e;else{a=null,o=A;do{if(t<=o.expirationTime){a=o;break}o=o.next}while(o!==A);null===a?a=A:a===A&&(A=e),(t=a.previous).next=a.previous=e,e.next=a,e.previous=t}}function B(e){if(null!==O&&O.startTime<=e)do{var t=O,n=t.next;if(t===n)O=null;else{O=n;var i=t.previous;i.next=n,n.previous=i}t.next=t.previous=null,q(t,t.expirationTime)}while(null!==O&&O.startTime<=e)}function F(e){L=!1,B(e),R||(null!==A?(R=!0,i(V)):null!==O&&r(F,O.startTime-e))}function V(e,n){R=!1,L&&(L=!1,o()),B(n),M=!0;try{if(e){if(null!==A)do{P(A,n),B(n=t.unstable_now())}while(null!==A&&!a())}else for(;null!==A&&A.expirationTime<=n;)P(A,n),B(n=t.unstable_now());return null!==A||(null!==O&&r(F,O.startTime-n),!1)}finally{M=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function q(e,t){if(null===A)A=e.next=e.previous=e;else{var n=null,i=A;do{if(t<i.expirationTime){n=i;break}i=i.next}while(i!==A);null===n?n=A:n===A&&(A=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var j=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:U(e)}else a=U(e),u=s;if(e={callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,next:null,previous:null},u>s){if(a=u,null===O)O=e.next=e.previous=e;else{n=null;var l=O;do{if(a<l.startTime){n=l;break}l=l.next}while(l!==O);null===n?n=O:n===O&&(O=e),(a=n.previous).next=n.previous=e,e.next=n,e.previous=a}null===A&&O===e&&(L?o():L=!0,r(F,u-s))}else q(e,a),R||M||(R=!0,i(V));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===A?A=null:e===O&&(O=null);else{e===A?A=t:e===O&&(O=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_shouldYield=function(){var e=t.unstable_now();return B(e),null!==x&&null!==A&&A.startTime<=e&&A.expirationTime<x.expirationTime||a()},t.unstable_requestPaint=j,t.unstable_continueExecution=function(){R||M||(R=!0,i(V))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return A}},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,s=a?e[r+1]:0,u=r+2<e.length,l=u?e[r+2]:0,c=o>>2,h=(3&o)<<4|s>>4,d=(15&s)<<2|l>>6,f=63&l;u||(f=64,a||(d=64)),i.push(n[c],n[h],n[d],n[f])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(a>>10)),t[i++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0,s=++r<e.length?n[e.charAt(r)]:64,u=++r<e.length?n[e.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(i.push(l),64!==s){var c=a<<4&240|s>>2;if(i.push(c),64!==u){var h=s<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,i))}},e}();function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",p=function(e){function t(n,i){var r=e.call(this,i)||this;return r.code=n,r.name=f,Object.setPrototypeOf(r,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,m.prototype.create),r}return i.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=t[0]||{},r=this.service+"/"+e,o=this.errors[e],a=o?v(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new p(r,s),l=0,c=Object.keys(i);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=i[h])}return u},e}();function v(e,t){return e.replace(y,(function(e,n){var i=t[n];return null!=i?i.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function g(e){return JSON.parse(e)}var b=function(e){var t={},n={},i={},r="";try{var o=e.split(".");t=g(l(o[0])||""),n=g(l(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:i,signature:r}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):i<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<t;){if(0===o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e},e}();var E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"===typeof e[r])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=_),void 0===i.error&&(i.error=_),void 0===i.complete&&(i.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}})),this.observers.push(i),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function _(){}function k(e,t,n){var i="";switch(t){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=e+" failed: ";return r+=i+" argument "}t.CONSTANTS=r,t.Deferred=h,t.ErrorFactory=m,t.FirebaseError=p,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=l,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new E(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=k,t.getUA=d,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?i=t.nbf:t.hasOwnProperty("iat")&&(i=t.iat),r=t.hasOwnProperty("exp")?t.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=g,t.map=function(e,t,n){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},i=0,r=Object.entries(e);i<r.length;i++){var o=r[i];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);if(r>=55296&&r<=56319){var a=r-55296;o(++i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(a<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,i){var r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},t.validateCallback=function(e,t,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(k(e,t,i)+"must be a valid function.")},t.validateContextObject=function(e,t,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(k(e,t,i)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,i){if((!i||n)&&"string"!==typeof n)throw new Error(k(e,t,i)+"must be a valid firebase namespace.")}}).call(this,n(15))},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return s})),n.d(t,"setLogLevel",(function(){return u}));var i,r=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var o=i.INFO,a=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();function u(e){r.forEach((function(t){t.logLevel=e}))}},function(e,t,n){"use strict";n(42)},function(e,t,n){"use strict";(function(e){var t=n(1),i=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=r.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){o(n)}}:t}var r,o,a=new t((function(e,t){r=e,o=t}));return this.Ja(i(e,r),i(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(i.b){case 1:e(i.c);break;case 2:t(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=a(e),o=r.next();!o.done;o=r.next())i(o.value).Ja(t,n)}))},t.all=function(e){var n=a(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ja(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var s=s||{},u=this||self;function l(e){return"string"==typeof e}function c(e){return"boolean"==typeof e}var h=/^[\w+\/_-]+[=]{0,2}$/,d=null;function f(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function m(e){return null===e}function v(e){return"array"==p(e)}function y(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==p(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),E=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function k(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:k).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now||function(){return+new Date};function I(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.fd=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function A(e){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function O(e,t){for(var n="",i=(e=e.split("%s")).length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");A.call(this,n+e[i])}function x(e,t){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function M(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function R(){this.b=this.a=null}I(A,Error),A.prototype.name="CustomError",I(O,A),O.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var L=new N((function(){return new B}),(function(e){e.reset()}));function P(){var e=He,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}function F(e,t){e:{try{var n=e&&e.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||u).Element&&i.Location){var r=i;break e}}catch(a){}r=null}if(r&&"undefined"!=typeof r[t]&&(!e||!(e instanceof r[t])&&(e instanceof r.Location||e instanceof r.Element))){if(b(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}R.prototype.add=function(e,t){var n=L.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(l(e))return l(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},U=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=l(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};var q=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r=l(e)?e.split(""):e,o=0;o<n;o++)o in r&&(i[o]=t.call(void 0,r[o],o,e));return i},j=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=l(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e))return!0;return!1};function W(e,t){return 0<=V(e,t)}function H(e,t){var n;return(n=0<=(t=V(e,t)))&&Array.prototype.splice.call(e,t,1),n}function z(e,t){!function(e,t){for(var n=l(e)?e.split(""):e,i=e.length-1;0<=i;--i)i in n&&t.call(void 0,n[i],i,e)}(e,(function(n,i){t.call(void 0,n,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&0}))}function $(e){return Array.prototype.concat.apply([],arguments)}function K(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function Q(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function G(e){for(var t in e)return!1;return!0}function Y(e){var t,n={};for(t in e)n[t]=e[t];return n}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<X.length;o++)n=X[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Z(e,t){this.a=e===ne&&t||"",this.b=te}function ee(e){return e instanceof Z&&e.constructor===Z&&e.b===te?e.a:(x("expected object of type Const, got '"+e+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var te={},ne={},ie=new Z(ne,"");function re(){this.a="",this.b=le}function oe(e){return e instanceof re&&e.constructor===re&&e.b===le?e.a:(x("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function ae(e,t){var n=ee(e);if(!ue.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ce(e=n.replace(se,(function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[i])instanceof Z?ee(e):encodeURIComponent(String(e))})))}re.prototype.qa=!0,re.prototype.pa=function(){return this.a.toString()},re.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,ue=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,le={};function ce(e){var t=new re;return t.a=e,t}var he=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},de=/&/g,fe=/</g,pe=/>/g,me=/"/g,ve=/'/g,ye=/\x00/g,ge=/[\x00&<>"']/;function be(e,t){return-1!=e.indexOf(t)}function we(e,t){return e<t?-1:e>t?1:0}function Ee(){this.a="",this.b=Ce}function _e(e){return e instanceof Ee&&e.constructor===Ee&&e.b===Ce?e.a:(x("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}Ee.prototype.qa=!0,Ee.prototype.pa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ke=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Te(e){return e instanceof Ee?e:(e="object"==typeof e&&e.qa?e.pa():String(e),ke.test(e)||(e="about:invalid#zClosurez"),Ie(e))}var Se,Ce={};function Ie(e){var t=new Ee;return t.a=e,t}Ie("about:blank");e:{var De=u.navigator;if(De){var Ae=De.userAgent;if(Ae){Se=Ae;break e}}Se=""}function Oe(e){return be(Se,e)}function xe(){this.a="",this.b=Me}function Ne(e){return e instanceof xe&&e.constructor===xe&&e.b===Me?e.a:(x("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}xe.prototype.qa=!0,xe.prototype.pa=function(){return this.a.toString()},xe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Me={};function Re(e){var t=new xe;return t.a=e,t}Re("<!DOCTYPE html>");var Le,Pe,Be=Re("");function Fe(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Ve(e){return ge.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(de,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(fe,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(pe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(me,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ve,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ye,"&#0;"))),e}function Ue(e){u.setTimeout((function(){throw e}),0)}function qe(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Oe("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=ce(ee(ie));F(e,"HTMLIFrameElement"),e.src=oe(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Ne(Be)),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=T((function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),"undefined"!==typeof e&&!Oe("Trident")&&!Oe("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){i.next={yb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}function je(e,t){Pe||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);Pe=function(){e.then(ze)}}else Pe=function(){var e=ze;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!Oe("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Le||(Le=qe()),Le(e)):u.setImmediate(e)}}(),We||(Pe(),We=!0),He.add(e,t)}Re("<br>");var We=!1,He=new R;function ze(){for(var e;e=P();){try{e.a.call(e.b)}catch(t){Ue(t)}M(L,e)}We=!1}function $e(e,t){if(this.a=Ke,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){ot(n,Qe,e)}),(function(e){if(!(e instanceof dt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}ot(n,Ge,e)}))}catch(i){ot(this,Ge,i)}}var Ke=0,Qe=2,Ge=3;function Ye(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ye.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xe=new N((function(){return new Ye}),(function(e){e.reset()}));function Je(e,t,n){var i=Xe.get();return i.g=e,i.b=t,i.f=n,i}function Ze(e){if(e instanceof $e)return e;var t=new $e(f);return ot(t,Qe,e),t}function et(e){return new $e((function(t,n){n(e)}))}function tt(e,t,n){at(e,t,n,null)||je(S(t,e))}function nt(e){return new $e((function(t){var n=e.length,i=[];if(n)for(var r=function(e,r,o){n--,i[e]=r?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(i)},o=0;o<e.length;o++)tt(e[o],S(r,o,!0),S(r,o,!1));else t(i)}))}function it(e,t){e.b||e.a!=Qe&&e.a!=Ge||st(e),e.f?e.f.next=t:e.b=t,e.f=t}function rt(e,t,n,i){var r=Je(null,null,null);return r.a=new $e((function(e,o){r.g=t?function(n){try{var r=t.call(i,n);e(r)}catch(a){o(a)}}:e,r.b=n?function(t){try{var r=n.call(i,t);void 0===r&&t instanceof dt?o(t):e(r)}catch(a){o(a)}}:o})),r.a.c=e,it(e,r),r.a}function ot(e,t,n){e.a==Ke&&(e===n&&(t=Ge,n=new TypeError("Promise cannot resolve to itself")),e.a=1,at(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,st(e),t!=Ge||n instanceof dt||function(e,t){e.g=!0,je((function(){e.g&&ht.call(null,t)}))}(e,n)))}function at(e,t,n,i){if(e instanceof $e)return it(e,Je(t||f,n||null,i)),!0;if(D(e))return e.then(t,n,i),!0;if(b(e))try{var r=e.then;if(g(r))return function(e,t,n,i,r){function o(e){a||(a=!0,i.call(r,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(r,e))}),o)}catch(s){o(s)}}(e,r,t,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function st(e){e.h||(e.h=!0,je(e.Zb,e))}function ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function lt(e,t,n,i){if(n==Ge&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ct(t,n,i);else try{t.c?t.g.call(t.f):ct(t,n,i)}catch(r){ht.call(null,r)}M(Xe,t)}function ct(e,t,n){t==Qe?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}$e.prototype.then=function(e,t,n){return rt(this,g(e)?e:null,g(t)?t:null,n)},$e.prototype.$goog_Thenable=!0,(t=$e.prototype).ka=function(e,t){return(e=Je(e,e,t)).c=!0,it(this,e),this},t.s=function(e,t){return rt(this,null,e,t)},t.cancel=function(e){this.a==Ke&&je((function(){!function e(t,n){if(t.a==Ke)if(t.c){var i=t.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==t&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==Ke&&1==r?e(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):ut(i),lt(i,o,Ge,n)))}t.c=null}else ot(t,Ge,n)}(this,new dt(e))}),this)},t.Oc=function(e){this.a=Ke,ot(this,Qe,e)},t.Pc=function(e){this.a=Ke,ot(this,Ge,e)},t.Zb=function(){for(var e;e=ut(this);)lt(this,e,this.a,this.i);this.h=!1};var ht=Ue;function dt(e){A.call(this,e)}function ft(){0!=pt&&(mt[this[w]||(this[w]=++E)]=this),this.ta=this.ta,this.la=this.la}I(dt,A),dt.prototype.name="cancel";var pt=0,mt={};function vt(e){if(!e.ta&&(e.ta=!0,e.xa(),0!=pt)){var t=e[w]||(e[w]=++E);if(0!=pt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete mt[t]}}function yt(e){return yt[" "](e),e}ft.prototype.ta=!1,ft.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},yt[" "]=f;var gt,bt=Oe("Opera"),wt=Oe("Trident")||Oe("MSIE"),Et=Oe("Edge"),_t=Et||wt,kt=Oe("Gecko")&&!(be(Se.toLowerCase(),"webkit")&&!Oe("Edge"))&&!(Oe("Trident")||Oe("MSIE"))&&!Oe("Edge"),Tt=be(Se.toLowerCase(),"webkit")&&!Oe("Edge");function St(){var e=u.document;return e?e.documentMode:void 0}e:{var Ct="",It=function(){var e=Se;return kt?/rv:([^\);]+)(\)|;)/.exec(e):Et?/Edge\/([\d\.]+)/.exec(e):wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tt?/WebKit\/(\S+)/.exec(e):bt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(It&&(Ct=It?It[1]:""),wt){var Dt=St();if(null!=Dt&&Dt>parseFloat(Ct)){gt=String(Dt);break e}}gt=Ct}var At,Ot={};function xt(e){return function(e,t){var n=Ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=he(String(gt)).split("."),i=he(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=we(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||we(0==a[2].length,0==s[2].length)||we(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}At=u.document&&wt?St():void 0;var Nt=Object.freeze||function(e){return e},Mt=!wt||9<=Number(At),Rt=wt&&!xt("9"),Lt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(n){}return e}();function Pt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Bt(e,t){if(Pt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(kt){e:{try{yt(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=l(e.pointerType)?e.pointerType:Ft[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Pt.prototype.preventDefault=function(){this.Mb=!1},I(Bt,Pt);var Ft=Nt({2:"touch",3:"pen",4:"mouse"});Bt.prototype.preventDefault=function(){Bt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Rt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Bt.prototype.f=function(){return this.a};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function qt(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.Na=r,this.key=++Ut,this.ra=this.Ia=!1}function jt(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function Wt(e){this.src=e,this.a={},this.b=0}function Ht(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(jt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function zt(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==i)return r}return-1}Wt.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=zt(e,t,i,r);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new qt(t,this.src,o,!!i,r)).Ia=n,e.push(t)),t};var $t="closure_lm_"+(1e6*Math.random()|0),Kt={};function Qt(e,t,n,i,r){if(i&&i.once)Yt(e,t,n,i,r);else if(v(t))for(var o=0;o<t.length;o++)Qt(e,t[o],n,i,r);else n=an(n),e&&e[Vt]?un(e,t,n,b(i)?!!i.capture:!!i,r):Gt(e,t,n,!1,i,r)}function Gt(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=b(r)?!!r.capture:!!r,s=rn(e);if(s||(e[$t]=s=new Wt(e)),!(n=s.add(t,n,i,a,o)).proxy){if(i=function(){var e=nn,t=Mt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Lt||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Zt(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}0}}function Yt(e,t,n,i,r){if(v(t))for(var o=0;o<t.length;o++)Yt(e,t[o],n,i,r);else n=an(n),e&&e[Vt]?ln(e,t,n,b(i)?!!i.capture:!!i,r):Gt(e,t,n,!0,i,r)}function Xt(e,t,n,i,r){if(v(t))for(var o=0;o<t.length;o++)Xt(e,t[o],n,i,r);else i=b(i)?!!i.capture:!!i,n=an(n),e&&e[Vt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=zt(o=e.a[t],n,i,r))&&(jt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=rn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=zt(t,n,i,r)),(n=-1<e?t[e]:null)&&Jt(n))}function Jt(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[Vt])Ht(t.u,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Zt(n),i):t.addListener&&t.removeListener&&t.removeListener(i),0,(n=rn(t))?(Ht(n,e),0==n.b&&(n.src=null,t[$t]=null)):jt(e)}}}function Zt(e){return e in Kt?Kt[e]:Kt[e]="on"+e}function en(e,t,n,i){var r=!0;if((e=rn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=tn(o,i),r=r&&!1!==o)}return r}function tn(e,t){var n=e.listener,i=e.Na||e.src;return e.Ia&&Jt(e),n.call(i,t)}function nn(e,t){if(e.ra)return!0;if(!Mt){if(!t)e:{t=["window","event"];for(var n=u,i=0;i<t.length;i++)if(null==(n=n[t[i]])){t=null;break e}t=n}if(t=new Bt(i=t,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(a){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.b;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;0<=r;r--){t.b=i[r];var o=en(i[r],e,!0,t);n=n&&o}for(r=0;r<i.length;r++)t.b=i[r],o=en(i[r],e,!1,t),n=n&&o}return n}return tn(e,new Bt(t,this))}function rn(e){return(e=e[$t])instanceof Wt?e:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(e){return g(e)?e:(e[on]||(e[on]=function(t){return e.handleEvent(t)}),e[on])}function sn(){ft.call(this),this.u=new Wt(this),this.Sb=this,this.Wa=null}function un(e,t,n,i,r){e.u.add(String(t),n,!1,i,r)}function ln(e,t,n,i,r){e.u.add(String(t),n,!0,i,r)}function cn(e,t,n,i){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Ht(e.u,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Mb}function hn(e,t,n){if(g(e))n&&(e=T(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function dn(e){var t=null;return new $e((function(n,i){-1==(t=hn((function(){n(void 0)}),e))&&i(Error("Failed to schedule timer."))})).s((function(e){throw u.clearTimeout(t),e}))}function fn(e){if(e.U&&"function"==typeof e.U)return e.U();if(l(e))return e.split("");if(y(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}function pn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(y(e)||l(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var i in t=[],n=0,e)t[n++]=i;return t}}function mn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof mn)for(n=e.X(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function vn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];yn(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)yn(r,i=e.a[t])||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(sn,ft),sn.prototype[Vt]=!0,sn.prototype.addEventListener=function(e,t,n,i){Qt(this,e,t,n,i)},sn.prototype.removeEventListener=function(e,t,n,i){Xt(this,e,t,n,i)},sn.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var i=e.type||e;if(l(e))e=new Pt(e,n);else if(e instanceof Pt)e.target=e.target||n;else{var r=e;J(e=new Pt(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];r=cn(a,i,!0,e)&&r}if(r=cn(a=e.b=n,i,!0,e)&&r,r=cn(a,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=cn(a=e.b=t[o],i,!1,e)&&r;return r},sn.prototype.xa=function(){if(sn.qb.xa.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)0,jt(n[i]);delete t.a[e],t.b--}}this.Wa=null},(t=mn.prototype).U=function(){vn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.X=function(){return vn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return yn(this.b,e)?this.b[e]:t},t.set=function(e,t){yn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var gn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof bn?(this.h=void 0!==t?t:e.h,wn(this,e.f),this.i=e.i,this.b=e.b,En(this,e.l),this.c=e.c,_n(this,qn(e.a)),this.g=e.g):e&&(n=String(e).match(gn))?(this.h=!!t,wn(this,n[1]||"",!0),this.i=In(n[2]||""),this.b=In(n[3]||"",!0),En(this,n[4]),this.c=In(n[5]||"",!0),_n(this,n[6]||"",!0),this.g=In(n[7]||"")):(this.h=!!t,this.a=new Ln(null,this.h))}function wn(e,t,n){e.f=n?In(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function En(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function _n(e,t,n){t instanceof Ln?(e.a=t,function(e,t){t&&!e.f&&(Pn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fn(this,t),Un(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=Dn(t,Mn)),e.a=new Ln(t,e.h))}function kn(e,t,n){e.a.set(t,n)}function Tn(e,t){return e.a.get(t)}function Sn(e){return e instanceof bn?new bn(e):new bn(e,void 0)}function Cn(e,t){var n=new bn(null,void 0);return wn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function In(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dn(e,t,n){return l(e)?(e=encodeURI(e).replace(t,An),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function An(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Dn(t,On,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(Dn(t,On,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dn(n,"/"==n.charAt(0)?Nn:xn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Dn(n,Rn)),e.join("")},bn.prototype.resolve=function(e){var t=new bn(this),n=!!e.f;n?wn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var i=e.c;if(n)En(t,e.l);else if(n=!!e.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=t.c.lastIndexOf("/");-1!=r&&(i=t.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(be(r,"./")||be(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?t.c=i:n=""!==e.a.toString(),n?_n(t,qn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var On=/[#\/\?@]/g,xn=/[#\?:]/g,Nn=/[#\?]/g,Mn=/[#\?@]/g,Rn=/#/g;function Ln(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Pn(e){e.a||(e.a=new mn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bn(e){var t=pn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Ln(null,void 0);e=fn(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];v(o)?Un(n,r,o):n.add(r,o)}return n}function Fn(e,t){Pn(e),t=jn(e,t),yn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,yn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&vn(e)))}function Vn(e,t){return Pn(e),t=jn(e,t),yn(e.a.b,t)}function Un(e,t,n){Fn(e,t),0<n.length&&(e.c=null,e.a.set(jn(e,t),K(n)),e.b+=n.length)}function qn(e){var t=new Ln;return t.c=e.c,e.a&&(t.a=new mn(e.a),t.b=e.b),t}function jn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(t=Ln.prototype).add=function(e,t){Pn(this),this.c=null,e=jn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){Pn(this),this.a.forEach((function(n,i){U(n,(function(n){e.call(t,n,i,this)}),this)}),this)},t.X=function(){Pn(this);for(var e=this.a.U(),t=this.a.X(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},t.U=function(e){Pn(this);var t=[];if(l(e))Vn(this,e)&&(t=$(t,this.a.get(jn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},t.set=function(e,t){return Pn(this),this.c=null,Vn(this,e=jn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.U(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")};var Wn=!wt||9<=Number(At);function Hn(e){var t=document;return l(e)?t.getElementById(e):e}function zn(e,t){Q(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:$n.hasOwnProperty(n)?e.setAttribute($n[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var $n={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kn(e,t,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!Wn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ve(a.name),'"'),a.type){o.push(' type="',Ve(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=r.createElement(o),a&&(l(a)?o.className=a:v(a)?o.className=a.join(" "):zn(o,a)),2<i.length&&function(e,t,n){function i(n){n&&t.appendChild(l(n)?e.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!y(o)||b(o)&&0<o.nodeType?i(o):U(Qn(o)?K(o):o,i)}}(r,o,i),o}function Qn(e){if(e&&"number"==typeof e.length){if(b(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1}function Gn(e){var t=[];return function e(t,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(v(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),e(t,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(a=n[r])&&(i.push(o),Zn(r,i),i.push(":"),e(t,a,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,e,t),t.join("")}function Yn(){}var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(e,t){t.push('"',e.replace(Jn,(function(e){var t=Xn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Xn[e]=t),t})),'"')}function ei(){var e=bi();return wt&&!!At&&11==At||/Edge\/\d+/.test(e)}function ti(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ni(e,t){t=t||u.window;var n="about:blank";e&&(n=_e(Te(e)).toString()),t.location.href=n}function ii(e){return!!((e=(e||bi()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ri(e){e=e||u.window;try{e.close()}catch(t){}}function oi(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=bi().toLowerCase(),i&&(t.target=i,be(n,"crios/")&&(t.target="_blank")),vi(bi())==pi&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof Ee?n:Te("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,r=[],e)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(e[a]?1:0))}var a=r.join(",");if((Oe("iPhone")&&!Oe("iPod")&&!Oe("iPad")||Oe("iPad")||Oe("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(F(a=i.document.createElement("A"),"HTMLAnchorElement"),t instanceof Ee||t instanceof Ee||(t="object"==typeof t&&t.qa?t.pa():String(t),ke.test(t)||(t="about:invalid#zClosurez"),t=Ie(t)),a.href=_e(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=i.open("",n,a),e=_e(t).toString(),a&&(_t&&be(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Re('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ve(e)+'">'),a.document.write(Ne(e)),a.document.close())):(a=i.open(_e(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,si=/^[^@]+@[^@]+$/;function ui(){var e=null;return new $e((function(t){"complete"==u.document.readyState?t():(e=function(){t()},Yt(window,"load",e))})).s((function(t){throw Xt(window,"load",e),t}))}function li(e){return e=e||bi(),!("file:"!==Ti()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ci(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function hi(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function di(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":hi()?"Worker":"Browser"}function fi(){var e=di();return"ReactNative"===e||"Node"===e}var pi="Firefox",mi="Chrome";function vi(e){var t=e.toLowerCase();return be(t,"opera/")||be(t,"opr/")||be(t,"opios/")?"Opera":be(t,"iemobile")?"IEMobile":be(t,"msie")||be(t,"trident/")?"IE":be(t,"edge/")?"Edge":be(t,"firefox/")?pi:be(t,"silk/")?"Silk":be(t,"blackberry")?"Blackberry":be(t,"webos")?"Webos":!be(t,"safari/")||be(t,"chrome/")||be(t,"crios/")||be(t,"android")?!be(t,"chrome/")&&!be(t,"crios/")||be(t,"edge/")?be(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":mi:"Safari"}var yi={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function gi(e,t){t=t||[];var n,i=[],r={};for(n in yi)r[yi[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof r[t[n]]&&(delete r[t[n]],i.push(t[n]));return i.sort(),(t=i).length||(t=["FirebaseCore-web"]),"Browser"===(i=di())?i=vi(r=bi()):"Worker"===i&&(i=vi(r=bi())+"-"+i),i+"/JsCore/"+e+"/"+t.join(",")}function bi(){return u.navigator&&u.navigator.userAgent||""}function wi(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ei(){try{var e=u.localStorage,t=Ai();if(e)return e.setItem(t,"1"),e.removeItem(t),!ei()||!!u.indexedDB}catch(n){return hi()&&!!u.indexedDB}return!1}function _i(){return(ki()||"chrome-extension:"===Ti()||li())&&!fi()&&Ei()&&!hi()}function ki(){return"http:"===Ti()||"https:"===Ti()}function Ti(){return u.location&&u.location.protocol||null}function Si(e){return!ii(e=e||bi())&&vi(e)!=pi}function Ci(e){return"undefined"===typeof e?null:Gn(e)}function Ii(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Di(e){if(null!==e)return JSON.parse(e)}function Ai(e){return e||Math.floor(1e9*Math.random()).toString()}function Oi(e){return"Safari"!=vi(e=e||bi())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function xi(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ni(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=bi(),t=di(),this.b=ii(e)||"ReactNative"===t}function Mi(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Ri(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Li(){return!(!wi("fireauth.oauthhelper",u)&&!wi("fireauth.iframe",u))}Ni.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!ki()&&"chrome-extension:"!==Ti()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Pi,Bi={};function Fi(e){Bi[e]||(Bi[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Vi={};Object.defineProperty(Vi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vi,"abcd",{configurable:!0,enumerable:!0,value:2}),Pi=2==Vi.abcd}catch($o){Pi=!1}function Ui(e,t,n){Pi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function qi(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Ui(e,n,t[n])}function ji(e){var t={};return qi(t,e),t}function Wi(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Ui(t,n,Wi(e[n]));return t}function Hi(e){var t={},n=e[$i],i=e[Ki];if(!(e=e[Qi])||e!=zi&&!n)throw Error("Invalid provider user info!");t[Yi]=i||null,t[Gi]=n||null,Ui(this,Ji,e),Ui(this,Xi,Wi(t))}var zi="EMAIL_SIGNIN",$i="email",Ki="newEmail",Qi="requestType",Gi="email",Yi="fromEmail",Xi="data",Ji="operation";function Zi(e,t){this.code=tr+e,this.message=t||nr[e]||""}function er(e){var t=e&&e.code;return t?new Zi(t.substring(tr.length),e.message):null}I(Zi,Error),Zi.prototype.A=function(){return{code:this.code,message:this.message}},Zi.prototype.toJSON=function(){return this.A()};var tr="auth/",nr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ir(e){var t=Tn(e=Sn(e),rr)||null,n=Tn(e,or)||null,i=Tn(e,ur)||null;if(i=i&&cr[i]||null,!t||!n||!i)throw new Zi("argument-error",rr+", "+or+"and "+ur+" are required in a valid action code URL.");qi(this,{apiKey:t,operation:i,code:n,continueUrl:Tn(e,ar)||null,languageCode:Tn(e,sr)||null,tenantId:Tn(e,lr)||null})}var rr="apiKey",or="oobCode",ar="continueUrl",sr="languageCode",ur="mode",lr="tenantId",cr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:zi,verifyEmail:"VERIFY_EMAIL"};function hr(e){try{return new ir(e)}catch(t){return null}}function dr(e){var t=e[yr];if("undefined"===typeof t)throw new Zi("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new Zi("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[fr];if(n&&"object"===typeof n){t=n[wr];var i=n[gr];if(n=n[br],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof i&&"boolean"!==typeof i)throw new Zi("argument-error",gr+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Zi("argument-error",br+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new Zi("argument-error",wr+" property must be a non empty string when specified.");if("undefined"!==typeof i||"undefined"!==typeof n)throw new Zi("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Zi("argument-error",fr+" property must be a non null object when specified.");if(this.f=null,(t=e[vr])&&"object"===typeof t){if("string"===typeof(t=t[Er])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new Zi("argument-error",Er+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new Zi("argument-error",vr+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[mr])&&"boolean"!==typeof t)throw new Zi("argument-error",mr+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[pr])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new Zi("argument-error",pr+" property must be a non empty string when specified.");this.i=e||null}var fr="android",pr="dynamicLinkDomain",mr="handleCodeInApp",vr="iOS",yr="url",gr="installApp",br="minimumVersion",wr="packageName",Er="bundleId";function _r(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var kr=null,Tr=null;function Sr(e){var t="";return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=Tr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!kr){kr={},Tr={};for(var e=0;65>e;e++)kr[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Tr[kr[e]]=e,62<=e&&(Tr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Cr(e){this.f=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ir(e){return(e=Dr(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Cr(e):null}function Dr(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Sr(e))}catch(i){}return null}Cr.prototype.R=function(){return this.c},Cr.prototype.g=function(){return this.b};var Ar,Or={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function xr(e){for(var t in Or)if(Or[t].id===e)return{firebaseEndpoint:(e=Or[t]).bb,secureTokenEndpoint:e.ib};return null}Ar=xr("__EID__")?"__EID__":void 0;var Nr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mr=["client_id","response_type","scope","redirect_uri","state"],Rr={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Mr},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Mr},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Mr},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Nr}};function Lr(e){for(var t in Rr)if(Rr[t].Pa==e)return Rr[t];return null}function Pr(e){var t={};t["facebook.com"]=qr,t["google.com"]=Wr,t["github.com"]=jr,t["twitter.com"]=Hr;var n=e&&e[Fr];try{if(n)return t[n]?new t[n](e):new Ur(e);if("undefined"!==typeof e[Br])return new Vr(e)}catch(i){}return null}var Br="idToken",Fr="providerId";function Vr(e){var t=e[Fr];if(!t&&e[Br]){var n=Ir(e[Br]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Ui(this,"providerId",t),Ui(this,"isNewUser",n)}function Ur(e){Vr.call(this,e),Ui(this,"profile",Wi((e=Di(e.rawUserInfo||"{}"))||{}))}function qr(e){if(Ur.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function jr(e){if(Ur.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ui(this,"username",this.profile&&this.profile.login||null)}function Wr(e){if(Ur.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hr(e){if(Ur.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ui(this,"username",e.screenName||null)}function zr(e){var t=Sn(e),n=Tn(t,"link"),i=Tn(Sn(n),"link");return t=Tn(t,"deep_link_id"),Tn(Sn(t),"link")||t||i||n||e}function $r(){}function Kr(e,t){return e.then((function(e){if(e[Pa]){var n=Ir(e[Pa]);if(!n||t!=n.f)throw new Zi("user-mismatch");return e}throw new Zi("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==tr+"user-not-found"?new Zi("user-mismatch"):e}))}function Qr(e,t){if(!t)throw new Zi("internal-error","failed to construct a credential");this.a=t,Ui(this,"providerId",e),Ui(this,"signInMethod",e)}function Gr(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Yr(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Qr(e.providerId,e.pendingToken)}catch(t){}return null}function Xr(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Ui(this,"idToken",t.idToken),t.accessToken&&Ui(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Ui(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Zi("internal-error","failed to construct a credential");Ui(this,"accessToken",t.oauthToken),Ui(this,"secret",t.oauthTokenSecret)}Ui(this,"providerId",e),Ui(this,"signInMethod",n)}function Jr(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Bn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Zr(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Xr(e.providerId,t,e.signInMethod)}catch(n){}}return null}function eo(e,t){this.Fc=t||[],qi(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(Lr(e)||{}).Oa||null,this.ab=null}function to(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new Zi("argument-error",'SAML provider IDs must be prefixed with "saml."');eo.call(this,e,[])}function no(e){eo.call(this,e,Mr),this.a=[]}function io(){no.call(this,"facebook.com")}function ro(e){if(!e)throw new Zi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new io).credential({accessToken:t})}function oo(){no.call(this,"github.com")}function ao(e){if(!e)throw new Zi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new oo).credential({accessToken:t})}function so(){no.call(this,"google.com"),this.wa("profile")}function uo(e,t){var n=e;return b(e)&&(n=e.idToken,t=e.accessToken),(new so).credential({idToken:n,accessToken:t})}function lo(){eo.call(this,"twitter.com",Nr)}function co(e,t){var n=e;if(b(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Zi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xr("twitter.com",n,"twitter.com")}function ho(e,t,n){this.a=e,this.c=t,Ui(this,"providerId","password"),Ui(this,"signInMethod",n===po.EMAIL_LINK_SIGN_IN_METHOD?po.EMAIL_LINK_SIGN_IN_METHOD:po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function fo(e){return e&&e.email&&e.password?new ho(e.email,e.password,e.signInMethod):null}function po(){qi(this,{providerId:"password",isOAuthProvider:!1})}function mo(e,t){if(!(t=vo(t)))throw new Zi("argument-error","Invalid email link!");return new ho(e,t.code,po.EMAIL_LINK_SIGN_IN_METHOD)}function vo(e){return(e=hr(e=zr(e)))&&e.operation===zi?e:null}function yo(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new Zi("internal-error");this.a=e,Ui(this,"providerId","phone"),Ui(this,"signInMethod","phone")}function go(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new yo(t)}return null}function bo(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function wo(e){try{this.a=e||i.a.auth()}catch(t){throw new Zi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qi(this,{providerId:"phone",isOAuthProvider:!1})}function Eo(e,t){if(!e)throw new Zi("missing-verification-id");if(!t)throw new Zi("missing-verification-code");return new yo({Ua:e,Ta:t})}function _o(e){if(e.temporaryProof&&e.phoneNumber)return new yo({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret,r=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return uo(o,n);case"facebook.com":return ro(n);case"github.com":return ao(n);case"twitter.com":return co(n,i);default:return n||i||o||a?a?0==t.indexOf("saml.")?new Qr(t,a):new Xr(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new no(t).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(s){return null}}function ko(e){if(!e.isOAuthProvider)throw new Zi("invalid-oauth-provider")}function To(e,t,n,i,r,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new Zi("invalid-auth-event");if(this.g&&this.a)throw new Zi("invalid-auth-event");if(this.g&&!this.f)throw new Zi("invalid-auth-event")}function So(e){return(e=e||{}).type?new To(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&er(e.error),e.postBody,e.tenantId):null}function Co(){this.b=null,this.a=[]}I(Ur,Vr),I(qr,Ur),I(jr,Ur),I(Wr,Ur),I(Hr,Ur),Qr.prototype.na=function(e){return es(e,Gr(this))},Qr.prototype.b=function(e,t){var n=Gr(this);return n.idToken=t,ts(e,n)},Qr.prototype.f=function(e,t){return Kr(ns(e,Gr(this)),t)},Qr.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Xr.prototype.na=function(e){return es(e,Jr(this))},Xr.prototype.b=function(e,t){var n=Jr(this);return n.idToken=t,ts(e,n)},Xr.prototype.f=function(e,t){return Kr(ns(e,Jr(this)),t)},Xr.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},eo.prototype.Ea=function(e){return this.zb=Y(e),this},I(to,eo),I(no,eo),no.prototype.wa=function(e){return W(this.a,e)||this.a.push(e),this},no.prototype.Hb=function(){return K(this.a)},no.prototype.credential=function(e,t){var n;if(!(n=b(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Zi("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xr(this.providerId,n,this.providerId)},I(io,no),Ui(io,"PROVIDER_ID","facebook.com"),Ui(io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(oo,no),Ui(oo,"PROVIDER_ID","github.com"),Ui(oo,"GITHUB_SIGN_IN_METHOD","github.com"),I(so,no),Ui(so,"PROVIDER_ID","google.com"),Ui(so,"GOOGLE_SIGN_IN_METHOD","google.com"),I(lo,eo),Ui(lo,"PROVIDER_ID","twitter.com"),Ui(lo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ho.prototype.na=function(e){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?xs(e,cs,{email:this.a,oobCode:this.c}):xs(e,Is,{email:this.a,password:this.c})},ho.prototype.b=function(e,t){return this.signInMethod==po.EMAIL_LINK_SIGN_IN_METHOD?xs(e,hs,{idToken:t,email:this.a,oobCode:this.c}):xs(e,Es,{idToken:t,email:this.a,password:this.c})},ho.prototype.f=function(e,t){return Kr(this.na(e),t)},ho.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},qi(po,{PROVIDER_ID:"password"}),qi(po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qi(po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),yo.prototype.na=function(e){return e.Va(bo(this))},yo.prototype.b=function(e,t){var n=bo(this);return n.idToken=t,xs(e,As,n)},yo.prototype.f=function(e,t){var n=bo(this);return n.operation="REAUTH",Kr(e=xs(e,Os,n),t)},yo.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},wo.prototype.Va=function(e,t){var n=this.a.b;return Ze(t.verify()).then((function(i){if(!l(i))throw new Zi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return xs(e,bs,t)}(n,{phoneNumber:e,recaptchaToken:i}).then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new Zi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},qi(wo,{PROVIDER_ID:"phone"}),qi(wo,{PHONE_SIGN_IN_METHOD:"phone"}),To.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},To.prototype.R=function(){return this.h},To.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Io,Do=null;function Ao(e){var t="unauthorized-domain",n=void 0,i=Sn(e);e=i.b,"chrome-extension"==(i=i.f)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Zi.call(this,t,n)}function Oo(e,t,n){Zi.call(this,e,n),(e=t||{}).Ab&&Ui(this,"email",e.Ab),e.ba&&Ui(this,"phoneNumber",e.ba),e.credential&&Ui(this,"credential",e.credential),e.Qb&&Ui(this,"tenantId",e.Qb)}function xo(e){if(e.code){var t=e.code||"";0==t.indexOf(tr)&&(t=t.substring(tr.length));var n={credential:_o(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Zi(t,e.message||void 0);return new Oo(t,n,e.message)}return null}function No(){}function Mo(e){return e.c||(e.c=e.b())}function Ro(){}function Lo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Po(){}function Bo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.fc,this),this.a.onerror=T(this.Ib,this),this.a.onprogress=T(this.gc,this),this.a.ontimeout=T(this.kc,this)}function Fo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Vo(e,t,n){this.reset(e,t,n,void 0,void 0)}I(Ao,Zi),I(Oo,Zi),Oo.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&J(e,t),e},Oo.prototype.toJSON=function(){return this.A()},No.prototype.c=null,I(Ro,No),Ro.prototype.a=function(){var e=Lo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ro.prototype.b=function(){var e={};return Lo(this)&&(e[0]=!0,e[1]=!0),e},Io=new Ro,I(Po,No),Po.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Bo;throw Error("Unsupported browser")},Po.prototype.b=function(){return{}},(t=Bo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Fo(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Fo(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Fo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Vo.prototype.a=null;function Uo(e){this.f=e,this.b=this.c=this.a=null}function qo(e,t){this.name=e,this.value=t}Vo.prototype.reset=function(e,t,n,i,r){"number"==typeof r||0,i||C(),delete this.a},qo.prototype.toString=function(){return this.name};var jo=new qo("SEVERE",1e3),Wo=new qo("WARNING",900),Ho=new qo("CONFIG",700),zo=new qo("FINE",500);Uo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(x("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new Vo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var $o,Ko={},Qo=null;function Go(e){var t;if(Qo||(Qo=new Uo(""),Ko[""]=Qo,Qo.c=Ho),!(t=Ko[e])){t=new Uo(e);var n=e.lastIndexOf("."),i=e.substr(n+1);(n=Go(e.substr(0,n))).b||(n.b={}),n.b[i]=t,t.a=n,Ko[e]=t}return t}function Yo(e,t){e&&e.log(zo,t,void 0)}function Xo(e){this.f=e}function Jo(e){sn.call(this),this.o=e,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Go("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(Xo,No),Xo.prototype.a=function(){return new Jo(this.f)},Xo.prototype.b=($o={},function(){return $o}),I(Jo,sn);var Zo=0;function ea(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function ta(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,na(e)}function na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ia(e){sn.call(this),this.headers=new mn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ra,this.v=this.P=!1}(t=Jo.prototype).open=function(e,t){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,na(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ta(this,!1)),this.readyState=Zo},t.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ea(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ta(this,!0):na(this),3==this.readyState&&ea(this)}},t.ic=function(e){this.a&&(this.response=this.responseText=e,ta(this,!0))},t.hc=function(e){this.a&&(this.response=e,ta(this,!0))},t.Ma=function(e){var t=this.h;t&&t.log(Wo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ta(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Wo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Wo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},I(ia,sn);var ra="";ia.prototype.b=Go("goog.net.XhrIo");var oa=/^https?$/i,aa=["POST","PUT"];function sa(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():Io.a(),e.w=e.B?Mo(e.B):Mo(Io),e.a.onreadystatechange=T(e.Lb,e);try{Yo(e.b,va(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(a){return Yo(e.b,va(e,"Error opening Xhr: "+a.message)),void la(e,a)}t=i||"";var o=new mn(e.headers);r&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||l(e))U(e,t,void 0);else for(var n=pn(e),i=fn(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=ua,n=e.length,i=l(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return 0>t?null:l(e)?e.charAt(t):e[t]}(o.X()),i=u.FormData&&t instanceof u.FormData,!W(aa,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{fa(e),0<e.g&&(e.v=function(e){return wt&&xt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Yo(e.b,va(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=T(e.Ga,e)):e.o=hn(e.Ga,e.g,e)),Yo(e.b,va(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){Yo(e.b,va(e,"Send error: "+a.message)),la(e,a)}}function ua(e){return"content-type"==e.toLowerCase()}function la(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ca(e),da(e)}function ca(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ha(e){if(e.c&&"undefined"!=typeof s)if(e.w[1]&&4==pa(e)&&2==ma(e))Yo(e.b,va(e,"Local request error detected and ignored"));else if(e.i&&4==pa(e))hn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==pa(e)){Yo(e.b,va(e,"Request complete")),e.c=!1;try{var t,n=ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var r;if(r=0===n){var o=String(e.l).match(gn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}r=!oa.test(o?o.toLowerCase():"")}t=r}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<pa(e)?e.a.statusText:""}catch(c){Yo(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+ma(e)+"]",ca(e)}}finally{da(e)}}}function da(e,t){if(e.a){fa(e);var n=e.a,i=e.w[0]?f:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(e=e.b)&&e.log(jo,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function fa(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(u.clearTimeout(e.o),e.o=null)}function pa(e){return e.a?e.a.readyState:0}function ma(e){try{return 2<pa(e)?e.a.status:-1}catch(t){return-1}}function va(e,t){return t+" ["+e.O+" "+e.l+" "+ma(e)+"]"}function ya(e){var t=Da;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ga(e,t,n){e.a=!0,e.c=n,e.f=!t,_a(e)}function ba(e){if(e.a){if(!e.u)throw new ka(e);e.u=!1}}function wa(e,t,n,i){e.g.push([t,n,i]),e.a&&_a(e)}function Ea(e){return j(e.g,(function(e){return g(e[1])}))}function _a(e){if(e.h&&e.a&&Ea(e)){var t=e.h,n=Ca[t];n&&(u.clearTimeout(n.a),delete Ca[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=n=!1;e.g.length&&!e.i;){var r=e.g.shift(),o=r[0],a=r[1];if(r=r[2],o=e.f?a:o)try{var s=o.call(r||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(D(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(i=!0,e.i=!0)}catch(l){t=l,e.f=!0,Ea(e)||(n=!0)}}e.c=t,i&&(s=T(e.m,e,!0),i=T(e.m,e,!1),t instanceof ya?(wa(t,s,i),t.w=!0):t.then(s,i)),n&&(t=new Sa(t),Ca[t.a]=t,e.h=t.a)}function ka(){A.call(this)}function Ta(){A.call(this)}function Sa(e){this.a=u.setTimeout(T(this.c,this),0),this.b=e}(t=ia.prototype).Ga=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Yo(this.b,va(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Yo(this.b,va(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),da(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),da(this,!0)),ia.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?ha(this):this.yc())},t.yc=function(){ha(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ra:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Yo(this.b,"Can not get response: "+t.message),null}},ya.prototype.cancel=function(e){if(this.a)this.c instanceof ya&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Ta(this),ba(this),ga(this,!1,e))}},ya.prototype.m=function(e,t){this.i=!1,ga(this,e,t)},ya.prototype.then=function(e,t,n){var i,r,o=new $e((function(e,t){i=e,r=t}));return wa(this,i,(function(e){e instanceof Ta?o.cancel():r(e)})),o.then(e,t,n)},ya.prototype.$goog_Thenable=!0,I(ka,A),ka.prototype.message="Deferred has already fired",ka.prototype.name="AlreadyCalledError",I(Ta,A),Ta.prototype.message="Deferred was canceled",Ta.prototype.name="CanceledError",Sa.prototype.c=function(){throw delete Ca[this.a],this.b};var Ca={};function Ia(e){var t={},n=t.document||document,i=oe(e).toString(),r=document.createElement("SCRIPT"),o={Nb:r,Ga:void 0},a=new ya(o),s=null,l=null!=t.timeout?t.timeout:5e3;return 0<l&&(s=window.setTimeout((function(){Aa(r,!0);var e=new Na(xa,"Timeout reached for loading script "+i);ba(a),ga(a,!1,e)}),l),o.Ga=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Aa(r,t.gd||!1,s),ba(a),ga(a,!0,null))},r.onerror=function(){Aa(r,!0,s);var e=new Na(Oa,"Error while loading script "+i);ba(a),ga(a,!1,e)},J(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(r,o),function(e,t){F(e,"HTMLScriptElement"),e.src=oe(t),null===d&&(d=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&h.test(t)?t:""),(t=d)&&e.setAttribute("nonce",t)}(r,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(r),a}function Da(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Aa(e,!0,this.Ga)}}function Aa(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Oa=0,xa=1;function Na(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),A.call(this,n),this.code=e}function Ma(e){this.f=e}function Ra(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Ba,this.g=Y(e.secureTokenHeaders||Fa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Va,this.a=Y(e.firebaseHeaders||Ua),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==di(),!(n=u.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!hi())throw new Zi("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hi()?this.f=new Xo(self):fi()?this.f=new Ma(n):this.f=new Po,this.b=null}I(Na,A),I(Ma,No),Ma.prototype.a=function(){return new this.f},Ma.prototype.b=function(){return{}};var La,Pa="idToken",Ba=new Ni(3e4,6e4),Fa={"Content-Type":"application/x-www-form-urlencoded"},Va=new Ni(3e4,6e4),Ua={"Content-Type":"application/json"};function qa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ja(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Wa(e,t,n,i,r,o,a){(function(){var e=bi();return!((e=vi(e)!=mi?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!wt||!At||9<At)})()||hi()?e=T(e.o,e):(La||(La=new $e((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[za]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){wa(e,null,t,void 0)}(Ia(ae(Ha,{onload:za})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=T(e.m,e)),e(t,n,i,r,o,a)}Ra.prototype.R=function(){return this.b},Ra.prototype.o=function(e,t,n,i,r,o){if(hi()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new Zi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ia(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}un(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Yo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),ln(a,"ready",(function(){s&&clearTimeout(s),vt(this)})),ln(a,"timeout",(function(){s&&clearTimeout(s),vt(this),t&&t(null)})),sa(a,e,n,i,r)};var Ha=new Z(ne,"https://apis.google.com/js/client.js?onload=%{onload}"),za="__fcb"+Math.floor(1e6*Math.random()).toString();function $a(e){if(!l(e=e.email)||!si.test(e))throw new Zi("invalid-email")}function Ka(e){"email"in e&&$a(e)}function Qa(e){if(!e[Pa])throw new Zi("internal-error")}function Ga(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Zi("internal-error")}else{if(!e.sessionInfo)throw new Zi("missing-verification-id");if(!e.code)throw new Zi("missing-verification-code")}}Ra.prototype.m=function(e,t,n,i,r){var o=this;La.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:i,headers:r,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ra.prototype.ob=function(){return xs(this,_s,{})},Ra.prototype.rb=function(e,t){return xs(this,ws,{idToken:e,email:t})},Ra.prototype.sb=function(e,t){return xs(this,Es,{idToken:e,password:t})};var Ya={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Xa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Zi("internal-error")}function Ja(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Vn(e=new Ln(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Za(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=xo(e)):e.errorMessage&&(t=Ns(e.errorMessage)),t)throw t;if(!e[Pa])throw new Zi("internal-error")}function es(e,t){return t.returnIdpCredential=!0,xs(e,ks,t)}function ts(e,t){return t.returnIdpCredential=!0,xs(e,Ss,t)}function ns(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,xs(e,Ts,t)}function is(e){if(!e.oobCode)throw new Zi("invalid-action-code")}(t=Ra.prototype).tb=function(e,t){var n={idToken:e},i=[];return Q(Ya,(function(e,r){var o=t[r];null===o?i.push(e):r in t&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),xs(this,ws,n)},t.kb=function(e,t){return J(e={requestType:"PASSWORD_RESET",email:e},t),xs(this,ms,e)},t.lb=function(e,t){return J(e={requestType:"EMAIL_SIGNIN",email:e},t),xs(this,fs,e)},t.jb=function(e,t){return J(e={requestType:"VERIFY_EMAIL",idToken:e},t),xs(this,ps,e)},t.Va=function(e){return xs(this,Ds,e)},t.$a=function(e,t){return xs(this,gs,{oobCode:e,newPassword:t})},t.Ka=function(e){return xs(this,os,{oobCode:e})},t.Xa=function(e){return xs(this,rs,{oobCode:e})};var rs={endpoint:"setAccountInfo",D:is,fa:"email",F:!0},os={endpoint:"resetPassword",D:is,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Zi("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(e){if($a(e),!e.password)throw new Zi("weak-password")},K:Qa,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},us={endpoint:"deleteAccount",V:["idToken"]},ls={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!v(e.deleteProvider))throw new Zi("internal-error")}},cs={endpoint:"emailLinkSignin",V:["email","oobCode"],D:$a,K:Qa,T:!0,F:!0},hs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:$a,K:Qa,T:!0},ds={endpoint:"getAccountInfo"},fs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Zi("internal-error");$a(e)},fa:"email",F:!0},ps={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Zi("internal-error")},fa:"email",F:!0},ms={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Zi("internal-error");$a(e)},fa:"email",F:!0},vs={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ys={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Zi("internal-error")}},gs={endpoint:"resetPassword",D:is,fa:"email",F:!0},bs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:Ka,T:!0},Es={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ka(e),!e.password)throw new Zi("weak-password")},K:Qa,T:!0},_s={endpoint:"signupNewUser",K:Qa,T:!0,F:!0},ks={endpoint:"verifyAssertion",D:Xa,Qa:Ja,K:Za,T:!0,F:!0},Ts={endpoint:"verifyAssertion",D:Xa,Qa:Ja,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Zi("user-not-found");if(e.errorMessage)throw Ns(e.errorMessage);if(!e[Pa])throw new Zi("internal-error")},T:!0,F:!0},Ss={endpoint:"verifyAssertion",D:function(e){if(Xa(e),!e.idToken)throw new Zi("internal-error")},Qa:Ja,K:Za,T:!0},Cs={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Zi("invalid-custom-token")},K:Qa,T:!0,F:!0},Is={endpoint:"verifyPassword",D:function(e){if($a(e),!e.password)throw new Zi("wrong-password")},K:Qa,T:!0,F:!0},Ds={endpoint:"verifyPhoneNumber",D:Ga,K:Qa,F:!0},As={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Zi("internal-error");Ga(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",xo(e);Qa(e)}},Os={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ga,K:Qa,F:!0};function xs(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(void 0===i||null===i||""===i)return!1}return!0}(n,t.V))return et(new Zi("internal-error"));var i,r=t.Kb||"POST";return Ze(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),function(e,t,n,i,r,o){var a=Sn(e.h+t);kn(a,"key",e.c),o&&kn(a,"cb",C().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&kn(a,u,i[u]);return new $e((function(t,o){Wa(e,a.toString(),(function(e){e?e.error?o(Ms(e,r||{})):t(e):o(new Zi("network-request-failed"))}),n,s?void 0:Gn(Ii(i)),e.a,e.i.get())}))}(e,t.endpoint,r,n,t.Yb,t.wb||!1)})).then((function(e){return i=e,t.Qa?t.Qa(n,i):i})).then(t.K).then((function(){if(!t.fa)return i;if(!(t.fa in i))throw new Zi("internal-error");return i[t.fa]}))}function Ns(e){return Ms({error:{errors:[{message:e}],code:400,message:e}})}function Ms(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Zi(i[n]):null)return n;for(var r in n=e.error&&e.error.message||"",J(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,i)if(0===n.indexOf(r))return new Zi(i[r],t);return!t&&e&&(t=Ci(e)),new Zi("internal-error",t)}function Rs(e){this.b=e,this.a=null,this.fb=function(e){return(Fs||(Fs=new $e((function(e,t){function n(){xi(),wi("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){xi(),t(Error("Network Error"))},timeout:Ps.get()})}if(wi("gapi.iframes.Iframe"))e();else if(wi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[i]=function(){wi("gapi.load")?n():t(Error("Network Error"))},Ze(Ia(i=ae(Ls,{onload:i}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Fs=null,e})))).then((function(){return new $e((function(t,n){wi("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:wi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Bs.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ls=new Z(ne,"https://apis.google.com/js/api.js?onload=%{onload}"),Ps=new Ni(3e4,6e4),Bs=new Ni(5e3,15e3),Fs=null;function Vs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Cn(this.i,"/__/auth/iframe"),kn(this.a,"apiKey",this.g),kn(this.a,"appName",this.h),this.b=null,this.c=[]}function Us(e,t,n,i,r){this.o=e,this.m=t,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function qs(e){try{return i.a.app(e).auth().Aa()}catch(t){return[]}}function js(e,t,n,i,r){this.u=e,this.f=t,this.b=n,this.c=i||null,this.h=r||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ws(e){var t=ti();return function(e){return xs(e,vs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Sn(t),i=n.f;n=n.b;for(var r=0;r<e.length;r++){var o=e[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=Sn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ai.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ao(ti())}))}function Hs(e){return e.l?e.l:(e.l=ui().then((function(){if(!e.o){var t=e.c,n=e.h,i=qs(e.b),r=new Vs(e.u,e.f,e.b);r.f=t,r.b=n,r.c=K(i||[]),e.o=r.toString()}e.i=new Rs(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then((function(){e.a.register("authEvent",t,wi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var i=!1;for(t=So(t.authEvent),n=0;n<e.g.length;n++)i=e.g[n](t)||i;return(n={}).status=i?"ACK":"ERROR",Ze(n)}return n.status="ERROR",Ze(n)}))}(e)})),e.l)}function zs(e){return e.m||(e.v=e.c?gi(e.c,qs(e.b)):null,e.m=new Ra(e.f,xr(e.h),e.v)),e.m}function $s(e,t,n,i,r,o,a,s,u,l,c){return(e=new Us(e,t,n,i,r)).l=o,e.g=a,e.i=s,e.b=Y(u||null),e.f=l,e.nb(c).toString()}function Ks(e){if(this.a=e||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Zi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Qs(e){this.b=e,this.a={},this.f=T(this.c,this)}Vs.prototype.toString=function(){return this.f?kn(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?kn(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?kn(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},Us.prototype.nb=function(e){return this.h=e,this},Us.prototype.toString=function(){var e=Cn(this.o,"/__/auth/handler");if(kn(e,"apiKey",this.m),kn(e,"appName",this.c),kn(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=i.a.app(this.c).auth().ha()}catch(u){n=null}for(var r in t.ab=n,kn(e,"providerId",this.a.providerId),n=Ii((t=this.a).zb))n[r]=n[r].toString();r=t.Fc,n=Y(n);for(var o=0;o<r.length;o++){var a=r[o];a in n&&delete n[a]}t.cb&&t.ab&&!n[t.cb]&&(n[t.cb]=t.ab),G(n)||kn(e,"customParameters",Ci(n))}if("function"===typeof this.a.Hb&&((t=this.a.Hb()).length&&kn(e,"scopes",t.join(","))),this.l?kn(e,"redirectUrl",this.l):Fn(e.a,"redirectUrl"),this.g?kn(e,"eventId",this.g):Fn(e.a,"eventId"),this.i?kn(e,"v",this.i):Fn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Tn(e,s)&&kn(e,s,this.b[s]);return this.h?kn(e,"tid",this.h):Fn(e.a,"tid"),this.f?kn(e,"eid",this.f):Fn(e.a,"eid"),(s=qs(this.c)).length&&kn(e,"fw",s.join(",")),e.toString()},(t=js.prototype).Fb=function(e,t,n){var i=new Zi("popup-closed-by-user"),r=new Zi("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Hs(e).then((function(){return function(e,t){return e.fb.then((function(){return new $e((function(n){e.a.send(t.type,t,n,wi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&ri(e),t(r),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new $e((function(t){return function n(){dn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return dn(n).then((function(){t(i)}))}))},t.Ob=function(){var e=bi();return!Si(e)&&!Oi(e)},t.Jb=function(){return!1},t.Db=function(e,t,n,i,r,o,a,s){if(!e)return et(new Zi("popup-blocked"));if(a&&!Si())return this.ia().s((function(t){ri(e),r(t)})),i(),Ze();this.a||(this.a=Ws(zs(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw ri(e),r(t),t}));return i(),t})).then((function(){(ko(n),a)||ni($s(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},t.Eb=function(e,t,n,i){this.a||(this.a=Ws(zs(this)));var r=this;return this.a.then((function(){ko(t),ni($s(r.u,r.f,r.b,e,t,ti(),n,r.c,void 0,r.h,i))})).s((function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e}))},t.ia=function(){var e=this;return Hs(this).then((function(){return e.i.fb})).s((function(){throw e.a=null,new Zi("network-request-failed")}))},t.Rb=function(){return!0},t.ya=function(e){this.g.push(e)},t.La=function(e){z(this.g,(function(t){return t==e}))},(t=Ks.prototype).get=function(e){return Ze(this.a.getItem(e)).then((function(e){return e&&Di(e)}))},t.set=function(e,t){return Ze(this.a.setItem(e,Ci(t)))},t.S=function(e){return Ze(this.a.removeItem(e))},t.$=function(){},t.ea=function(){};var Gs,Ys=[];function Xs(e,t,n){G(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Js(e){this.a=e}function Zs(e){this.c=e,this.b=!1,this.a=[]}function eu(e,t,n,i){var r,o,a,s,u=n||{},l=null;if(e.b)return et(Error("connection_unavailable"));var c=i?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new $e((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(e){e.data.eventId===r&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}},e.a.push(l),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))})).then((function(t){return tu(e,l),t})).s((function(t){throw tu(e,l),t}))}function tu(e,t){if(t){var n=t.messageChannel,i=t.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),z(e.a,(function(e){return e==t}))}}function nu(){if(!ou())throw new Zi("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;hi()&&self?(this.l=function(){var e=hi()?self:null;if(U(Ys,(function(n){n.b==e&&(t=n)})),!t){var t=new Qs(e);Ys.push(t)}return t}(),Xs(this.l,"keyChanged",(function(t,n){return cu(e).then((function(t){return 0<t.length&&U(e.a,(function(e){e(t)})),{keyProcessed:W(t,n.key)}}))})),Xs(this.l,"ping",(function(){return Ze(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Ze().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Ze(null)}().then((function(t){(e.h=t)&&(e.g=new Zs(new Js(t)),eu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&W(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function iu(e){return new $e((function(t,n){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(i):function(e){return new $e((function(t,n){var i=e.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){t()},i.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return iu(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function ru(e){return e.m||(e.m=iu(e)),e.m}function ou(){try{return!!u.indexedDB}catch($o){return!1}}function au(e){return e.objectStore("firebaseLocalStorage")}function su(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function uu(e){return new $e((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function lu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?eu(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Ze()}function cu(e){return ru(e).then((function(e){var t=au(su(e,!1));return t.getAll?uu(t.getAll()):new $e((function(e,n){var i=[],r=t.openCursor();r.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},r.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},i=[];if(0==e.b){for(i=0;i<t.length;i++)n[t[i].fbase_key]=t[i].value;i=function e(t,n){var i,r=[];for(i in t)i in n?typeof t[i]!=typeof n[i]?r.push(i):"object"==typeof t[i]&&null!=t[i]&&null!=n[i]?0<e(t[i],n[i]).length&&r.push(i):t[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in t||r.push(i);return r}(e.c,n),e.c=n}return i}))}function hu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function du(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ze().then((function(){if(ou()){var e=Ai(),i="__sak"+e;return Gs||(Gs=new nu),(n=Gs).set(i,e).then((function(){return n.get(i)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(i)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){U(t.a,(function(t){t(e)}))})),e}))}function fu(){this.a={},this.type="inMemory"}function pu(){if(!function(){var e="Node"==di();if(!(e=mu()||e&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==di())throw new Zi("internal-error","The LocalStorage compatibility library was not found.");throw new Zi("web-storage-unsupported")}this.a=mu()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function mu(){try{var e=u.localStorage,t=Ai();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function vu(){this.type="nullStorage"}function yu(){if(!function(){var e="Node"==di();if(!(e=gu()||e&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==di())throw new Zi("internal-error","The SessionStorage compatibility library was not found.");throw new Zi("web-storage-unsupported")}this.a=gu()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gu(){try{var e=u.sessionStorage,t=Ai();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function bu(){var e={};e.Browser=_u,e.Node=ku,e.ReactNative=Tu,e.Worker=Su,this.a=e[di()]}Qs.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,i=this.a[t];if(i&&0<i.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var r=[];U(i,(function(t){r.push(Ze().then((function(){return t(e.origin,e.data.data)})))})),nt(r).then((function(i){var r=[];U(i,(function(e){r.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),U(r,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:r})}))}},Js.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Zs.prototype.close=function(){for(;0<this.a.length;)tu(this,this.a[0]);this.b=!0},(t=nu.prototype).set=function(e,t){var n,i=!1,r=this;return ru(this).then((function(t){return uu((t=au(su(n=t,!0))).get(e))})).then((function(o){var a=au(su(n,!0));return o?(o.value=t,uu(a.put(o))):(r.b++,i=!0,(o={}).fbase_key=e,o.value=t,uu(a.add(o)))})).then((function(){return r.c[e]=t,lu(r,e)})).ka((function(){i&&r.b--}))},t.get=function(e){return ru(this).then((function(t){return uu(au(su(t,!1)).get(e))})).then((function(e){return e&&e.value}))},t.S=function(e){var t=!1,n=this;return ru(this).then((function(i){return t=!0,n.b++,uu(au(su(i,!0)).delete(e))})).then((function(){return delete n.c[e],lu(n,e)})).ka((function(){t&&n.b--}))},t.$=function(e){0==this.a.length&&function(e){hu(e),function t(){e.f=setTimeout((function(){e.i=cu(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},t.ea=function(e){z(this.a,(function(t){return t==e})),0==this.a.length&&hu(this)},(t=du.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},t.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},t.S=function(e){return this.b.then((function(t){return t.S(e)}))},t.$=function(e){this.a.push(e)},t.ea=function(e){z(this.a,(function(t){return t==e}))},(t=fu.prototype).get=function(e){return Ze(this.a[e])},t.set=function(e,t){return this.a[e]=t,Ze()},t.S=function(e){return delete this.a[e],Ze()},t.$=function(){},t.ea=function(){},(t=pu.prototype).get=function(e){var t=this;return Ze().then((function(){return Di(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var i=Ci(t);null===i?n.S(e):n.a.setItem(e,i)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(e){u.window&&Qt(u.window,"storage",e)},t.ea=function(e){u.window&&Xt(u.window,"storage",e)},(t=vu.prototype).get=function(){return Ze(null)},t.set=function(){return Ze()},t.S=function(){return Ze()},t.$=function(){},t.ea=function(){},(t=yu.prototype).get=function(e){var t=this;return Ze().then((function(){return Di(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var i=Ci(t);null===i?n.S(e):n.a.setItem(e,i)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(){},t.ea=function(){};var wu,Eu,_u={C:pu,Sa:yu},ku={C:pu,Sa:yu},Tu={C:Ks,Sa:vu},Su={C:pu,Sa:vu},Cu={$c:"local",NONE:"none",bd:"session"};function Iu(){var e=!(Oi(bi())||!ci()),t=Si(),n=Ei();this.m=e,this.h=t,this.l=n,this.a={},wu||(wu=new bu),e=wu;try{this.g=!ei()&&Li()||!u.indexedDB?new e.a.C:new du(hi()?new fu:new e.a.C)}catch(i){this.g=new fu,this.h=!0}try{this.i=new e.a.Sa}catch(i){this.i=new fu}this.u=new fu,this.f=T(this.Pb,this),this.b={}}function Du(){return Eu||(Eu=new Iu),Eu}function Au(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Ou(e,t){return"firebase:"+e.name+(t?":"+t:"")}function xu(e,t,n){return n=Ou(t,n),"local"==t.C&&(e.b[n]=null),Au(e,t.C).S(n)}function Nu(e){e.c&&(clearInterval(e.c),e.c=null)}function Mu(e){this.a=e,this.b=Du()}(t=Iu.prototype).get=function(e,t){return Au(this,e.C).get(Ou(e,t))},t.set=function(e,t,n){var i=Ou(e,n),r=this,o=Au(this,e.C);return o.set(i,t).then((function(){return o.get(i)})).then((function(t){"local"==e.C&&(r.b[i]=t)}))},t.addListener=function(e,t,n){e=Ou(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),G(this.a)&&(Au(this,"local").$(this.f),this.h||(ei()||!Li())&&u.indexedDB||!this.l||function(e){Nu(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),i=e.b[t];n!=i&&(e.b[t]=n,n=new Bt({type:"storage",key:t,target:window,oldValue:i,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=Ou(e,t),this.a[e]&&(z(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),G(this.a)&&(Au(this,"local").ea(this.f),Nu(this))},t.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var i=this.b[n];"undefined"===typeof i&&(i=null);var r=u.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?Au(this,"local").ea(this.f):Nu(this),this.m)if(n=u.localStorage.getItem(t),(i=e.a.newValue)!==n)null!==i?u.localStorage.setItem(t,i):u.localStorage.removeItem(t);else if(this.b[t]===i&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.Za(t))},wt&&At&&10==At&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else U(e,T(this.Za,this))},t.Za=function(e){this.a[e]&&U(this.a[e],(function(e){e()}))};var Ru,Lu={name:"authEvent",C:"local"};function Pu(){this.a=Du()}function Bu(e,t){this.b=Fu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==Ru||(Ru=u.Int32Array?new Int32Array(zu):zu),this.reset()}I(Bu,(function(){this.b=-1}));for(var Fu=64,Vu=Fu-1,Uu=[],qu=0;qu<Vu;qu++)Uu[qu]=0;var ju=$(128,Uu);function Wu(e){for(var t=e.f,n=e.l,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;64>t;t++){r=0|n[t-15],i=0|n[t-2];var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[t-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[t]=o+a|0}i=0|e.a[0],r=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|Ru[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=r,r=i,i=a+d|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+r|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Hu(e,t,n){void 0===n&&(n=t.length);var i=0,r=e.c;if(l(t))for(;i<n;)e.f[r++]=t.charCodeAt(i++),r==e.b&&(Wu(e),r=0);else{if(!y(t))throw Error("message must be string or array");for(;i<n;){var o=t[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[r++]=o,r==e.b&&(Wu(e),r=0)}}e.c=r,e.g+=n}Bu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):K(this.h)};var zu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $u(){Bu.call(this,8,Ku)}I($u,Bu);var Ku=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Qu(e,t,n,i,r){this.u=e,this.i=t,this.l=n,this.m=i||null,this.o=r||null,this.h=t+":"+n,this.v=new Pu,this.g=new Mu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Gu(e){return new Zi("invalid-cordova-configuration",e)}function Yu(e){var t=new $u;Hu(t,e),e=[];var n=8*t.g;56>t.c?Hu(t,ju,56-t.c):Hu(t,ju,t.b-(t.c-56));for(var i=63;56<=i;i--)t.f[i]=255&n,n/=256;for(Wu(t),i=n=0;i<t.i;i++)for(var r=24;0<=r;r-=8)e[n++]=t.a[i]>>r&255;return function(e){return q(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Xu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(i){}}function Ju(e){return e.f||(e.f=e.ia().then((function(){return new $e((function(t){e.ya((function n(i){return t(i),e.La(n),!1})),function(e){function t(t){i=!0,r&&r.cancel(),Zu(e).then((function(i){var r=n;if(i&&t&&t.url){var o=null;-1!=(r=zr(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Di(Tn(o=Sn(r),"firebaseError")||null))?er(o):null)?new To(i.c,i.b,null,null,o,null,i.R()):new To(i.c,i.b,r,i.f,null,null,i.R())),r=o||n}Xu(e,r)}))}var n=new To("unknown",null,null,null,new Zi("no-auth-event")),i=!1,r=dn(500).then((function(){return Zu(e).then((function(){i||Xu(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(wi("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Do||(Do=new Co),function(e){var t=Do;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=wi("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Zu(e){var t=null;return function(e){return e.b.get(Lu,e.a).then((function(e){return So(e)}))}(e.g).then((function(n){return t=n,xu((n=e.g).b,Lu,n.a)})).then((function(){return t}))}function el(e){this.a=e,this.b=Du()}(t=Qu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(li(void 0)?ui().then((function(){return new $e((function(e,t){var n=u.document,i=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),e()}),!1)}))})):et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof wi("universalLinks.subscribe",u))throw Gu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof wi("BuildInfo.packageName",u))throw Gu("cordova-plugin-buildinfo is not installed");if("function"!==typeof wi("cordova.plugins.browsertab.openUrl",u))throw Gu("cordova-plugin-browsertab is not installed");if("function"!==typeof wi("cordova.InAppBrowser.open",u))throw Gu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Zi("cordova-not-ready")}))},t.Fb=function(e,t){return t(new Zi("operation-not-supported-in-this-environment")),Ze()},t.Db=function(){return et(new Zi("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(e,t,n,i){if(this.c)return et(new Zi("redirect-operation-pending"));var r=this,o=u.document,a=null,s=null,l=null,c=null;return this.c=Ze().then((function(){return ko(t),Ju(r)})).then((function(){return function(e,t,n,i,r){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new To(t,i,null,o,new Zi("no-auth-event"),null,r),s=wi("BuildInfo.packageName",u);if("string"!==typeof s)throw new Zi("invalid-cordova-configuration");var l=wi("BuildInfo.displayName",u),c={};if(bi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!bi().toLowerCase().match(/android/))return et(new Zi("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),o=Yu(o),c.sessionId=o;var h=$s(e.u,e.i,e.l,t,n,null,i,e.m,c,e.o,r);return e.ia().then((function(){var t=e.h;return e.v.a.set(Lu,a.A(),t)})).then((function(){var t=wi("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new Zi("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=wi("cordova.plugins.browsertab.openUrl",u)))throw new Zi("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=wi("cordova.InAppBrowser.open",u)))throw new Zi("invalid-cordova-configuration");t=bi(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,e,t,n,i)})).then((function(){return new $e((function(e,t){s=function(){var t=wi("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.ya(s),l=function(){a||(a=dn(2e3).then((function(){t(new Zi("redirect-cancelled-by-user"))})))},c=function(){Mi()&&l()},o.addEventListener("resume",l,!1),bi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(e){return Zu(r).then((function(){throw e}))}))})).ka((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.La(s),r.c=null}))},t.ya=function(e){this.b.push(e),Ju(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new To("unknown",null,null,null,new Zi("no-auth-event")),e(t))}))},t.La=function(e){z(this.b,(function(t){return t==e}))};var tl={name:"pendingRedirect",C:"session"};function nl(e){return xu(e.b,tl,e.a)}function il(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=T(this.o,this),this.b=new yl,this.w=new _l,this.g=new el(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=rl(this.B,this.u,this.m,Ar)}function rl(e,t,n,r){var o=i.a.SDK_VERSION||null;return li()?new Qu(e,t,n,o,r):new js(e,t,n,o,r)}function ol(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function al(e){e.a.Ob()&&ol(e).s((function(t){var n=new To("unknown",null,null,null,new Zi("operation-not-supported-in-this-environment"));dl(t)&&e.o(n)})),e.a.Jb()||gl(e.b)}function sl(e,t){W(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(tl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?nl(e.g).then((function(){ol(e).s((function(t){var n=new To("unknown",null,null,null,new Zi("operation-not-supported-in-this-environment"));dl(t)&&e.o(n)}))})):al(e)})).s((function(){al(e)}))}function ul(e,t){z(e.h,(function(e){return e==t}))}il.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=rl(this.B,this.u,this.m),this.i={}},il.prototype.o=function(e){if(!e)throw new Zi("invalid-auth-event");if(6e5<=C()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,i),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=C())),t=!0;break}}return gl(this.b),t};var ll=new Ni(2e3,1e4),cl=new Ni(3e4,6e4);function hl(e,t,n,i,r,o,a){return e.a.Db(t,n,i,(function(){e.f||(e.f=!0,e.a.ya(e.l))}),(function(){e.reset()}),r,o,a)}function dl(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function fl(e,t,n,i,r){var o;return function(e){return e.b.set(tl,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,i,r).s((function(t){if(dl(t))throw new Zi("operation-not-supported-in-this-environment");return o=t,nl(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new $e((function(){})):nl(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function pl(e,t,n,i,r){return e.a.Fb(i,(function(e){t.ja(n,null,e,r)}),ll.get())}il.prototype.oa=function(){return this.b.oa()};var ml={};function vl(e,t,n){var i=t+":"+n;return ml[i]||(ml[i]=new il(e,t,n)),ml[i]}function yl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function gl(e){e.g||(e.g=!0,El(e,!1,null,null))}function bl(e){e.g&&!e.i&&El(e,!1,null,null)}function wl(e,t){if(e.b=function(){return Ze(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function El(e,t,n,i){t?i?function(e,t){if(e.b=function(){return et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,i):wl(e,n):wl(e,{user:null}),e.f=[],e.c=[]}function _l(){}function kl(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Tl(e,t){this.a=t,Ui(this,"verificationId",e)}function Sl(e,t,n,i){return new wo(e).Va(t,n).then((function(e){return new Tl(e,i)}))}function Cl(e){var t=Dr(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Zi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qi(this,{token:e,expirationTime:Ri(1e3*t.exp),authTime:Ri(1e3*t.auth_time),issuedAtTime:Ri(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Il(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Dl(e){this.f=e,this.b=this.a=null,this.c=0}function Al(e,t){var n=t[Pa],i=t.refreshToken;t=Ol(t.expiresIn),e.b=n,e.c=t,e.a=i}function Ol(e){return C()+1e3*parseInt(e,10)}function xl(e,t){return function(e,t){return new $e((function(n,i){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Wa(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?i(Ms(e)):e.access_token&&e.refresh_token?n(e):i(new Zi("internal-error")):i(new Zi("network-request-failed"))}),"POST",Bn(t).toString(),e.g,e.u.get()):i(new Zi("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Ol(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Nl(e,t){this.a=e||null,this.b=t||null,qi(this,{lastSignInTime:Ri(t||null),creationTime:Ri(e||null)})}function Ml(e,t,n,i,r,o){qi(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:t})}function Rl(e,t){for(var n in Pt.call(this,e),t)this[n]=t[n]}function Ll(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=i.a.SDK_VERSION?gi(i.a.SDK_VERSION):null,this.a=new Ra(this.l,xr(Ar),e),this.b=new Dl(this.a),jl(this,t[Pa]),Al(this.b,t),Ui(this,"refreshToken",this.b.a),zl(this,n||{}),sn.call(this),this.J=!1,this.o&&_i()&&(this.i=vl(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new Il((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-C()-3e5;return 0<t?t:0}))}(this),this.W=T(this.Ha,this);var r=this;this.ga=null,this.va=function(e){r.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){Bl(r,e.c)},this.Y=null}function Pl(e,t){e.Z&&Xt(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&Qt(t,"languageCodeChanged",e.va)}function Bl(e,t){e.P=t,ja(e.a,i.a.SDK_VERSION?gi(i.a.SDK_VERSION,e.P):null)}function Fl(e,t){e.Y&&Xt(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&Qt(t,"frameworkChanged",e.ua)}function Vl(e){try{return i.a.app(e.m).auth()}catch(t){throw new Zi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ul(e){e.B||e.w.b||(e.w.start(),Xt(e,"tokenChanged",e.W),Qt(e,"tokenChanged",e.W))}function ql(e){Xt(e,"tokenChanged",e.W),e.w.stop()}function jl(e,t){e.ma=t,Ui(e,"_lat",t)}function Wl(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return nt(t).then((function(){return e}))}function Hl(e){e.i&&!e.J&&(e.J=!0,sl(e.i,e))}function zl(e,t){qi(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Nl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function $l(){}function Kl(e){return Ze().then((function(){if(e.B)throw new Zi("app-deleted")}))}function Ql(e){return q(e.providerData,(function(e){return e.providerId}))}function Gl(e,t){t&&(Yl(e,t.providerId),e.providerData.push(t))}function Yl(e,t){z(e.providerData,(function(e){return e.providerId==t}))}function Xl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Ui(e,t,n)}function Jl(e,t){e!=t&&(qi(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Ui(e,"metadata",function(e){return new Nl(e.a,e.b)}(t.metadata)):Ui(e,"metadata",new Nl),U(t.providerData,(function(t){Gl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Ui(e,"refreshToken",e.b.a))}function Zl(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return xs(e.a,ds,{idToken:t}).then(T(e.zc,e))}(e,t).then((function(){return n||Xl(e,"isAnonymous",!1),t}))}))}function ec(e,t){t[Pa]&&e.ma!=t[Pa]&&(Al(e.b,t),e.dispatchEvent(new Rl("tokenChanged")),jl(e,t[Pa]),Xl(e,"refreshToken",e.b.a))}function tc(e,t){return Zl(e).then((function(){if(W(Ql(e),t))return Wl(e).then((function(){throw new Zi("provider-already-linked")}))}))}function nc(e,t,n){return ji({user:e,credential:_o(t),additionalUserInfo:t=Pr(t),operationType:n})}function ic(e,t){return ec(e,t),e.reload().then((function(){return e}))}function rc(e,t,n,r,o){if(!_i())return et(new Zi("operation-not-supported-in-this-environment"));if(e.h&&!o)return et(e.h);var a=Lr(n.providerId),s=Ai(e.uid+":::"),u=null;(!Si()||ci())&&e.o&&n.isOAuthProvider&&(u=$s(e.o,e.l,e.m,t,n,null,s,i.a.SDK_VERSION||null,null,null,e.tenantId));var l=oi(u,a&&a.Da,a&&a.Ca);return r=r().then((function(){if(ac(e),!o)return e.G().then((function(){}))})).then((function(){return hl(e.i,l,t,n,s,!!u,e.tenantId)})).then((function(){return new $e((function(n,i){e.ja(t,null,new Zi("cancelled-popup-request"),e.g||null),e.f=n,e.v=i,e.g=s,e.c=pl(e.i,e,t,l,s)}))})).then((function(e){return l&&ri(l),e?ji(e):null})).s((function(e){throw l&&ri(l),e})),sc(e,r,o)}function oc(e,t,n,i,r){if(!_i())return et(new Zi("operation-not-supported-in-this-environment"));if(e.h&&!r)return et(e.h);var o=null,a=Ai(e.uid+":::");return i=i().then((function(){if(ac(e),!r)return e.G().then((function(){}))})).then((function(){return e.ca=a,Wl(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(cc,e.A(),t.a)),t})).then((function(){return fl(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.da)return hc(e.da);throw o})).then((function(){if(o)throw o})),sc(e,i,r)}function ac(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Zi("internal-error");throw new Zi("auth-domain-config-required")}}function sc(e,t,n){var i=function(e,t,n){return e.h&&!n?(t.cancel(),et(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Rl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(i),i.ka((function(){H(e.I,i)})),i}function uc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Pa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-C())/1e3;var i=new Ll(t,n,e);return e.providerData&&U(e.providerData,(function(e){e&&Gl(i,ji(e))})),e.redirectEventId&&(i.ca=e.redirectEventId),i}function lc(e){this.a=e,this.b=Du()}yl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},yl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,i=e.b,r=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?e.a?(El(this,!0,null,e.a),Ze()):t.za(n,i)?function(e,t,n){n=n.za(t.c,t.b);var i=t.g,r=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(i,r,a,o).then((function(t){El(e,s,t,null)})).s((function(t){El(e,s,null,t)}))}(this,e,t):et(new Zi("invalid-auth-event")):(El(this,!1,null,null),Ze())}else et(new Zi("invalid-auth-event"))},yl.prototype.oa=function(){var e=this;return new $e((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Zi("timeout");e.a&&e.a.cancel(),e.a=dn(cl.get()).then((function(){e.b||(e.g=!0,El(e,!0,null,t))}))}(e))}))},_l.prototype.h=function(e,t){if(e){var n=e.c,i=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Ze()):t.za(n,i)?function(e,t){var n=e.b,i=e.c;t.za(i,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(i,e,null,n)})).s((function(e){t.ja(i,null,e,n)}))}(e,t):et(new Zi("invalid-auth-event"))}else et(new Zi("invalid-auth-event"))},Tl.prototype.confirm=function(e){return e=Eo(this.verificationId,e),this.a(e)},Il.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=dn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=u.document,t=null;return Mi()||!e?Ze():new $e((function(n){t=function(){Mi()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},Il.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Dl.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?et(new Zi("user-token-expired")):e||!this.b||C()>this.c-3e4?this.a?xl(this,{grant_type:"refresh_token",refresh_token:this.a}):Ze(null):Ze({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Nl.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Rl,Pt),I(Ll,sn),Ll.prototype.sa=function(e){this.ga=e,qa(this.a,e)},Ll.prototype.ha=function(){return this.ga},Ll.prototype.Aa=function(){return K(this.P)},Ll.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Ui(Ll.prototype,"providerId","firebase"),(t=Ll.prototype).reload=function(){var e=this;return sc(this,Kl(this).then((function(){return Zl(e).then((function(){return Wl(e)})).then($l)})))},t.dc=function(e){return this.G(e).then((function(e){return new Cl(e)}))},t.G=function(e){var t=this;return sc(this,Kl(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Zi("internal-error");return e.accessToken!=t.ma&&(jl(t,e.accessToken),t.dispatchEvent(new Rl("tokenChanged"))),Xl(t,"refreshToken",e.refreshToken),e.accessToken})))},t.zc=function(e){if(!(e=e.users)||!e.length)throw new Zi("internal-error");zl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?q(e,(function(e){return new Ml(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Gl(this,t[n]);Xl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},t.Ac=function(e){return Fi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},t.gb=function(e){var t=this,n=null;return sc(this,e.f(this.a,this.uid).then((function(e){return ec(t,e),n=nc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},t.rc=function(e){return Fi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},t.eb=function(e){var t=this,n=null;return sc(this,tc(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=nc(t,e,"link"),ic(t,e)})).then((function(){return n})))},t.sc=function(e,t){var n=this;return sc(this,tc(this,"phone").then((function(){return Sl(Vl(n),e,t,T(n.eb,n))})))},t.Bc=function(e,t){var n=this;return sc(this,Ze().then((function(){return Sl(Vl(n),e,t,T(n.gb,n))})),!0)},t.rb=function(e){var t=this;return sc(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return ec(t,e),t.reload()})))},t.Sc=function(e){var t=this;return sc(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return ec(t,e),t.reload()})))},t.sb=function(e){var t=this;return sc(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return ec(t,e),t.reload()})))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Kl(this);var t=this;return sc(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return ec(t,e),Xl(t,"displayName",e.displayName||null),Xl(t,"photoURL",e.photoUrl||null),U(t.providerData,(function(e){"password"===e.providerId&&(Ui(e,"displayName",t.displayName),Ui(e,"photoURL",t.photoURL))})),Wl(t)})).then($l))},t.Qc=function(e){var t=this;return sc(this,Zl(this).then((function(n){return W(Ql(t),e)?function(e,t,n){return xs(e,ls,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return U(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),U(Ql(t),(function(e){n[e]||Yl(t,e)})),n[wo.PROVIDER_ID]||Ui(t,"phoneNumber",null),Wl(t)})):Wl(t).then((function(){throw new Zi("no-such-provider")}))})))},t.delete=function(){var e=this;return sc(this,this.G().then((function(t){return xs(e.a,us,{idToken:t})})).then((function(){e.dispatchEvent(new Rl("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Pl(e,null),Fl(e,null),e.I=[],e.B=!0,ql(e),Ui(e,"refreshToken",null),e.i&&ul(e.i,e)}))},t.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},t.ja=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?T(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?T(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?T(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?T(this.Cb,this):null},t.tc=function(e){var t=this;return rc(this,"linkViaPopup",e,(function(){return tc(t,e.providerId).then((function(){return Wl(t)}))}),!1)},t.Cc=function(e){return rc(this,"reauthViaPopup",e,(function(){return Ze()}),!0)},t.uc=function(e){var t=this;return oc(this,"linkViaRedirect",e,(function(){return tc(t,e.providerId)}),!1)},t.Dc=function(e){return oc(this,"reauthViaRedirect",e,(function(){return Ze()}),!0)},t.Bb=function(e,t,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sc(this,this.G().then((function(n){return ts(r.a,{requestUri:e,postBody:i,sessionId:t,idToken:n})})).then((function(e){return o=nc(r,e,"link"),ic(r,e)})).then((function(){return o})))},t.Cb=function(e,t,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sc(this,Ze().then((function(){return Kr(ns(r.a,{requestUri:e,sessionId:t,postBody:i,tenantId:n}),r.uid)})).then((function(e){return o=nc(r,e,"reauthenticate"),ec(r,e),r.h=null,r.reload()})).then((function(){return o})),!0)},t.jb=function(e){var t=this,n=null;return sc(this,this.G().then((function(t){return n=t,"undefined"===typeof e||G(e)?{}:_r(new dr(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(e,this.metadata.A()),U(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var cc={name:"redirectUser",C:"session"};function hc(e){return xu(e.b,cc,e.a)}function dc(e){this.a=e,this.b=Du(),this.c=null,this.f=function(e){var t=mc("local"),n=mc("session"),i=mc("none");return function(e,t,n){var i=Ou(t,n),r=Au(e,t.C);return e.get(t,n).then((function(o){var a=null;try{a=Di(u.localStorage.getItem(i))}catch(s){}if(a&&!o)return u.localStorage.removeItem(i),e.set(t,a,n);a&&o&&"localStorage"!=r.type&&u.localStorage.removeItem(i)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(r){return r?n:e.b.get(i,e.a).then((function(n){return n?i:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(pc,e.a).then((function(e){return e?mc(e):t}))}))}))})).then((function(t){return e.c=t,fc(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(mc("local"),this.a,T(this.g,this))}function fc(e,t){var n,i=[];for(n in Cu)Cu[n]!==t&&i.push(xu(e.b,mc(Cu[n]),e.a));return i.push(xu(e.b,pc,e.a)),function(e){return new $e((function(t,n){var i=e.length,r=[];if(i)for(var o=function(e,n){i--,r[e]=n,0==i&&t(r)},a=function(e){n(e)},s=0;s<e.length;s++)tt(e[s],S(o,s),a);else t(r)}))}(i)}dc.prototype.g=function(){var e=this,t=mc("local");bc(this,(function(){return Ze().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return fc(e,"local").then((function(){e.c=t}))}))}))};var pc={name:"persistence",C:"session"};function mc(e){return{name:"authUser",C:e}}function vc(e,t){return bc(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function yc(e){return bc(e,(function(){return xu(e.b,e.c,e.a)}))}function gc(e,t){return bc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),uc(e||{})}))}))}function bc(e,t){return e.f=e.f.then(t,t),e.f}function wc(e){if(this.l=!1,Ui(this,"settings",new kl),Ui(this,"app",e),!Dc(this).options||!Dc(this).options.apiKey)throw new Zi("invalid-api-key");e=i.a.SDK_VERSION?gi(i.a.SDK_VERSION):null,this.b=new Ra(Dc(this).options&&Dc(this).options.apiKey,xr(Ar),e),this.O=[],this.m=[],this.J=[],this.Ub=i.a.INTERNAL.createSubscribe(T(this.oc,this)),this.W=void 0,this.Vb=i.a.INTERNAL.createSubscribe(T(this.pc,this)),Cc(this,null),this.h=new dc(Dc(this).options.apiKey+":"+Dc(this).name),this.w=new lc(Dc(this).options.apiKey+":"+Dc(this).name),this.Y=Nc(this,function(e){var t=Dc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(cc,e.a).then((function(e){return e&&t&&(e.authDomain=t),uc(e||{})}))}(e.w,Dc(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),hc(e.w)}));return Nc(e,t)}(e).then((function(){return gc(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return vc(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:yc(e.h)}))):null})).then((function(t){Cc(e,t||null)}));return Nc(e,n)}(this)),this.i=Nc(this,function(e){return e.Y.then((function(){return Tc(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(mc("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=T(this.Nc,this),this.ub=T(this.aa,this),this.ua=T(this.bc,this),this.va=T(this.mc,this),this.Ha=T(this.nc,this),this.a=null,function(e){var t=Dc(e).options.authDomain,n=Dc(e).options.apiKey;t&&_i()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=vl(t,n,Dc(e).name),sl(e.a,e),Ac(e)&&Hl(Ac(e)),e.B){Hl(e.B);var i=e.B;i.sa(e.ha()),Pl(i,e),Bl(i=e.B,e.I),Fl(i,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.vc,this),this.o=0,sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function Ec(e){Pt.call(this,"languageCodeChanged"),this.g=e}function _c(e){Pt.call(this,"frameworkChanged"),this.c=e}function kc(e){return e.Tb||et(new Zi("auth-domain-config-required"))}function Tc(e){if(!_i())return et(new Zi("operation-not-supported-in-this-environment"));var t=kc(e).then((function(){return e.a.oa()})).then((function(e){return e?ji(e):null}));return Nc(e,t)}function Sc(e,t){var n={};return n.apiKey=Dc(e).options.apiKey,n.authDomain=Dc(e).options.authDomain,n.appName=Dc(e).name,e.Y.then((function(){return function(e,t,n,i){var r=new Ll(e,t);return n&&(r.da=n),i&&Bl(r,i),r.reload().then((function(){return r}))}(n,t,e.w,e.Aa())})).then((function(t){return Ac(e)&&t.uid==Ac(e).uid?(Jl(Ac(e),t),e.aa(t)):(Cc(e,t),Hl(t),e.aa(t))})).then((function(){xc(e)}))}function Cc(e,t){Ac(e)&&(function(e,t){z(e.O,(function(e){return e==t}))}(Ac(e),e.ub),Xt(Ac(e),"tokenChanged",e.ua),Xt(Ac(e),"userDeleted",e.va),Xt(Ac(e),"userInvalidated",e.Ha),ql(Ac(e))),t&&(t.O.push(e.ub),Qt(t,"tokenChanged",e.ua),Qt(t,"userDeleted",e.va),Qt(t,"userInvalidated",e.Ha),0<e.o&&Ul(t)),Ui(e,"currentUser",t),t&&(t.sa(e.ha()),Pl(t,e),Bl(t,e.I),Fl(t,e))}function Ic(e,t){var n=null,i=null;return Nc(e,t.then((function(t){return n=_o(t),i=Pr(t),Sc(e,t)})).then((function(){return ji({user:Ac(e),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function Dc(e){return e.app}function Ac(e){return e.currentUser}function Oc(e){return Ac(e)&&Ac(e)._lat||null}function xc(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Oc(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](Oc(e))}}function Nc(e,t){return e.O.push(t),t.ka((function(){H(e.O,t)})),t}function Mc(){}function Rc(){this.a={},this.b=1e12}dc.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Zi("invalid-persistence-type"),n=new Zi("unsupported-persistence-type");e:{for(i in Cu)if(Cu[i]==e){var i=!0;break e}i=!1}if(!i||"string"!==typeof e)throw t;switch(di()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Ei()&&"none"!==e)throw n}}(e),bc(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(i){return t=i,fc(n,e)})).then((function(){if(n.c=mc(e),t)return n.b.set(n.c,t,n.a)})):Ze()}))},I(wc,sn),I(Ec,Pt),I(_c,Pt),(t=wc.prototype).mb=function(e){return Nc(this,e=this.h.mb(e))},t.sa=function(e){this.Z===e||this.l||(this.Z=e,qa(this.b,this.Z),this.dispatchEvent(new Ec(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var e=u.navigator;this.sa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.vc=function(e){this.I.push(e),ja(this.b,i.a.SDK_VERSION?gi(i.a.SDK_VERSION,this.I):null),this.dispatchEvent(new _c(this.I))},t.Aa=function(){return K(this.I)},t.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Dc(this).options.apiKey,authDomain:Dc(this).options.authDomain,appName:Dc(this).name,currentUser:Ac(this)&&Ac(this).A()}},t.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},t.ja=function(e,t,n,i){"signInViaPopup"==e&&this.g==i&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?T(this.ac,this):null},t.ac=function(e,t,n,i){var r=this;e={requestUri:e,postBody:i,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=es(r.b,e).then((function(e){return o=_o(e),a=Pr(e),e}));return Nc(this,e=r.Y.then((function(){return s})).then((function(e){return Sc(r,e)})).then((function(){return ji({user:Ac(r),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(e){if(!_i())return et(new Zi("operation-not-supported-in-this-environment"));var t=this,n=Lr(e.providerId),r=Ai(),o=null;(!Si()||ci())&&Dc(this).options.authDomain&&e.isOAuthProvider&&(o=$s(Dc(this).options.authDomain,Dc(this).options.apiKey,Dc(this).name,"signInViaPopup",e,null,r,i.a.SDK_VERSION||null,null,null,this.R()));var a=oi(o,n&&n.Da,n&&n.Ca);return Nc(this,n=kc(this).then((function(n){return hl(n,a,"signInViaPopup",e,r,!!o,t.R())})).then((function(){return new $e((function(e,n){t.ja("signInViaPopup",null,new Zi("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.c=pl(t.a,t,"signInViaPopup",a,r)}))})).then((function(e){return a&&ri(a),e?ji(e):null})).s((function(e){throw a&&ri(a),e})))},t.Mc=function(e){if(!_i())return et(new Zi("operation-not-supported-in-this-environment"));var t=this;return Nc(this,kc(this).then((function(){return function(e){return bc(e,(function(){return e.b.set(pc,e.c.C,e.a)}))}(t.h)})).then((function(){return fl(t.a,"signInViaRedirect",e,void 0,t.R())})))},t.oa=function(){var e=this;return Tc(this).then((function(t){return e.a&&bl(e.a.b),t})).s((function(t){throw e.a&&bl(e.a.b),t}))},t.Rc=function(e){if(!e)return et(new Zi("null-user"));if(this.P!=e.tenantId)return et(new Zi("tenant-id-mismatch"));var t=this,n={};n.apiKey=Dc(this).options.apiKey,n.authDomain=Dc(this).options.authDomain,n.appName=Dc(this).name;var i=function(e,t,n,i){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var r=e.b,o={};return o[Pa]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-C())/1e3,t=new Ll(t,o),n&&(t.da=n),i&&Bl(t,i),Jl(t,e),t}(e,n,t.w,t.Aa());return Nc(this,this.i.then((function(){if(Dc(t).options.apiKey!=e.l)return i.reload()})).then((function(){return Ac(t)&&e.uid==Ac(t).uid?(Jl(Ac(t),e),t.aa(e)):(Cc(t,i),Hl(i),t.aa(i))})).then((function(){xc(t)})))},t.pb=function(){var e=this;return Nc(this,this.i.then((function(){return e.a&&bl(e.a.b),Ac(e)?(Cc(e,null),yc(e.h).then((function(){xc(e)}))):Ze()})))},t.Nc=function(){var e=this;return gc(this.h,Dc(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Ac(e)&&t){n=Ac(e).uid;var i=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Jl(Ac(e),t),Ac(e).G();(Ac(e)||t)&&(Cc(e,t),t&&(Hl(t),t.da=e.w),e.a&&sl(e.a,e),xc(e))}}))},t.aa=function(e){return vc(this.h,e)},t.bc=function(){xc(this),this.aa(Ac(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Ac(t))}))},t.pc=function(e){var t=this;!function(e,t){e.J.push(t),Nc(e,e.i.then((function(){!e.l&&W(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Oc(e)))})))}(this,(function(){e.next(Ac(t))}))},t.xc=function(e,t,n){var i=this;return this.ga&&Promise.resolve().then((function(){g(e)?e(Ac(i)):g(e.next)&&e.next(Ac(i))})),this.Ub(e,t,n)},t.wc=function(e,t,n){var i=this;return this.ga&&Promise.resolve().then((function(){i.W=i.getUid(),g(e)?e(Ac(i)):g(e.next)&&e.next(Ac(i))})),this.Vb(e,t,n)},t.cc=function(e){var t=this;return Nc(this,this.i.then((function(){return Ac(t)?Ac(t).G(e).then((function(e){return{accessToken:e}})):null})))},t.Hc=function(e){var t=this;return this.i.then((function(){return Ic(t,xs(t.b,Cs,{token:e}))})).then((function(e){var n=e.user;return Xl(n,"isAnonymous",!1),t.aa(n),e}))},t.Ic=function(e,t){var n=this;return this.i.then((function(){return Ic(n,xs(n.b,Is,{email:e,password:t}))}))},t.Xb=function(e,t){var n=this;return this.i.then((function(){return Ic(n,xs(n.b,as,{email:e,password:t}))}))},t.Ra=function(e){var t=this;return this.i.then((function(){return Ic(t,e.na(t.b))}))},t.Gc=function(e){return Fi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},t.ob=function(){var e=this;return this.i.then((function(){var t=Ac(e);if(t&&t.isAnonymous){var n=ji({providerId:null,isNewUser:!1});return ji({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ic(e,e.b.ob()).then((function(t){var n=t.user;return Xl(n,"isAnonymous",!0),e.aa(n),t}))}))},t.getUid=function(){return Ac(this)&&Ac(this).uid||null},t.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Ac(this)&&Ul(Ac(this))},t.Ec=function(e){var t=this;U(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&Ac(this)&&ql(Ac(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.m.push(e),Nc(this,this.i.then((function(){t.l||W(t.m,e)&&e(Oc(t))})))},t.removeAuthTokenListener=function(e){z(this.m,(function(t){return t==e}))},t.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(mc("local"),e.a,this.ma),this.a&&(ul(this.a,this),bl(this.a.b)),Promise.resolve()},t.$b=function(e){return Nc(this,function(e,t){return xs(e,ss,{identifier:t,continueUri:ki()?ti():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},t.qc=function(e){return!!vo(e)},t.lb=function(e,t){var n=this;return Nc(this,Ze().then((function(){var e=new dr(t);if(!e.c)throw new Zi("argument-error",mr+" must be true when sending sign in link to email");return _r(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},t.Uc=function(e){return this.Ka(e).then((function(e){return e.data.email}))},t.$a=function(e,t){return Nc(this,this.b.$a(e,t).then((function(){})))},t.Ka=function(e){return Nc(this,this.b.Ka(e).then((function(e){return new Hi(e)})))},t.Xa=function(e){return Nc(this,this.b.Xa(e).then((function(){})))},t.kb=function(e,t){var n=this;return Nc(this,Ze().then((function(){return"undefined"===typeof t||G(t)?{}:_r(new dr(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},t.Kc=function(e,t){return Nc(this,Sl(this,e,t,T(this.Ra,this)))},t.Jc=function(e,t){var n=this;return Nc(this,Ze().then((function(){var i=t||ti(),r=mo(e,i);if(!(i=vo(i)))throw new Zi("argument-error","Invalid email link!");if(i.tenantId!==n.R())throw new Zi("tenant-id-mismatch");return n.Ra(r)})))},Mc.prototype.render=function(){},Mc.prototype.reset=function(){},Mc.prototype.getResponse=function(){},Mc.prototype.execute=function(){};var Lc=null;function Pc(e,t){return(t=Bc(t))&&e.a[t]||null}function Bc(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Fc(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Hn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Qt(this.f,"click",this.i)}function Vc(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Uc(){}Rc.prototype.render=function(e,t){return this.a[this.b.toString()]=new Fc(e,t),this.b++},Rc.prototype.reset=function(e){var t=Pc(this,e);e=Bc(e),t&&e&&(t.delete(),delete this.a[e])},Rc.prototype.getResponse=function(e){return(e=Pc(this,e))?e.getResponse():null},Rc.prototype.execute=function(e){(e=Pc(this,e))&&e.execute()},Fc.prototype.getResponse=function(){return Vc(this),this.b},Fc.prototype.execute=function(){Vc(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(i){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(i){}e.h&&e.execute()}),6e4)}),500))},Fc.prototype.delete=function(){Vc(this),this.g=!0,clearTimeout(this.a),this.a=null,Xt(this.f,"click",this.i)},Uc.prototype.g=function(){return Lc||(Lc=new Rc),Ze(Lc)},Uc.prototype.c=function(){};var qc=null;function jc(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Wc=new Z(ne,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Hc=new Ni(3e4,6e4);jc.prototype.g=function(e){var t=this;return new $e((function(n,i){var r=setTimeout((function(){i(new Zi("network-request-failed"))}),Hc.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(r),n(u.grecaptcha)}else clearTimeout(r),i(new Zi("internal-error"));delete u[t.a]},Ze(Ia(ae(Wc,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(r),i(new Zi("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(u.grecaptcha))}))},jc.prototype.c=function(){this.b--};var zc=null;function $c(e,t,n,i,r,o,a){if(Ui(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(qc||(qc=new Uc),a=qc):(zc||(zc=new jc),a=zc),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Gc])throw new Zi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Yc],!u.document)throw new Zi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hn(t)||!this.i&&Hn(t).hasChildNodes())throw new Zi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ra(e,o||null,r||null),this.v=i||function(){return null};var s=this;this.l=[];var l=this.a[Kc];this.a[Kc]=function(e){if(Xc(s,e),"function"===typeof l)l(e);else if("string"===typeof l){var t=wi(l,u);"function"===typeof t&&t(e)}};var c=this.a[Qc];this.a[Qc]=function(){if(Xc(s,null),"function"===typeof c)c();else if("string"===typeof c){var e=wi(c,u);"function"===typeof e&&e()}}}var Kc="callback",Qc="expired-callback",Gc="sitekey",Yc="size";function Xc(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(i){}}function Jc(e,t){return e.h.push(t),t.ka((function(){H(e.h,t)})),t}function Zc(e){if(e.B)throw new Zi("internal-error","RecaptchaVerifier instance has been destroyed.")}function eh(e,t,n){var r=!1;try{this.b=n||i.a.app()}catch(s){throw new Zi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Zi("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=i.a.SDK_VERSION?gi(i.a.SDK_VERSION,a):null,$c.call(this,n,e,t,(function(){try{var e=o.b.auth().ha()}catch(t){e=null}return e}),a,xr(Ar),r)}function th(e,t,n,i){e:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Zi("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=t.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=t[r].optional&&void 0===n[r],!t[r].N(n[r])&&!o){if(t=t[r],0>r||r>=nh.length)throw new Zi("internal-error","Argument validator received an unsupported number of arguments.");n=nh[r],i=(i?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}i=null}}if(i)throw new Zi("argument-error",e+" failed: "+i)}(t=$c.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=Jc(this,Ze().then((function(){if(ki()&&!hi())return ui();throw new Zi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,xs(e.o,ys,{})})).then((function(t){e.a[Gc]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},t.render=function(){Zc(this);var e=this;return Jc(this,this.Ba().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=Hn(t);t=Kn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},t.verify=function(){Zc(this);var e=this;return Jc(this,this.render().then((function(t){return new $e((function(n){var i=e.g.getResponse(t);if(i)n(i);else{e.l.push((function t(i){i&&(function(e,t){z(e.l,(function(e){return e==t}))}(e,t),n(i))})),e.i&&e.g.execute(e.c)}}))})))},t.reset=function(){Zc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zc(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Hn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},I(eh,$c);var nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ih(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:l}}function rh(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:c}}function oh(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:b}}function ah(e,t){return{name:e||"",M:"a function",optional:!!t,N:g}}function sh(e,t){return{name:e||"",M:"null",optional:!!t,N:m}}function uh(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function lh(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&l(e.type)&&g(e.verify))}}}function ch(e,t,n,i){return{name:n||"",M:e.M+" or "+t.M,optional:!!i,N:function(n){return e.N(n)||t.N(n)}}}function hh(e,t){for(var n in t){var i=t[n].name;e[i]=ph(i,e[n],t[n].j)}}function dh(e,t){for(var n in t){var i=t[n].name;i!==n&&Object.defineProperty(e,i,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,i){th(e,[n],[i],!0),this[t]=i}),i,n,t[n].Ya),enumerable:!0})}}function fh(e,t,n,i){e[t]=ph(t,n,i)}function ph(e,t,n){function i(){var e=Array.prototype.slice.call(arguments);return th(o,n,e),t.apply(this,e)}if(!n)return t;var r,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(r in t)i[r]=t[r];for(r in t.prototype)i.prototype[r]=t.prototype[r];return i}hh(wc.prototype,{Xa:{name:"applyActionCode",j:[ih("code")]},Ka:{name:"checkActionCode",j:[ih("code")]},$a:{name:"confirmPasswordReset",j:[ih("code"),ih("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[ih("email"),ih("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[ih("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[ih("emailLink")]},wc:{name:"onAuthStateChanged",j:[ch(oh(),ah(),"nextOrObserver"),ah("opt_error",!0),ah("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[ch(oh(),ah(),"nextOrObserver"),ah("opt_error",!0),ah("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[ih("email"),ch(oh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[ih("email"),oh("actionCodeSettings")]},mb:{name:"setPersistence",j:[ih("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[uh()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[uh()]},Hc:{name:"signInWithCustomToken",j:[ih("token")]},Ic:{name:"signInWithEmailAndPassword",j:[ih("email"),ih("password")]},Jc:{name:"signInWithEmailLink",j:[ih("email"),ih("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[ih("phoneNumber"),lh()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[ch({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Ll)}},sh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ih(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[ih("code")]}}),dh(wc.prototype,{lc:{name:"languageCode",Ya:ch(ih(),sh(),"languageCode")},ti:{name:"tenantId",Ya:ch(ih(),sh(),"tenantId")}}),wc.Persistence=Cu,wc.Persistence.LOCAL="local",wc.Persistence.SESSION="session",wc.Persistence.NONE="none",hh(Ll.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[rh("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[rh("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[uh()]},eb:{name:"linkWithCredential",j:[uh()]},sc:{name:"linkWithPhoneNumber",j:[ih("phoneNumber"),lh()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[uh()]},gb:{name:"reauthenticateWithCredential",j:[uh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[ih("phoneNumber"),lh()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[ch(oh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ih(null,!0)]},Qc:{name:"unlink",j:[ih("provider")]},rb:{name:"updateEmail",j:[ih("email")]},sb:{name:"updatePassword",j:[ih("password")]},Sc:{name:"updatePhoneNumber",j:[uh("phone")]},tb:{name:"updateProfile",j:[oh("profile")]}}),hh(Rc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hh(Mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hh($e.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),dh(kl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:rh("appVerificationDisabledForTesting")}}),hh(Tl.prototype,{confirm:{name:"confirm",j:[ih("verificationCode")]}}),fh($r,"fromJSON",(function(e){e=l(e)?JSON.parse(e):e;for(var t,n=[Zr,fo,go,Yr],i=0;i<n.length;i++)if(t=n[i](e))return t;return null}),[ch(ih(),oh(),"json")]),fh(po,"credential",(function(e,t){return new ho(e,t)}),[ih("email"),ih("password")]),hh(ho.prototype,{A:{name:"toJSON",j:[ih(null,!0)]}}),hh(io.prototype,{wa:{name:"addScope",j:[ih("scope")]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),fh(io,"credential",ro,[ch(ih(),oh(),"token")]),fh(po,"credentialWithLink",mo,[ih("email"),ih("emailLink")]),hh(oo.prototype,{wa:{name:"addScope",j:[ih("scope")]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),fh(oo,"credential",ao,[ch(ih(),oh(),"token")]),hh(so.prototype,{wa:{name:"addScope",j:[ih("scope")]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),fh(so,"credential",uo,[ch(ih(),ch(oh(),sh()),"idToken"),ch(ih(),sh(),"accessToken",!0)]),hh(lo.prototype,{Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),fh(lo,"credential",co,[ch(ih(),oh(),"token"),ih("secret",!0)]),hh(no.prototype,{wa:{name:"addScope",j:[ih("scope")]},credential:{name:"credential",j:[ch(ih(),ch(oh(),sh()),"optionsOrIdToken"),ch(ih(),sh(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),hh(Xr.prototype,{A:{name:"toJSON",j:[ih(null,!0)]}}),hh(Qr.prototype,{A:{name:"toJSON",j:[ih(null,!0)]}}),fh(wo,"credential",Eo,[ih("verificationId"),ih("verificationCode")]),hh(wo.prototype,{Va:{name:"verifyPhoneNumber",j:[ih("phoneNumber"),lh()]}}),hh(yo.prototype,{A:{name:"toJSON",j:[ih(null,!0)]}}),hh(Zi.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),hh(Oo.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),hh(Ao.prototype,{toJSON:{name:"toJSON",j:[ih(null,!0)]}}),hh(eh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),fh(ir,"parseLink",hr,[ih("link")]),function(){if("undefined"===typeof i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wc,AuthCredential:$r,Error:Zi};fh(e,"EmailAuthProvider",po,[]),fh(e,"FacebookAuthProvider",io,[]),fh(e,"GithubAuthProvider",oo,[]),fh(e,"GoogleAuthProvider",so,[]),fh(e,"TwitterAuthProvider",lo,[]),fh(e,"OAuthProvider",no,[ih("providerId")]),fh(e,"SAMLAuthProvider",to,[ih("providerId")]),fh(e,"PhoneAuthProvider",wo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof wc)}}]),fh(e,"RecaptchaVerifier",eh,[ch(ih(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),oh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof i.a.app.App)}}]),fh(e,"ActionCodeURL",ir,[]),i.a.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:T((e=new wc(e)).getUid,e),getToken:T(e.cc,e),addAuthTokenListener:T(e.Wb,e),removeAuthTokenListener:T(e.Ec,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(n){}})),i.a.INTERNAL.extendNamespace({User:Ll})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(15))},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){var n,i;function r(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case n.DEBUG:case n.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(i));break;case n.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(i));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(i));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(i));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}t=t&&t.hasOwnProperty("default")?t.default:t,(i=n=n||{})[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var o=n.INFO,a=(Object.defineProperty(s.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),s.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.DEBUG].concat(e))},s.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.VERBOSE].concat(e))},s.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.INFO].concat(e))},s.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.WARN].concat(e))},s.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.ERROR].concat(e))},s);function s(e){this.name=e,this._logLevel=o,this._logHandler=r}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function l(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e,t,n,i){return new(n=n||Promise)((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function h(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f,p=(l(m,f=Error),m);function m(e,t){var n=f.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,v.prototype.create),n}var v=(y.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=t[0]||{},r=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(b,(function(e,n){var i=t[n];return null!=i?i.toString():"<"+n+"?>"}))}(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",u=new p(r,s),l=0,c=Object.keys(i);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=i[h])}return u},y);function y(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var g,b=/\{\$([^}]+)}/g,w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},E=E||{},_=w;function k(e){return"string"==typeof e}function T(e){return"number"==typeof e}function S(e,t){e=e.split("."),t=t||_;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function C(){}function I(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function D(e){return"array"==I(e)}function A(e){var t=I(e);return"array"==t||"object"==t&&"number"==typeof e.length}function O(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var x="closure_uid_"+(1e9*Math.random()>>>0),N=0;function M(e,t,n){return e.call.apply(e.bind,arguments)}function R(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function L(e,t,n){return(L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:R).apply(null,arguments)}function P(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var B=Date.now||function(){return+new Date};function F(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function V(){this.j=this.j,this.i=this.i}V.prototype.j=!1,V.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[x]||(this[x]=++N))},V.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(k(e))return k(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,r=k(e)?e.split(""):e,o=0;o<i;o++)o in r&&t.call(n,r[o],o,e)};function j(e){return Array.prototype.concat.apply([],arguments)}function W(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function H(e){return/^[\s\xa0]*$/.test(e)}var z,$=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function K(e,t){return-1!=e.indexOf(t)}function Q(e,t){return e<t?-1:t<e?1:0}e:{var G=_.navigator;if(G){var Y=G.userAgent;if(Y){z=Y;break e}}z=""}function X(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function J(e){var t,n={};for(t in e)n[t]=e[t];return n}var Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])e[n]=i[n];for(var o=0;o<Z.length;o++)n=Z[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function te(e){return te[" "](e),e}te[" "]=C;var ne,ie,re=K(z,"Opera"),oe=K(z,"Trident")||K(z,"MSIE"),ae=K(z,"Edge"),se=ae||oe,ue=K(z,"Gecko")&&!(K(z.toLowerCase(),"webkit")&&!K(z,"Edge"))&&!(K(z,"Trident")||K(z,"MSIE"))&&!K(z,"Edge"),le=K(z.toLowerCase(),"webkit")&&!K(z,"Edge");function ce(){var e=_.document;return e?e.documentMode:void 0}e:{var he="",de=(ie=z,ue?/rv:([^\);]+)(\)|;)/.exec(ie):ae?/Edge\/([\d\.]+)/.exec(ie):oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ie):le?/WebKit\/(\S+)/.exec(ie):re?/(?:Version)[ \/]?(\S+)/.exec(ie):void 0);if(de&&(he=de?de[1]:""),oe){var fe=ce();if(null!=fe&&fe>parseFloat(he)){ne=String(fe);break e}}ne=he}var pe,me={};function ve(e){return function(t,n){var i=me;return Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=function(){for(var t=0,n=$(String(ne)).split("."),i=$(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Q(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Q(0==a[2].length,0==s[2].length)||Q(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}var ye=_.document;pe=ye&&oe?ce()||("CSS1Compat"==ye.compatMode?parseInt(ne,10):5):void 0;var ge=!oe||9<=Number(pe),be=oe&&!ve("9"),we=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{_.addEventListener("test",C,t),_.removeEventListener("test",C,t)}catch(e){}return e}();function Ee(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function _e(e,t){if(Ee.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ue){e:{try{te(t.nodeName);var r=!0;break e}catch(e){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=k(e.pointerType)?e.pointerType:ke[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}Ee.prototype.b=function(){this.Ja=!1},F(_e,Ee);var ke={2:"touch",3:"pen",4:"mouse"};_e.prototype.b=function(){_e.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,be)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var Te="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ce(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.da=r,this.key=++Se,this.X=this.Z=!1}function Ie(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function De(e){this.src=e,this.a={},this.b=0}function Ae(e,t){var n=t.type;if(n in e.a){var i,r=e.a[n],o=U(r,t);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(Ie(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Oe(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==i)return r}return-1}De.prototype.add=function(e,t,n,i,r){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Oe(e,t,i,r);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Ce(t,this.src,o,!!i,r)).Z=n,e.push(t)),t};var xe="closure_lm_"+(1e6*Math.random()|0),Ne={};function Me(e,t,n,i,r){if(i&&i.once)return function e(t,n,i,r,o){if(D(n)){for(var a=0;a<n.length;a++)e(t,n[a],i,r,o);return null}return i=qe(i),t&&t[Te]?t.Ba(n,i,O(r)?!!r.capture:!!r,o):Re(t,n,i,!0,r,o)}(e,t,n,i,r);if(D(t)){for(var o=0;o<t.length;o++)Me(e,t[o],n,i,r);return null}return n=qe(n),e&&e[Te]?e.Aa(t,n,O(i)?!!i.capture:!!i,r):Re(e,t,n,!1,i,r)}function Re(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=O(r)?!!r.capture:!!r;if(a&&!ge)return null;var s=Ve(e);if(s||(e[xe]=s=new De(e)),(n=s.add(t,n,i,a,o)).proxy)return n;if(i=function(){var e=Fe,t=ge?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=i).src=e,i.listener=n,e.addEventListener)we||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Pe(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Le(e){if(!T(e)&&e&&!e.X){var t=e.src;if(t&&t[Te])Ae(t.c,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Pe(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ve(t))?(Ae(n,e),0==n.b&&(n.src=null,t[xe]=null)):Ie(e)}}}function Pe(e){return e in Ne?Ne[e]:Ne[e]="on"+e}function Be(e,t){var n=e.listener,i=e.da||e.src;return e.Z&&Le(e),n.call(i,t)}function Fe(e,t){return!!e.X||Be(e,ge?new _e(t,this):t=new _e(t||S("window.event"),this))}function Ve(e){return(e=e[xe])instanceof De?e:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(e){return"function"==I(e)?e:(e[Ue]||(e[Ue]=function(t){return e.handleEvent(t)}),e[Ue])}function je(){V.call(this),this.c=new De(this),(this.J=this).B=null}function We(e,t,n,i){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Ae(e.c,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Ja}F(je,V),je.prototype[Te]=!0,(g=je.prototype).addEventListener=function(e,t,n,i){Me(this,e,t,n,i)},g.removeEventListener=function(e,t,n,i){!function e(t,n,i,r,o){if(D(n))for(var a=0;a<n.length;a++)e(t,n[a],i,r,o);else r=O(r)?!!r.capture:!!r,i=qe(i),t&&t[Te]?(t=t.c,(n=String(n).toString())in t.a&&-1<(i=Oe(a=t.a[n],i,r,o))&&(Ie(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&Ve(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Oe(n,i,r,o)),(i=-1<t?n[t]:null)&&Le(i))}(this,e,t,n,i)},g.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var i=e.type||e;if(k(e))e=new Ee(e,n);else if(e instanceof Ee)e.target=e.target||n;else{var r=e;ee(e=new Ee(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];r=We(a,i,!0,e)&&r}if(r=We(a=e.a=n,i,!0,e)&&r,r=We(a,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=We(a=e.a=t[o],i,!1,e)&&r;return r},g.G=function(){if(je.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)Ie(n[i]);delete t.a[e],t.b--}}this.B=null},g.Aa=function(e,t,n,i){return this.c.add(String(e),t,!1,n,i)},g.Ba=function(e,t,n,i){return this.c.add(String(e),t,!0,n,i)};var He=_.JSON.stringify;function ze(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function $e(){this.b=this.a=null}ze.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Ke,Qe=new ze((function(){return new Ge}),(function(e){e.reset()}));function Ge(){this.next=this.b=this.a=null}function Ye(e){_.setTimeout((function(){throw e}),0)}function Xe(e,t){Ke||function(){var e=_.Promise.resolve(void 0);Ke=function(){e.then(et)}}(),Je||(Ke(),Je=!0),Ze.add(e,t)}$e.prototype.add=function(e,t){var n=Qe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ge.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Je=!(Ge.prototype.reset=function(){this.next=this.b=this.a=null}),Ze=new $e;function et(){for(var e;i=n=void 0,i=null,(n=Ze).a&&(i=n.a,n.a=n.a.next,n.a||(n.b=null),i.next=null),e=i;){try{e.a.call(e.b)}catch(e){Ye(e)}var t=Qe;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,i;Je=!1}function tt(e,t){je.call(this),this.b=e||1,this.a=t||_,this.f=L(this.gb,this),this.g=B()}function nt(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function it(e,t,n){if("function"==I(e))n&&(e=L(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=L(e.handleEvent,e)}return 2147483647<Number(t)?-1:_.setTimeout(e,t||0)}function rt(e,t,n){V.call(this),this.f=null!=n?L(e,n):e,this.c=t,this.b=L(this.ab,this),this.a=[]}function ot(e){e.U=it(e.b,e.c),e.f.apply(null,e.a)}function at(e){V.call(this),this.b=e,this.a={}}F(tt,je),(g=tt.prototype).ba=!1,g.L=null,g.gb=function(){if(this.ba){var e=B()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(nt(this),this.start()))}},g.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=B())},g.G=function(){tt.N.G.call(this),nt(this),delete this.a},F(rt,V),(g=rt.prototype).ea=!1,g.U=null,g.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ot(this)},g.G=function(){rt.N.G.call(this),this.U&&(_.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},g.ab=function(){this.U=null,this.ea&&(this.ea=!1,ot(this))},F(at,V);var st=[];function ut(e,t,n,i){D(n)||(n&&(st[0]=n.toString()),n=st);for(var r=0;r<n.length;r++){var o=Me(t,n[r],i||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function lt(e){X(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Le(e)}),e),e.a={}}function ct(){}at.prototype.G=function(){at.N.G.call(this),lt(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=new je;function dt(e){Ee.call(this,"serverreachability",e)}function ft(e){ht.dispatchEvent(new dt(ht,e))}function pt(e){Ee.call(this,"statevent",e)}function mt(e){ht.dispatchEvent(new pt(ht,e))}function vt(e){Ee.call(this,"timingevent",e)}function yt(e,t){if("function"!=I(e))throw Error("Fn must not be null and must be a function");return _.setTimeout((function(){e()}),t)}F(dt,Ee),F(pt,Ee),F(vt,Ee);var gt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},bt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function wt(){}function Et(e){var t;return(t=e.a)||(t=e.a={}),t}function _t(){}wt.prototype.a=null;var kt,Tt={OPEN:"a",ib:"b",Na:"c",rb:"d"};function St(){Ee.call(this,"d")}function Ct(){Ee.call(this,"c")}function It(){}function Dt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new at(this),this.O=At,e=se?125:void 0,this.P=new tt(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}F(St,Ee),F(Ct,Ee),F(It,wt),kt=new It;var At=45e3,Ot={},xt={};function Nt(e,t,n){e.F=1,e.f=rn(Yt(t)),e.l=n,e.H=!0,Rt(e,null)}function Mt(e,t,n,i){e.F=1,e.f=rn(Yt(t)),e.l=null,e.H=n,Rt(e,i)}function Rt(e,t){e.v=B(),Bt(e),e.D=Yt(e.f),nn(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new rt(L(e.Ka,e,e.a),e.J)),ut(e.I,e.a,"readystatechange",e.eb),t=e.h?J(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),ft(1)}function Lt(e,t,n){for(var i=!0;!e.m&&e.A<n.length;){var r=Pt(e,n);if(r==xt){4==t&&(e.c=4,mt(14),i=!1);break}if(r==Ot){e.c=4,mt(15),i=!1;break}jt(e,r)}4==t&&0==n.length&&(e.c=1,mt(16),i=!1),e.b=e.b&&i,i||(qt(e),Ut(e))}function Pt(e,t){var n=e.A,i=t.indexOf("\n",n);return-1==i?xt:(n=Number(t.substring(n,i)),isNaN(n)?Ot:(i+=1)+n>t.length?xt:(t=t.substr(i,n),e.A=i+n,t))}function Bt(e){e.R=B()+e.O,Ft(e,e.O)}function Ft(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=yt(L(e.bb,e),t)}function Vt(e){e.i&&(_.clearTimeout(e.i),e.i=null)}function Ut(e){e.g.Da()||e.m||e.g.na(e)}function qt(e){Vt(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,nt(e.P),lt(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function jt(e,t){try{e.g.Ga(e,t),ft(4)}catch(e){}}function Wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(A(e)||k(e))q(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(A(e)||k(e)){n=[];for(var i=e.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,e)n[i++]=r;r=(i=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(k(e))return e.split("");if(A(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e)).length;for(var o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}}function Ht(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Ht)for(n=e.K(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function zt(e,t){Kt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&$t(e))}function $t(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Kt(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)Kt(r,i=e.a[t])||(r[e.a[n++]=i]=1),t++;e.a.length=n}}function Kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(g=Dt.prototype).setTimeout=function(e){this.O=e},g.eb=function(e){e=e.target;var t=this.B;t&&3==Yn(e)?t.Ua():this.Ka(e)},g.Ka=function(e){try{if(e==this.a)e:{var t=Yn(this.a),n=this.a.ya(),i=this.a.T();if(!(t<3||3==t&&!se&&!this.a.aa())){this.m||4!=t||7==n||ft(8==n||i<=0?3:2),Vt(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){t:{if(this.a){var a=Xn(this.a,"X-HTTP-Initial-Response");if(a&&!H(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,mt(12),qt(this),Ut(this);break e}this.s=!0,jt(this,s)}this.H?(Lt(this,t,o),se&&this.b&&3==t&&(ut(this.I,this.P,"tick",this.cb),this.P.start())):jt(this,o),4==t&&qt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Bt(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,mt(12)):(this.c=0,mt(13)),qt(this),Ut(this)}}}catch(e){}},g.cb=function(){if(this.a){var e=Yn(this.a),t=this.a.aa();this.A<t.length&&(Vt(this),Lt(this,e,t),this.b&&4!=e&&Bt(this))}},g.cancel=function(){this.m=!0,qt(this)},g.bb=function(){this.i=null;var e=B();0<=e-this.R?(2!=this.F&&(ft(3),mt(17)),qt(this),this.c=2,Ut(this)):Ft(this,this.R-e)},(g=Ht.prototype).C=function(){$t(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},g.K=function(){return $t(this),this.a.concat()},g.get=function(e,t){return Kt(this.b,e)?this.b[e]:t},g.set=function(e,t){Kt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},g.forEach=function(e,t){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var Qt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Gt?(this.h=void 0!==t?t:e.h,Xt(this,e.f),this.j=e.j,Jt(this,e.b),Zt(this,e.i),this.a=e.a,en(this,gn(e.c)),this.g=e.g):e&&(n=String(e).match(Qt))?(this.h=!!t,Xt(this,n[1]||"",!0),this.j=on(n[2]||""),Jt(this,n[3]||"",!0),Zt(this,n[4]),this.a=on(n[5]||"",!0),en(this,n[6]||"",!0),this.g=on(n[7]||"")):(this.h=!!t,this.c=new fn(null,this.h))}function Yt(e){return new Gt(e)}function Xt(e,t,n){e.f=n?on(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Jt(e,t,n){e.b=n?on(t,!0):t}function Zt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function en(e,t,n){t instanceof fn?(e.c=t,function(e,t){t&&!e.f&&(pn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),yn(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=an(t,hn)),e.c=new fn(t,e.h))}function tn(e,t,n){e.c.set(t,n)}function nn(e,t,n){D(n)||(n=[String(n)]),yn(e.c,t,n)}function rn(e){return tn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^B()).toString(36)),e}function on(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function an(e,t,n){return k(e)?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(an(t,un,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(an(t,un,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(an(n,"/"==n.charAt(0)?cn:ln,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",an(n,dn)),e.join("")},Gt.prototype.resolve=function(e){var t=Yt(this),n=!!e.f;n?Xt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Jt(t,e.b):n=null!=e.i;var i=e.a;if(n)Zt(t,e.i);else if(n=!!e.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=t.a.lastIndexOf("/");-1!=r&&(i=t.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(K(r,"./")||K(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?t.a=i:n=""!==e.c.toString(),n?en(t,gn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var un=/[#\/\?@]/g,ln=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function fn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function pn(e){e.a||(e.a=new Ht,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mn(e,t){pn(e),t=bn(e,t),Kt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,zt(e.a,t))}function vn(e,t){return pn(e),t=bn(e,t),Kt(e.a.b,t)}function yn(e,t,n){mn(e,t),0<n.length&&(e.c=null,e.a.set(bn(e,t),W(n)),e.b+=n.length)}function gn(e){var t=new fn;return t.c=e.c,e.a&&(t.a=new Ht(e.a),t.b=e.b),t}function bn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function wn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function En(e){var t=e.a.F.a;if(null!=t)mt(4),t?(mt(10),li(e.a,e,!1)):(mt(11),li(e.a,e,!0));else{e.b=new Dt(e,void 0,void 0),e.b.h=e.h,t=pi(t=e.a,t.Y()?e.f:null,e.i),mt(4),nn(t,"TYPE","xmlhttp");var n=e.a.j,i=e.a.I;n&&i&&tn(t,n,i),Mt(e.b,t,!1,e.f)}}function _n(){this.a=this.b=null}function kn(){this.a=new Ht}function Tn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[x]||(e[x]=++N)):t.charAt(0)+e}function Sn(e,t){this.b=e,this.a=t}function Cn(e){this.g=e||In,e=_.PerformanceNavigationTiming?0<(e=_.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(_.ka&&_.ka.Ea&&_.ka.Ea()&&_.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new kn),this.b=null,this.c=[]}(g=fn.prototype).add=function(e,t){pn(this),this.c=null,e=bn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},g.forEach=function(e,t){pn(this),this.a.forEach((function(n,i){q(n,(function(n){e.call(t,n,i,this)}),this)}),this)},g.K=function(){pn(this);for(var e=this.a.C(),t=this.a.K(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},g.C=function(e){pn(this);var t=[];if(k(e))vn(this,e)&&(t=j(t,this.a.get(bn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=j(t,e[n])}return t},g.set=function(e,t){return pn(this),this.c=null,vn(this,e=bn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},g.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")},F((function(){}),(function(){})),(g=wn.prototype).M=null,g.$=function(e){return this.a.$(e)},g.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},g.Da=function(){return!1},g.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Xn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Xn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var i=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void di(t,2)}this.f=i[0]}else(t=this.a).m=this.c,di(t,2)}else 1==this.M&&(this.g?mt(6):"11111"==t?(mt(5),this.g=!0,(!oe||10<=Number(pe))&&(this.c=200,this.b.cancel(),mt(11),li(this.a,this,!0))):(mt(7),this.g=!1))},g.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,En(this)):1==this.M&&(this.g?(mt(11),li(this.a,this,!0)):(mt(10),li(this.a,this,!1)));else{0==this.M?mt(8):1==this.M&&mt(9);var e=this.a;e.m=this.c,di(e,2)}},g.Y=function(){return this.a.Y()},g.ma=function(){return this.a.ma()},kn.prototype.add=function(e){this.a.set(Tn(e),e)},kn.prototype.C=function(){return this.a.C()};var In=10;function Dn(e,t){!e.a&&(K(t,"spdy")||K(t,"quic")||K(t,"h2"))&&(e.f=e.g,e.a=new kn,e.b&&(Nn(e,e.b),e.b=null))}function An(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function On(e){return e.b?1:e.a?e.a.a.c:0}function xn(e,t){return e.b?e.b==t:!!e.a&&(t=Tn(t),Kt(e.a.a.b,t))}function Nn(e,t){e.a?e.a.add(t):e.b=t}function Mn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=Tn(t),n=Kt(e.a.a.b,n)),n&&zt(e.a.a,Tn(t)))}function Rn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return W(e.c);var t=e.c;return q(e.a.C(),(function(e){t=t.concat(e.j)})),t}function Ln(){}function Pn(){this.a=new Ln}function Bn(e,t,n){var i=n||"";try{Wt(e,(function(e,n){var r=e;O(e)&&(r=He(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function Fn(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(e){}}Cn.prototype.cancel=function(){this.c=Rn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(q(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},Ln.prototype.stringify=function(e){return _.JSON.stringify(e,void 0)},Ln.prototype.parse=function(e){return _.JSON.parse(e,void 0)};var Vn=_.JSON.parse;function Un(e){je.call(this),this.headers=new Ht,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=qn,this.D=this.F=!1}F(Un,je);var qn="",jn=/^https?$/i,Wn=["POST","PUT"];function Hn(e){return"content-type"==e.toLowerCase()}function zn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,$n(e),Qn(e)}function $n(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Kn(e){if(e.b&&void 0!==E&&(!e.s[1]||4!=Yn(e)||2!=e.T()))if(e.l&&4==Yn(e))it(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Yn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(t=i)){var r;if(r=0===n){var o=String(e.A).match(Qt)[1]||null;if(!o&&_.self&&_.self.location){var a=_.self.location.protocol;o=a.substr(0,a.length-1)}r=!jn.test(o?o.toLowerCase():"")}t=r}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",$n(e))}finally{Qn(e)}}}function Qn(e,t){if(e.a){Gn(e);var n=e.a,i=e.s[0]?C:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){}}}function Gn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(_.clearTimeout(e.m),e.m=null)}function Yn(e){return e.a?e.a.readyState:0}function Xn(e,t){return e.a?e.a.getResponseHeader(t):null}function Jn(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}if(i)return e;if(n=function(e){var t="";return X(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),k(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(i=e.indexOf("?"))<0||n<i){i=n;var r=""}else r=e.substring(i+1,n);n=(e=[e.substr(0,i),r,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return tn(e,t,n),e}function Zn(e){this.f=[],this.F=new _n,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!S("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=S("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=S("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=S("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=S("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new Cn(e&&e.concurrentRequestLimit),this.ja=new Pn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function ei(e){if(ti(e),3==e.u){var t=e.P++,n=Yt(e.B);tn(n,"SID",e.H),tn(n,"RID",t),tn(n,"TYPE","terminate"),oi(e,n),(t=new Dt(e,t,void 0)).F=2,t.f=rn(Yt(n)),n=!1,_.navigator&&_.navigator.sendBeacon&&(n=_.navigator.sendBeacon(t.f.toString(),"")),!n&&_.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=B(),Bt(t)}fi(e)}function ti(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(_.clearTimeout(e.l),e.l=null),ci(e),e.b.cancel(),e.h&&(T(e.h)&&_.clearTimeout(e.h),e.h=null)}function ni(e,t){e.f.push(new Sn(e.Ra++,t)),3==e.u&&ii(e)}function ii(e){An(e.b)||e.h||(e.h=!0,Xe(e.Ia,e),e.A=0)}function ri(e,t){var n;n=t?t.W:e.P++;var i=Yt(e.B);tn(i,"SID",e.H),tn(i,"RID",n),tn(i,"AID",e.O),oi(e,i),e.g&&e.i&&Jn(i,e.g,e.i),n=new Dt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=ai(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),Nn(e.b,n),Nt(n,i,t)}function oi(e,t){e.c&&Wt({},(function(e,n){tn(t,n,e)}))}function ai(e,t,n){n=Math.min(e.f.length,n);var i=e.c?L(e.c.Ta,e.c,e):null;e:for(var r=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=r[u].b,c=r[u].a;if((l-=o)<0)o=Math.max(0,r[u].b-100),s=!1;else try{Bn(c,a,"req"+l+"_")}catch(e){i&&i(c)}}if(s){i=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,i}function si(e){e.a||e.l||(e.S=1,Xe(e.Ha,e),e.v=0)}function ui(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=yt(L(e.Ha,e),hi(e,e.v)),e.v++,!0)}function li(e,t,n){var i=t.l;i&&Dn(e.b,i),e.ia=e.oa&&n,e.m=t.c,e.B=pi(e,null,e.ha),ii(e)}function ci(e){null!=e.s&&(_.clearTimeout(e.s),e.s=null)}function hi(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function di(e,t){if(2==t){var n=null;e.c&&(n=null);var i=L(e.fb,e);n||(n=new Gt("//www.google.com/images/cleardot.gif"),_.location&&"http"==_.location.protocol||Xt(n,"https"),rn(n)),function(e,t){var n=new ct;if(_.Image){var i=new Image;i.onload=P(Fn,n,i,"TestLoadImage: loaded",!0,t),i.onerror=P(Fn,n,i,"TestLoadImage: error",!1,t),i.onabort=P(Fn,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=P(Fn,n,i,"TestLoadImage: timeout",!1,t),_.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else mt(2);e.u=0,e.c&&e.c.ta(t),fi(e),ti(e)}function fi(e){e.u=0,e.m=-1,e.c&&(0==Rn(e.b).length&&0==e.f.length||(e.b.c.length=0,W(e.f),e.f.length=0),e.c.sa())}function pi(e,t,n){var i=function(e){return e instanceof Gt?Yt(e):new Gt(e,void 0)}(n);if(""!=i.b)t&&Jt(i,t+"."+i.b),Zt(i,i.i);else{var r,o=_.location;r=t?t+"."+o.hostname:o.hostname,i=function(e,t,n,i){var r=new Gt(null,void 0);return e&&Xt(r,e),t&&Jt(r,t),n&&Zt(r,n),i&&(r.a=i),r}(o.protocol,r,+o.port,n)}return e.V&&X(e.V,(function(e,t){tn(i,t,e)})),t=e.j,n=e.I,t&&n&&tn(i,t,n),tn(i,"VER",e.wa),oi(e,i),i}function mi(){}function vi(){if(oe&&!(10<=Number(pe)))throw Error("Environmental error: no available transport.")}function yi(e,t){je.call(this),this.a=new Zn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?t=r:((i=""==t)||(i=0<=(i=t.length-1)&&t.indexOf("/",i)==i),t+=i?r:"/"+r)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!H(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!H(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new wi(this)}function gi(e){St.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function bi(){Ct.call(this),this.status=1}function wi(e){this.a=e}(g=Un.prototype).ca=function(e,t,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Et(this.H):Et(kt),this.a.onreadystatechange=L(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void zn(this,e)}e=n||"";var r=new Ht(this.headers);i&&Wt(i,(function(e,t){r.set(t,e)})),i=function(e){e:{for(var t=Hn,n=e.length,i=k(e)?e.split(""):e,r=0;r<n;r++)if(r in i&&t.call(void 0,i[r],r,e)){t=r;break e}t=-1}return t<0?null:k(e)?e.charAt(t):e[t]}(r.K()),n=_.FormData&&e instanceof _.FormData,0<=U(Wn,t)&&!i&&!n&&r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gn(this),0<this.o&&((this.D=function(e){return oe&&ve(9)&&T(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=L(this.Ca,this)):this.m=it(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){zn(this,e)}},g.Ca=function(){void 0!==E&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qn(this))},g.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qn(this,!0)),Un.N.G.call(this)},g.Fa=function(){this.j||(this.w||this.l||this.g?Kn(this):this.$a())},g.$a=function(){Kn(this)},g.T=function(){try{return 2<Yn(this)?this.a.status:-1}catch(i){return-1}},g.za=function(){try{return 2<Yn(this)?this.a.statusText:""}catch(i){return""}},g.aa=function(){try{return this.a?this.a.responseText:""}catch(i){return""}},g.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vn(t)}},g.ya=function(){return this.h},g.Ya=function(){return k(this.f)?this.f:String(this.f)},(g=Zn.prototype).wa=8,g.u=1,g.Da=function(){return 0==this.u},g.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new Dt(this,e=this.P++,void 0),i=this.i;if(this.J&&(i?ee(i=J(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)e:{for(var r=t=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&k(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=r;break e}if(4096===t||r===this.f.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=ai(this,n,t),tn(r=Yt(this.B),"RID",e),tn(r,"CVER",22),this.o&&this.j&&tn(r,"X-HTTP-Session-Id",this.j),oi(this,r),this.g&&i&&Jn(r,this.g,i),Nn(this.b,n),this.W?(tn(r,"$req",t),tn(r,"SID","null"),n.S=!0,Nt(n,r,null)):Nt(n,r,t),this.u=2}}else 3==this.u&&(e?ri(this,e):0==this.f.length||An(this.b)||ri(this))},g.Ha=function(){this.l=null,this.a=new Dt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Yt(this.pa);tn(e,"RID","rpc"),tn(e,"SID",this.H),tn(e,"CI",this.ia?"0":"1"),tn(e,"AID",this.O),oi(this,e),tn(e,"TYPE","xmlhttp"),this.g&&this.i&&Jn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Mt(this.a,e,!0,this.ga)},g.Ga=function(e,t){if(0!=this.u&&(this.a==e||xn(this.b,e)))if(this.m=e.o,!e.s&&xn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(D(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;ci(this),this.a.cancel(),this.a=null}ui(this),mt(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=yt(L(this.Za,this),6e3));if(On(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else di(this,11)}else if(!e.s&&this.a!=e||ci(this),!H(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var i=t[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&T(i)&&0<i&&(this.D=1.5*i),this.o&&(i=e.a)&&((r=Xn(i,"X-Client-Wire-Protocol"))&&Dn(this.b,r),this.j&&(i=Xn(i,"X-HTTP-Session-Id")))&&(this.I=i,tn(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=e,this.pa=pi(this,this.Y()?this.ga:null,this.ha),i.s?(Mn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(Vt(i),Bt(i)),this.a=i):si(this),0<this.f.length&&ii(this)}else"stop"!=i[0]&&"close"!=i[0]||di(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?di(this,7):ei(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},g.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,ui(this),mt(19))},g.na=function(e){var t=null;if(this.a==e){ci(this),this.a=null;var n=2}else{if(!xn(this.b,e))return;t=e.j,Mn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=B()-e.v,ht.dispatchEvent(new vt(ht,e.l?e.l.length:0,t,this.A)),ii(this)):si(this);else{var i=e.c;if(3==i||0==i&&0<this.m||!(1==n&&function(e,t){return!(On(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=yt(L(e.Ia,e,t),hi(e,e.A)),e.A++,!0))}(this,e)||2==n&&ui(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),i){case 1:di(this,5);break;case 4:di(this,10);break;case 3:di(this,6);break;default:di(this,2)}}},g.fb=function(e){mt(e?2:1)},g.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Un(this.La)).F=this.R,e},g.ma=function(){return!!this.c&&!0},g.Y=function(){return this.R},(g=mi.prototype).va=function(){},g.ua=function(){},g.ta=function(){},g.sa=function(){},g.Ta=function(){},vi.prototype.a=function(e,t){return new yi(e,t)},F(yi,je),(g=yi.prototype).addEventListener=function(e,t,n,i){yi.N.addEventListener.call(this,e,t,n,i)},g.removeEventListener=function(e,t,n,i){yi.N.removeEventListener.call(this,e,t,n,i)},g.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,i=this.b||void 0;mt(0),e.ha=n,e.V=i||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new wn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Jn(t,e.g,e.i)),(e=e.w).i=n,t=pi(e.a,null,e.i),mt(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,En(e)):(nn(t,"MODE","init"),!e.a.o&&e.a.j&&nn(t,"X-HTTP-Session-Id",e.a.j),e.b=new Dt(e,void 0,void 0),e.b.h=e.h,Mt(e.b,t,!1,null),e.M=0)},g.close=function(){ei(this.a)},g.Xa=function(e){if(k(e)){var t={};t.__data__=e,ni(this.a,t)}else this.h?((t={}).__data__=He(e),ni(this.a,t)):ni(this.a,e)},g.G=function(){this.a.c=null,delete this.f,ei(this.a),delete this.a,yi.N.G.call(this)},F(gi,St),F(bi,Ct),F(wi,mi),wi.prototype.va=function(){this.a.dispatchEvent("a")},wi.prototype.ua=function(e){this.a.dispatchEvent(new gi(e))},wi.prototype.ta=function(e){this.a.dispatchEvent(new bi(e))},wi.prototype.sa=function(){this.a.dispatchEvent("b")};var Ei=P((function(e,t){function n(){}n.prototype=e.prototype;var i=new n;return e.apply(i,Array.prototype.slice.call(arguments,1)),i}),vi);vi.prototype.createWebChannel=vi.prototype.a,yi.prototype.send=yi.prototype.Xa,yi.prototype.open=yi.prototype.Wa,yi.prototype.close=yi.prototype.close,gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,bt.COMPLETE="complete",(_t.EventType=Tt).OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",je.prototype.listen=je.prototype.Aa,Un.prototype.listenOnce=Un.prototype.Ba,Un.prototype.getLastError=Un.prototype.Ya,Un.prototype.getLastErrorCode=Un.prototype.ya,Un.prototype.getStatus=Un.prototype.T,Un.prototype.getStatusText=Un.prototype.za,Un.prototype.getResponseJson=Un.prototype.Va,Un.prototype.getResponseText=Un.prototype.aa,Un.prototype.send=Un.prototype.ca;var _i,ki,Ti={createWebChannelTransport:Ei,ErrorCode:gt,EventType:bt,WebChannel:_t,XhrIo:Un},Si=Ti.createWebChannelTransport,Ci=Ti.ErrorCode,Ii=Ti.EventType,Di=Ti.WebChannel,Ai=Ti.XhrIo,Oi=t.SDK_VERSION,xi=new a("@firebase/firestore");function Ni(){return xi.logLevel===n.DEBUG?_i.DEBUG:xi.logLevel===n.SILENT?_i.SILENT:_i.ERROR}function Mi(e){switch(e){case _i.DEBUG:xi.logLevel=n.DEBUG;break;case _i.ERROR:xi.logLevel=n.ERROR;break;case _i.SILENT:xi.logLevel=n.SILENT;break;default:xi.error("Firestore ("+Oi+"): Invalid value passed to `setLogLevel`")}}function Ri(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(xi.logLevel<=n.DEBUG){var o=i.map(Pi);xi.debug.apply(xi,["Firestore ("+Oi+") ["+e+"]: "+t].concat(o))}}function Li(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(xi.logLevel<=n.ERROR){var r=t.map(Pi);xi.error.apply(xi,["Firestore ("+Oi+"): "+e].concat(r))}}function Pi(e){if("string"==typeof e)return e;var t=Vi.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function Bi(e){var t="FIRESTORE ("+Oi+") INTERNAL ASSERTION FAILED: "+e;throw Li(t),new Error(t)}function Fi(e,t){e||Bi(t)}(ki=_i=_i||{})[ki.DEBUG=0]="DEBUG",ki[ki.ERROR=1]="ERROR",ki[ki.SILENT=2]="SILENT";var Vi=(Ui.setPlatform=function(e){Ui.platform&&Bi("Platform already defined"),Ui.platform=e},Ui.getPlatform=function(){return Ui.platform||Bi("Platform not set"),Ui.platform},Ui);function Ui(){}function qi(){return Vi.getPlatform().emptyByteString}var ji,Wi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hi=(l(zi,ji=Error),zi);function zi(e,t){var n=ji.call(this,t)||this;return n.code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function $i(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Hi(Wi.INVALID_ARGUMENT,e)}for(var i in n.prototype=e.prototype,e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function Ki(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qi(e,t){return void 0!==e?e:t}function Gi(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Number(n);isNaN(i)||t(i,e[n])}}function Yi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xi(e){for(var t in Fi(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ji(e,t){if(0!==t.length)throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+pr(t.length,"argument")+".")}function Zi(e,t,n){if(t.length!==n)throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires "+pr(n,"argument")+", but was called with "+pr(t.length,"argument")+".")}function er(e,t,n){if(t.length<n)throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires at least "+pr(n,"argument")+", but was called with "+pr(t.length,"argument")+".")}function tr(e,t,n,i){if(t.length<n||t.length>i)throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+i+" arguments, but was called with "+pr(t.length,"argument")+".")}function nr(e,t,n,i){sr(e,t,fr(n)+" argument",i)}function ir(e,t,n,i){void 0!==i&&nr(e,t,n,i)}function rr(e,t,n,i){sr(e,t,n+" option",i)}function or(e,t,n,i){void 0!==i&&rr(e,t,n,i)}function ar(e,t,n,i,r){void 0!==i&&function(e,t,n,i,r){for(var o=[],a=0,s=r;a<s.length;a++){var u=s[a];if(u===i)return;o.push(lr(u))}var l=lr(i);throw new Hi(Wi.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,i,r)}function sr(e,t,n,i){if(!("object"===t?ur(i):"non-empty string"===t?"string"==typeof i&&""!==i:typeof i===t)){var r=lr(i);throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+r)}}function ur(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function lr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":Bi("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function cr(e,t,n){if(void 0===n)throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+fr(t)+" argument, but it was undefined.")}function hr(e,t,n){Yi(t,(function(t,i){if(n.indexOf(t)<0)throw new Hi(Wi.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function dr(e,t,n,i){var r=lr(i);return new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires its "+fr(n)+" argument to be a "+t+", but it was: "+r)}function fr(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function pr(e,t){return e+" "+t+(1===e?"":"s")}var mr=(vr.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return Fi(20===t.length,"Invalid auto ID: "+t),t},vr);function vr(){}function yr(e,t){return e<t?-1:t<e?1:0}function gr(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function br(e){return e+"\0"}function wr(){if("undefined"==typeof Uint8Array)throw new Hi(Wi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Er(){if(!Vi.getPlatform().base64Available)throw new Hi(Wi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _r=(kr.fromBase64String=function(e){Zi("Blob.fromBase64String",arguments,1),nr("Blob.fromBase64String","string",1,e),Er();try{return new kr(Vi.getPlatform().atob(e))}catch(e){throw new Hi(Wi.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},kr.fromUint8Array=function(e){if(Zi("Blob.fromUint8Array",arguments,1),wr(),!(e instanceof Uint8Array))throw dr("Blob.fromUint8Array","Uint8Array",1,e);return new kr(Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join(""))},kr.prototype.toBase64=function(){return Zi("Blob.toBase64",arguments,0),Er(),Vi.getPlatform().btoa(this._binaryString)},kr.prototype.toUint8Array=function(){Zi("Blob.toUint8Array",arguments,0),wr();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},kr.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},kr.prototype.isEqual=function(e){return this._binaryString===e._binaryString},kr.prototype._compareTo=function(e){return yr(this._binaryString,e._binaryString)},kr);function kr(e){Er(),this._binaryString=e}var Tr=$i(_r,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Sr=function(e,t,n,i,r){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=i,this.forceLongPolling=r},Cr="(default)",Ir=(Object.defineProperty(Dr.prototype,"isDefaultDatabase",{get:function(){return this.database===Cr},enumerable:!0,configurable:!0}),Dr.prototype.isEqual=function(e){return e instanceof Dr&&e.projectId===this.projectId&&e.database===this.database},Dr.prototype.compareTo=function(e){return yr(this.projectId,e.projectId)||yr(this.database,e.database)},Dr);function Dr(e,t){this.projectId=e,this.database=t||Cr}var Ar=(Or.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Or.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},Or.INVALID=-1,Or);function Or(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}var xr="__name__",Nr=(Object.defineProperty(Mr.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Mr.prototype.isEqual=function(e){return 0===Mr.comparator(this,e)},Mr.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Mr?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Mr.prototype.limit=function(){return this.offset+this.length},Mr.prototype.popFirst=function(e){return e=void 0===e?1:e,Fi(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},Mr.prototype.popLast=function(){return Fi(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Mr.prototype.firstSegment=function(){return Fi(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Mr.prototype.lastSegment=function(){return this.get(this.length-1)},Mr.prototype.get=function(e){return Fi(e<this.length,"Index out of range"),this.segments[this.offset+e]},Mr.prototype.isEmpty=function(){return 0===this.length},Mr.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Mr.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Mr.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Mr.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Mr.comparator=function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=e.get(i),o=t.get(i);if(r<o)return-1;if(o<r)return 1}return e.length<t.length?-1:e.length>t.length?1:0},Mr);function Mr(e,t,n){void 0===t?t=0:t>e.length&&Bi("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&Bi("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}var Rr,Lr=(l(Pr,Rr=Nr),Pr.prototype.construct=function(e,t,n){return new Pr(e,t,n)},Pr.prototype.canonicalString=function(){return this.toArray().join("/")},Pr.prototype.toString=function(){return this.canonicalString()},Pr.fromString=function(e){if(0<=e.indexOf("//"))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new Pr(e.split("/").filter((function(e){return 0<e.length})))},Pr.EMPTY_PATH=new Pr([]),Pr);function Pr(){return null!==Rr&&Rr.apply(this,arguments)||this}var Br,Fr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=(l(Ur,Br=Nr),Ur.prototype.construct=function(e,t,n){return new Ur(e,t,n)},Ur.isValidIdentifier=function(e){return Fr.test(e)},Ur.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},Ur.prototype.toString=function(){return this.canonicalString()},Ur.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===xr},Ur.keyField=function(){return new Ur([xr])},Ur.fromServerFormat=function(e){for(var t=[],n="",i=0,r=function(){if(0===n.length)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new Hi(Wi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hi(Wi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,i+=2}else"`"===a?o=!o:"."!==a||o?n+=a:r(),i++}if(r(),o)throw new Hi(Wi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(t)},Ur.EMPTY_PATH=new Ur([]),Ur);function Ur(){return null!==Br&&Br.apply(this,arguments)||this}var qr=(jr.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},jr.prototype.isEqual=function(e){return null!==e&&0===Lr.comparator(this.path,e.path)},jr.prototype.toString=function(){return this.path.toString()},jr.comparator=function(e,t){return Lr.comparator(e.path,t.path)},jr.isDocumentKey=function(e){return e.length%2==0},jr.fromSegments=function(e){return new jr(new Lr(e.slice()))},jr.fromPathString=function(e){return new jr(Lr.fromString(e))},jr.EMPTY=new jr(new Lr([])),jr);function jr(e){this.path=e,Fi(jr.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}var Wr,Hr,zr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};(Hr=Wr=Wr||{}).All="all",Hr.ListenStreamIdle="listen_stream_idle",Hr.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Hr.WriteStreamIdle="write_stream_idle",Hr.WriteStreamConnectionBackoff="write_stream_connection_backoff",Hr.OnlineStateTimeout="online_state_timeout",Hr.ClientMetadataRefresh="client_metadata_refresh",Hr.LruGarbageCollection="lru_garbage_collection",Hr.RetryTransaction="retry_transaction";var $r=(Kr.createAndSchedule=function(e,t,n,i,r){var o=new Kr(e,t,Date.now()+n,i,r);return o.start(n),o},Kr.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},Kr.prototype.skipDelay=function(){return this.handleDelayElapsed()},Kr.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hi(Wi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},Kr.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},Kr.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Kr);function Kr(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}var Qr=(Object.defineProperty(Gr.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),Gr.prototype.enqueueAndForget=function(e){this.enqueue(e)},Gr.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},Gr.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},Gr.prototype.enqueueAndInitiateShutdown=function(e){return c(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Gr.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},Gr.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw Li("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n},Gr.prototype.enqueueAfterDelay=function(e,t,n){var i=this;this.verifyNotFailed(),Fi(0<=t,"Attempted to schedule an operation with a negative delay of "+t),-1<this.timerIdsToSkip.indexOf(e)&&(t=0);var r=$r.createAndSchedule(this,e,t,n,(function(e){return i.removeDelayedOperation(e)}));return this.delayedOperations.push(r),r},Gr.prototype.verifyNotFailed=function(){this.failure&&Bi("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},Gr.prototype.verifyOperationInProgress=function(){Fi(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},Gr.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},Gr.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Gr.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){Fi(e===Wr.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,i=t.delayedOperations;n<i.length;n++){var r=i[n];if(r.skipDelay(),e!==Wr.All&&r.timerId===e)break}return t.drain()}))},Gr.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},Gr.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);Fi(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},Gr);function Gr(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}var Yr="\x01",Xr="\x01",Jr="\x10",Zr="\x11";function eo(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=no(t)),t=to(e.get(n),t);return no(t)}function to(e,t){for(var n=t,i=e.length,r=0;r<i;r++){var o=e.charAt(r);switch(o){case"\0":n+=Yr+Jr;break;case Yr:n+=Yr+Zr;break;default:n+=o}}return n}function no(e){return e+Yr+Xr}function io(e){var t=e.length;if(Fi(2<=t,"Invalid path "+e),2===t)return Fi(e.charAt(0)===Yr&&e.charAt(1)===Xr,"Non-empty path "+e+" had length 2"),Lr.EMPTY_PATH;for(var n=t-2,i=[],r="",o=0;o<t;){var a=e.indexOf(Yr,o);switch((a<0||n<a)&&Bi('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case Xr:var s=e.substring(o,a),u=void 0;0===r.length?u=s:(u=r+=s,r=""),i.push(u);break;case Jr:r+=e.substring(o,a),r+="\0";break;case Zr:r+=e.substring(o,a+1);break;default:Bi('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Lr(i)}var ro=(oo.now=function(){return oo.fromMillis(Date.now())},oo.fromDate=function(e){return oo.fromMillis(e.getTime())},oo.fromMillis=function(e){var t=Math.floor(e/1e3);return new oo(t,1e6*(e-1e3*t))},oo.prototype.toDate=function(){return new Date(this.toMillis())},oo.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},oo.prototype._compareTo=function(e){return this.seconds===e.seconds?yr(this.nanoseconds,e.nanoseconds):yr(this.seconds,e.seconds)},oo.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},oo.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},oo);function oo(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Hi(Wi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Hi(Wi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hi(Wi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Hi(Wi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}var ao=(so.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new so(new ro(t,e%1e6*1e3))},so.fromTimestamp=function(e){return new so(e)},so.forDeletedDoc=function(){return so.MIN},so.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},so.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},so.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},so.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},so.prototype.toTimestamp=function(){return this.timestamp},so.MIN=new so(new ro(0,0)),so);function so(e){this.timestamp=e}var uo=(lo.prototype.insert=function(e,t){return new lo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fo.BLACK,null,null))},lo.prototype.remove=function(e){return new lo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))},lo.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},lo.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(0===i)return t+n.left.size;n=i<0?n.left:(t+=n.left.size+1,n.right)}return-1},lo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(lo.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),lo.prototype.minKey=function(){return this.root.minKey()},lo.prototype.maxKey=function(){return this.root.maxKey()},lo.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},lo.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},lo.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},lo.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},lo.prototype.getIterator=function(){return new co(this.root,null,this.comparator,!1)},lo.prototype.getIteratorFrom=function(e){return new co(this.root,e,this.comparator,!1)},lo.prototype.getReverseIterator=function(){return new co(this.root,null,this.comparator,!0)},lo.prototype.getReverseIteratorFrom=function(e){return new co(this.root,e,this.comparator,!0)},lo);function lo(e,t){this.comparator=e,this.root=t||fo.EMPTY}var co=(ho.prototype.getNext=function(){Fi(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},ho.prototype.hasNext=function(){return 0<this.nodeStack.length},ho.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},ho);function ho(e,t,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!e.isEmpty();)if(r=t?n(e.key,t):1,i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}var fo=(po.prototype.copy=function(e,t,n,i,r){return new po(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},po.prototype.isEmpty=function(){return!1},po.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},po.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},po.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},po.prototype.minKey=function(){return this.min().key},po.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},po.prototype.insert=function(e,t,n){var i=this,r=n(e,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp()},po.prototype.removeMin=function(){if(this.left.isEmpty())return po.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},po.prototype.remove=function(e,t){var n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return po.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()},po.prototype.isRed=function(){return this.color},po.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},po.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},po.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},po.prototype.rotateLeft=function(){var e=this.copy(null,null,po.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},po.prototype.rotateRight=function(){var e=this.copy(null,null,po.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},po.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},po.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},po.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Bi("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw Bi("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw Bi("Black depths differ");return e+(this.isRed()?0:1)},po.EMPTY=null,po.RED=!0,po.BLACK=!1,po);function po(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:po.RED,this.left=null!=i?i:po.EMPTY,this.right=null!=r?r:po.EMPTY,this.size=this.left.size+1+this.right.size}var mo=(Object.defineProperty(vo.prototype,"key",{get:function(){throw Bi("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"value",{get:function(){throw Bi("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"color",{get:function(){throw Bi("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"left",{get:function(){throw Bi("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(vo.prototype,"right",{get:function(){throw Bi("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),vo.prototype.copy=function(e,t,n,i,r){return this},vo.prototype.insert=function(e,t,n){return new fo(e,t)},vo.prototype.remove=function(e,t){return this},vo.prototype.isEmpty=function(){return!0},vo.prototype.inorderTraversal=function(e){return!1},vo.prototype.reverseTraversal=function(e){return!1},vo.prototype.minKey=function(){return null},vo.prototype.maxKey=function(){return null},vo.prototype.isRed=function(){return!1},vo.prototype.checkMaxDepth=function(){return!0},vo.prototype.check=function(){return 0},vo);function vo(){this.size=0}fo.EMPTY=new mo;var yo=(go.fromMapKeys=function(e){var t=new go(e.comparator);return e.forEach((function(e){t=t.add(e)})),t},go.prototype.has=function(e){return null!==this.data.get(e)},go.prototype.first=function(){return this.data.minKey()},go.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(go.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),go.prototype.indexOf=function(e){return this.data.indexOf(e)},go.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},go.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var i=n.getNext();if(0<=this.comparator(i.key,e[1]))return;t(i.key)}},go.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},go.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},go.prototype.getIterator=function(){return new bo(this.data.getIterator())},go.prototype.getIteratorFrom=function(e){return new bo(this.data.getIteratorFrom(e))},go.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},go.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},go.prototype.isEmpty=function(){return this.data.isEmpty()},go.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},go.prototype.isEqual=function(e){if(!(e instanceof go))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var i=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(i,r))return!1}return!0},go.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},go.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},go.prototype.copy=function(e){var t=new go(this.comparator);return t.data=e,t},go);function go(e){this.comparator=e,this.data=new uo(this.comparator)}var bo=(wo.prototype.getNext=function(){return this.iter.getNext().key},wo.prototype.hasNext=function(){return this.iter.hasNext()},wo);function wo(e){this.iter=e}var Eo=new uo(qr.comparator);function _o(){return Eo}function ko(){return _o()}var To=new uo(qr.comparator);function So(){return To}var Co=new uo(qr.comparator);function Io(){return Co}var Do=new yo(qr.comparator);function Ao(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Do,i=0,r=e;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var Oo=new yo(yr);function xo(){return Oo}var No=(Mo.prototype.applyToRemoteDocument=function(e,t,n){t&&Fi(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var i=n.mutationResults;Fi(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var o=this.mutations[r];if(o.key.isEqual(e)){var a=i[r];t=o.applyToRemoteDocument(t,a)}}return t},Mo.prototype.applyToLocalView=function(e,t){t&&Fi(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,i=this.baseMutations;n<i.length;n++)(s=i[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var r=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,r,this.localWriteTime))}return t},Mo.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(i){var r=t.applyToLocalView(i.key,e.get(i.key));r&&(n=n.insert(i.key,r))})),n},Mo.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ao())},Mo.prototype.isEqual=function(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations)&&gr(this.baseMutations,e.baseMutations)},Mo);function Mo(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,Fi(0<(this.mutations=i).length,"Cannot create an empty mutation batch")}var Ro=(Lo.from=function(e,t,n,i){Fi(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var r=Io(),o=e.mutations,a=0;a<o.length;a++)r=r.insert(o[a].key,n[a].version);return new Lo(e,t,n,i,r)},Lo);function Lo(e,t,n,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=i,this.docVersions=r}var Po=(Bo.prototype.catch=function(e){return this.next(void 0,e)},Bo.prototype.next=function(e,t){var n=this;return this.callbackAttached&&Bi("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Bo((function(i,r){n.nextCallback=function(t){n.wrapSuccess(e,t).next(i,r)},n.catchCallback=function(e){n.wrapFailure(t,e).next(i,r)}}))},Bo.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},Bo.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof Bo?t:Bo.resolve(t)}catch(e){return Bo.reject(e)}},Bo.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Bo.resolve(t)},Bo.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):Bo.reject(t)},Bo.resolve=function(e){return new Bo((function(t,n){t(e)}))},Bo.reject=function(e){return new Bo((function(t,n){n(e)}))},Bo.waitFor=function(e){return new Bo((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(e){return n(e)}))})),o=!0,r===i&&t()}))},Bo.or=function(e){for(var t=Bo.resolve(!1),n=function(e){t=t.next((function(t){return t?Bo.resolve(t):e()}))},i=0,r=e;i<r.length;i++)n(r[i]);return t},Bo.forEach=function(e,t){var n=this,i=[];return e.forEach((function(e,r){i.push(t.call(n,e,r))})),this.waitFor(i)},Bo);function Bo(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}var Fo,Vo,Uo=(qo.forUser=function(e,t,n,i){return Fi(""!==e.uid,"UserID must not be an empty string."),new qo(e.isAuthenticated()?e.uid:"",t,n,i)},qo.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).iterate({index:pu.userMutationsIndex,range:n},(function(e,n,i){t=!1,i.done()})).next((function(){return t}))},qo.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=Ho(n),Ko(e).put(t)}))},qo.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},qo.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=Ho(t),Ko(e).put(n)}))},qo.prototype.addMutationBatch=function(e,t,n,i){var r=this,o=$o(e),a=zo(e);return a.add({}).next((function(s){Fi("number"==typeof s,"Auto-generated key is not a number");var u=new No(s,t,n,i),l=r.serializer.toDbMutationBatch(r.userId,u);r.documentKeysByBatchId[s]=u.keys();for(var c=[],h=0,d=i;h<d.length;h++){var f=d[h],p=vu.key(r.userId,f.key.path,s);c.push(a.put(l)),c.push(o.put(p,vu.PLACEHOLDER)),c.push(r.indexManager.addToCollectionParentIndex(e,f.key.path.popLast()))}return Po.waitFor(c).next((function(){return u}))}))},qo.prototype.lookupMutationBatch=function(e,t){var n=this;return zo(e).get(t).next((function(e){return e?(Fi(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},qo.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Po.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var i=e.keys();return n.documentKeysByBatchId[t]=i}return null}))},qo.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return zo(e).iterate({index:pu.userMutationsIndex,range:r},(function(e,t,r){t.userId===n.userId&&(Fi(t.batchId>=i,"Should have found mutation after "+i),o=n.serializer.fromDbMutationBatch(t)),r.done()})).next((function(){return o}))},qo.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zo(e).iterate({index:pu.userMutationsIndex,range:t,reverse:!0},(function(e,t,i){n=t.batchId,i.done()})).next((function(){return n}))},qo.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).loadAll(pu.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},qo.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,i=vu.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return $o(e).iterate({range:r},(function(i,r,a){var s=i[0],u=i[1],l=i[2],c=io(u);if(s===n.userId&&t.path.isEqual(c))return zo(e).get(l).next((function(e){if(!e)throw Bi("Dangling document-mutation reference found: "+i+" which points to "+l);Fi(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},qo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,i=new yo(yr),r=[];return t.forEach((function(t){var o=vu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=$o(e).iterate({range:a},(function(e,r,o){var a=e[0],s=e[1],u=e[2],l=io(s);a===n.userId&&t.path.isEqual(l)?i=i.add(u):o.done()}));r.push(s)})),Po.waitFor(r).next((function(){return n.lookupMutationBatches(e,i)}))},qo.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;Fi(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),Fi(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=t.path,r=i.length+1,o=vu.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new yo(yr);return $o(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],l=e[2],c=io(u);a===n.userId&&i.isPrefixOf(c)?c.length===r&&(s=s.add(l)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},qo.prototype.lookupMutationBatches=function(e,t){var n=this,i=[],r=[];return t.forEach((function(t){r.push(zo(e).get(t).next((function(e){if(null===e)throw Bi("Dangling document-mutation reference found, which points to "+t);Fi(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),i.push(n.serializer.fromDbMutationBatch(e))})))})),Po.waitFor(r).next((function(){return i}))},qo.prototype.removeMutationBatch=function(e,t){var n=this;return Wo(e.simpleDbTransaction,this.userId,t).next((function(i){return n.removeCachedMutationKeys(t.batchId),Po.forEach(i,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},qo.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},qo.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Po.resolve();var i=IDBKeyRange.lowerBound(vu.prefixForUser(t.userId)),r=[];return $o(e).iterate({range:i},(function(e,n,i){if(e[0]===t.userId){var o=io(e[1]);r.push(o)}else i.done()})).next((function(){Fi(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(e){return e.canonicalString()})))}))}))},qo.prototype.containsKey=function(e,t){return jo(e,this.userId,t)},qo.prototype.getMutationQueueMetadata=function(e){var t=this;return Ko(e).get(this.userId).next((function(e){return e||new du(t.userId,-1,"")}))},qo);function qo(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.documentKeysByBatchId={}}function jo(e,t,n){var i=vu.prefixForPath(t,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return $o(e).iterate({range:o,keysOnly:!0},(function(e,n,i){var o=e[0],s=e[1];e[2],o===t&&s===r&&(a=!0),i.done()})).next((function(){return a}))}function Wo(e,t,n){var i=e.store(pu.store),r=e.store(vu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=i.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Fi(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=vu.key(t,d.key.path,n.batchId);o.push(r.delete(f)),l.push(d.key)}return Po.waitFor(o).next((function(){return l}))}function Ho(e){return e instanceof Uint8Array?(Fi("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/dentaltrack"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function zo(e){return ll.getStore(e,pu.store)}function $o(e){return ll.getStore(e,vu.store)}function Ko(e){return ll.getStore(e,du.store)}(Vo=Fo=Fo||{})[Vo.QueryCache=0]="QueryCache",Vo[Vo.SyncEngine=1]="SyncEngine";var Qo=(Go.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},Go.prototype.after=function(e){return this.seek(e+2),this.next()},Go.prototype.seek=function(e){Fi((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},Go.forQueryCache=function(){return new Go(Fo.QueryCache,2)},Go.forSyncEngine=function(){return new Go(Fo.SyncEngine)},Go);function Go(e,t){Fi((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}var Yo="SimpleDb",Xo=(Jo.openOrCreate=function(e,t,n){return Fi(Jo.isAvailable(),"IndexedDB not supported in current environment."),Ri(Yo,"Opening database:",e),new Po((function(i,r){var o=window.indexedDB.open(e,t);o.onsuccess=function(e){var t=e.target.result;i(new Jo(t))},o.onblocked=function(){r(new Hi(Wi.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?r(new Hi(Wi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(t)},o.onupgradeneeded=function(t){Ri(Yo,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var i=t.target.result,r=new ta(o.transaction);n.createOrUpgrade(i,r,t.oldVersion,au).next((function(){Ri(Yo,"Database upgrade to version "+au+" complete")}))}})).toPromise()},Jo.delete=function(e){return Ri(Yo,"Removing database:",e),oa(window.indexedDB.deleteDatabase(e)).toPromise()},Jo.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/dentaltrack"}).USE_MOCK_PERSISTENCE;var e=d(),t=Jo.getIOSVersion(e),n=0<t&&t<10,i=Jo.getAndroidVersion(e),r=0<i&&i<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||r)},Jo.getStore=function(e,t){return e.store(t)},Jo.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Jo.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Jo.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},Jo.prototype.runTransaction=function(e,t,n){var i=ta.open(this.db,e,t),r=n(i).catch((function(e){return i.abort(e),Po.reject(e)})).toPromise();return r.catch((function(){})),i.completionPromise.then((function(){return r}))},Jo.prototype.close=function(){this.db.close()},Jo);function Jo(e){this.db=e,12.2===Jo.getIOSVersion(d())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var Zo=(Object.defineProperty(ea.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(ea.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(ea.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),ea.prototype.done=function(){this.shouldStop=!0},ea.prototype.skip=function(e){this.nextKey=e},ea.prototype.delete=function(){return oa(this.dbCursor.delete())},ea);function ea(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}var ta=(na.open=function(e,t,n){return new na(e.transaction(n,t))},Object.defineProperty(na.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),na.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(Ri(Yo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},na.prototype.store=function(e){var t=this.transaction.objectStore(e);return Fi(!!t,"Object store not part of transaction: "+e),new ia(t)},na);function na(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new zr,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=sa(e.target.error);t.completionDeferred.reject(n)}}var ia=(ra.prototype.put=function(e,t){return oa(void 0!==t?(Ri(Yo,"PUT",this.store.name,e,t),this.store.put(t,e)):(Ri(Yo,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},ra.prototype.add=function(e){return Ri(Yo,"ADD",this.store.name,e,e),oa(this.store.add(e))},ra.prototype.get=function(e){var t=this;return oa(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ri(Yo,"GET",t.store.name,e,n),n}))},ra.prototype.delete=function(e){return Ri(Yo,"DELETE",this.store.name,e),oa(this.store.delete(e))},ra.prototype.count=function(){return Ri(Yo,"COUNT",this.store.name),oa(this.store.count())},ra.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),i=[];return this.iterateCursor(n,(function(e,t){i.push(t)})).next((function(){return i}))},ra.prototype.deleteAll=function(e,t){Ri(Yo,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var i=this.cursor(n);return this.iterateCursor(i,(function(e,t,n){return n.delete()}))},ra.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var i=this.cursor(n);return this.iterateCursor(i,t)},ra.prototype.iterateSerial=function(e){var t=this.cursor({});return new Po((function(n,i){t.onerror=function(e){var t=sa(e.target.error);i(t)},t.onsuccess=function(t){var i=t.target.result;i?e(i.primaryKey,i.value).next((function(e){e?i.continue():n()})):n()}}))},ra.prototype.iterateCursor=function(e,t){var n=[];return new Po((function(i,r){e.onerror=function(e){r(e.target.error)},e.onsuccess=function(e){var r=e.target.result;if(r){var o=new Zo(r),a=t(r.primaryKey,r.value,o);if(a instanceof Po){var s=a.catch((function(e){return o.done(),Po.reject(e)}));n.push(s)}o.isDone?i():null===o.skipToKey?r.continue():r.continue(o.skipToKey)}else i()}})).next((function(){return Po.waitFor(n)}))},ra.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(Fi(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},ra.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},ra);function ra(e){this.store=e}function oa(e){return new Po((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sa(e.target.error);n(t)}}))}var aa=!1;function sa(e){var t=Xo.getIOSVersion(d());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var i=new Hi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return aa||(aa=!0,setTimeout((function(){throw i}),0)),i}}return e}var ua=(la.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},la.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return ao.fromTimestamp(new ro(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},la.prototype.getHighestSequenceNumber=function(e){return da(e.simpleDbTransaction)},la.prototype.setTargetsMetadata=function(e,t,n){var i=this;return this.retrieveMetadata(e).next((function(r){return r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),i.saveMetadata(e,r)}))},la.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(i){return i.targetCount+=1,n.updateMetadataFromQueryData(t,i),n.saveMetadata(e,i)}))}))},la.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},la.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ca(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return Fi(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},la.prototype.removeTargets=function(e,t,n){var i=this,r=0,o=[];return ca(e).iterate((function(a,s){var u=i.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(r++,o.push(i.removeQueryData(e,u)))})).next((function(){return Po.waitFor(o)})).next((function(){return r}))},la.prototype.forEachTarget=function(e,t){var n=this;return ca(e).iterate((function(e,i){var r=n.serializer.fromDbTarget(i);t(r)}))},la.prototype.retrieveMetadata=function(e){return ha(e.simpleDbTransaction)},la.prototype.saveMetadata=function(e,t){return function(e){return ll.getStore(e,Du.store)}(e).put(Du.key,t)},la.prototype.saveQueryData=function(e,t){return ca(e).put(this.serializer.toDbTarget(t))},la.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},la.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},la.prototype.getQueryData=function(e,t){var n=this,i=t.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return ca(e).iterate({range:r,index:Tu.queryTargetsIndexName},(function(e,i,r){var a=n.serializer.fromDbTarget(i);t.isEqual(a.query)&&(o=a,r.done())})).next((function(){return o}))},la.prototype.addMatchingKeys=function(e,t,n){var i=this,r=[],o=fa(e);return t.forEach((function(t){var a=eo(t.path);r.push(o.put(new Cu(n,a))),r.push(i.referenceDelegate.addReference(e,t))})),Po.waitFor(r)},la.prototype.removeMatchingKeys=function(e,t,n){var i=this,r=fa(e);return Po.forEach(t,(function(t){var o=eo(t.path);return Po.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(e,t)])}))},la.prototype.removeMatchingKeysForTargetId=function(e,t){var n=fa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)},la.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),i=fa(e),r=Ao();return i.iterate({range:n,keysOnly:!0},(function(e,t,n){var i=io(e[1]),o=new qr(i);r=r.add(o)})).next((function(){return r}))},la.prototype.containsKey=function(e,t){var n=eo(t.path),i=IDBKeyRange.bound([n],[br(n)],!1,!0),r=0;return fa(e).iterate({index:Cu.documentTargetsIndex,keysOnly:!0,range:i},(function(e,t,n){var i=e[0];e[1],0!==i&&(r++,n.done())})).next((function(){return 0<r}))},la.prototype.getQueryDataForTarget=function(e,t){var n=this;return ca(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},la);function la(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Qo.forQueryCache()}function ca(e){return ll.getStore(e,Tu.store)}function ha(e){return Xo.getStore(e,Du.store).get(Du.key).next((function(e){return Fi(null!==e,"Missing metadata row."),e}))}function da(e){return ha(e).next((function(e){return e.highestListenSequenceNumber}))}function fa(e){return ll.getStore(e,Cu.store)}var pa=(ma.fromSet=function(e){return new ma(e)},ma.fromArray=function(e){var t=new yo(Vr.comparator);return e.forEach((function(e){return t=t.add(e)})),new ma(t)},ma.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},ma.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},ma);function ma(e){this.fields=e}var va=(ya.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},ya);function ya(e,t){this.field=e,this.transform=t}var ga,ba,wa=function(e,t){this.version=e,this.transformResults=t};(ba=ga=ga||{})[ba.Set=0]="Set",ba[ba.Patch=1]="Patch",ba[ba.Transform=2]="Transform",ba[ba.Delete=3]="Delete";var Ea=(_a.exists=function(e){return new _a(void 0,e)},_a.updateTime=function(e){return new _a(e)},Object.defineProperty(_a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),_a.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Rs&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Rs:(Fi(this.isNone,"Precondition should be empty"),!0)},_a.prototype.isEqual=function(e){return function(e,t){return null!=e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},_a.NONE=new _a,_a);function _a(e,t){this.updateTime=e,this.exists=t,Fi(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}var ka=(Ta.prototype.verifyKeyMatches=function(e){null!=e&&Fi(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Ta.getPostMutationVersion=function(e){return e instanceof Rs?e.version:ao.MIN},Ta);function Ta(){}var Sa,Ca=(l(Ia,Sa=ka),Ia.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),Fi(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Rs(this.key,n,{hasCommittedMutations:!0},this.value)},Ia.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var i=ka.getPostMutationVersion(e);return new Rs(this.key,i,{hasLocalMutations:!0},this.value)},Ia.prototype.extractBaseValue=function(e){return null},Ia.prototype.isEqual=function(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},Ia);function Ia(e,t,n){var i=Sa.call(this)||this;return i.key=e,i.value=t,i.precondition=n,i.type=ga.Set,i}var Da,Aa=(l(Oa,Da=ka),Oa.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Fi(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Us(this.key,t.version);var n=this.patchDocument(e);return new Rs(this.key,t.version,{hasCommittedMutations:!0},n)},Oa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var i=ka.getPostMutationVersion(e),r=this.patchDocument(e);return new Rs(this.key,i,{hasLocalMutations:!0},r)},Oa.prototype.extractBaseValue=function(e){return null},Oa.prototype.isEqual=function(e){return e instanceof Oa&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},Oa.prototype.patchDocument=function(e){var t;return t=e instanceof Rs?e.data():Cs.EMPTY,this.patchObject(t)},Oa.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e=null!==i?e.set(n,i):e.delete(n)}})),e},Oa);function Oa(e,t,n,i){var r=Da.call(this)||this;return r.key=e,r.data=t,r.fieldMask=n,r.precondition=i,r.type=ga.Patch,r}var xa,Na=(l(Ma,xa=ka),Ma.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Fi(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Us(this.key,t.version);var n=this.requireDocument(e),i=this.serverTransformResults(e,t.transformResults),r=t.version,o=this.transformObject(n.data(),i);return new Rs(this.key,r,{hasCommittedMutations:!0},o)},Ma.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var i=this.requireDocument(e),r=this.localTransformResults(n,e,t),o=this.transformObject(i.data(),r);return new Rs(this.key,i.version,{hasLocalMutations:!0},o)},Ma.prototype.extractBaseValue=function(e){for(var t=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=e instanceof Rs?e.field(r.field):void 0,a=r.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Cs.EMPTY.set(r.field,a):t.set(r.field,a))}return t},Ma.prototype.isEqual=function(e){return e instanceof Ma&&this.key.isEqual(e.key)&&gr(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},Ma.prototype.requireDocument=function(e){Fi(e instanceof Rs,"Unknown MaybeDocument type "+e);var t=e;return Fi(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},Ma.prototype.serverTransformResults=function(e,t){var n=[];Fi(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<t.length;i++){var r=this.fieldTransforms[i],o=r.transform,a=null;e instanceof Rs&&(a=e.field(r.field)),n.push(o.applyToRemoteDocument(a,t[i]))}return n},Ma.prototype.localTransformResults=function(e,t,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var a=o[r],s=a.transform,u=null;t instanceof Rs&&(u=t.field(a.field)),null===u&&n instanceof Rs&&(u=n.field(a.field)),i.push(s.applyToLocalView(u,e))}return i},Ma.prototype.transformObject=function(e,t){Fi(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var i=this.fieldTransforms[n].field;e=e.set(i,t[n])}return e},Ma);function Ma(e,t){var n=xa.call(this)||this;return n.key=e,n.fieldTransforms=t,n.type=ga.Transform,n.precondition=Ea.exists(!0),n}var Ra,La,Pa,Ba,Fa,Va=(l(Ua,Ra=ka),Ua.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),Fi(null==t.transformResults,"Transform results received by DeleteMutation."),new Bs(this.key,t.version,{hasCommittedMutations:!0})},Ua.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&Fi(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Bs(this.key,ao.forDeletedDoc())):e},Ua.prototype.extractBaseValue=function(e){return null},Ua.prototype.isEqual=function(e){return e instanceof Ua&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},Ua);function Ua(e,t){var n=Ra.call(this)||this;return n.key=e,n.precondition=t,n.type=ga.Delete,n}(Pa=La=La||{})[Pa.NullValue=0]="NullValue",Pa[Pa.BooleanValue=1]="BooleanValue",Pa[Pa.NumberValue=2]="NumberValue",Pa[Pa.TimestampValue=3]="TimestampValue",Pa[Pa.StringValue=4]="StringValue",Pa[Pa.BlobValue=5]="BlobValue",Pa[Pa.RefValue=6]="RefValue",Pa[Pa.GeoPointValue=7]="GeoPointValue",Pa[Pa.ArrayValue=8]="ArrayValue",Pa[Pa.ObjectValue=9]="ObjectValue",(Fa=Ba=Ba||{})[Fa.Default=0]="Default",Fa[Fa.Estimate=1]="Estimate",Fa[Fa.Previous=2]="Previous";var qa=(ja.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new ja(Ba.Estimate,t);case"previous":return new ja(Ba.Previous,t);case"none":case void 0:return new ja(Ba.Default,t);default:return Bi("fromSnapshotOptions() called with invalid options.")}},ja);function ja(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}var Wa=(Ha.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},Ha.prototype.defaultCompareTo=function(e){return Fi(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),yr(this.typeOrder,e.typeOrder)},Ha);function Ha(){}var za,$a=(l(Ka,za=Wa),Ka.prototype.value=function(e){return null},Ka.prototype.isEqual=function(e){return e instanceof Ka},Ka.prototype.compareTo=function(e){return e instanceof Ka?0:this.defaultCompareTo(e)},Ka.INSTANCE=new Ka,Ka);function Ka(){var e=za.call(this)||this;return e.typeOrder=La.NullValue,e.internalValue=null,e}var Qa,Ga=(l(Ya,Qa=Wa),Ya.prototype.value=function(e){return this.internalValue},Ya.prototype.isEqual=function(e){return e instanceof Ya&&this.internalValue===e.internalValue},Ya.prototype.compareTo=function(e){return e instanceof Ya?yr(this,e):this.defaultCompareTo(e)},Ya.of=function(e){return e?Ya.TRUE:Ya.FALSE},Ya.TRUE=new Ya(!0),Ya.FALSE=new Ya(!1),Ya);function Ya(e){var t=Qa.call(this)||this;return t.internalValue=e,t.typeOrder=La.BooleanValue,t}var Xa,Ja=(l(Za,Xa=Wa),Za.prototype.value=function(e){return this.internalValue},Za.prototype.compareTo=function(e){return e instanceof Za?function(e,t){return e<t?-1:t<e?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},Za);function Za(e){var t=Xa.call(this)||this;return t.internalValue=e,t.typeOrder=La.NumberValue,t}function es(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ts,ns=(l(is,ts=Ja),is.prototype.isEqual=function(e){return e instanceof is&&es(this.internalValue,e.internalValue)},is);function is(){return null!==ts&&ts.apply(this,arguments)||this}var rs,os=(l(as,rs=Ja),as.prototype.isEqual=function(e){return e instanceof as&&es(this.internalValue,e.internalValue)},as.NAN=new as(NaN),as.POSITIVE_INFINITY=new as(1/0),as.NEGATIVE_INFINITY=new as(-1/0),as);function as(){return null!==rs&&rs.apply(this,arguments)||this}var ss,us=(l(ls,ss=Wa),ls.prototype.value=function(e){return this.internalValue},ls.prototype.isEqual=function(e){return e instanceof ls&&this.internalValue===e.internalValue},ls.prototype.compareTo=function(e){return e instanceof ls?yr(this.internalValue,e.internalValue):this.defaultCompareTo(e)},ls);function ls(e){var t=ss.call(this)||this;return t.internalValue=e,t.typeOrder=La.StringValue,t}var cs,hs=(l(ds,cs=Wa),ds.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},ds.prototype.isEqual=function(e){return e instanceof ds&&this.internalValue.isEqual(e.internalValue)},ds.prototype.compareTo=function(e){return e instanceof ds?this.internalValue._compareTo(e.internalValue):e instanceof ps?-1:this.defaultCompareTo(e)},ds);function ds(e){var t=cs.call(this)||this;return t.internalValue=e,t.typeOrder=La.TimestampValue,t}var fs,ps=(l(ms,fs=Wa),ms.prototype.value=function(e){return e&&e.serverTimestampBehavior===Ba.Estimate?new hs(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Ba.Previous&&this.previousValue?this.previousValue.value(e):null},ms.prototype.isEqual=function(e){return e instanceof ms&&this.localWriteTime.isEqual(e.localWriteTime)},ms.prototype.compareTo=function(e){return e instanceof ms?this.localWriteTime._compareTo(e.localWriteTime):e instanceof hs?1:this.defaultCompareTo(e)},ms.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},ms);function ms(e,t){var n=fs.call(this)||this;return n.localWriteTime=e,n.previousValue=t,n.typeOrder=La.TimestampValue,n}var vs,ys=(l(gs,vs=Wa),gs.prototype.value=function(e){return this.internalValue},gs.prototype.isEqual=function(e){return e instanceof gs&&this.internalValue.isEqual(e.internalValue)},gs.prototype.compareTo=function(e){return e instanceof gs?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},gs);function gs(e){var t=vs.call(this)||this;return t.internalValue=e,t.typeOrder=La.BlobValue,t}var bs,ws=(l(Es,bs=Wa),Es.prototype.value=function(e){return this.key},Es.prototype.isEqual=function(e){return e instanceof Es&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},Es.prototype.compareTo=function(e){if(e instanceof Es){var t=this.databaseId.compareTo(e.databaseId);return 0!==t?t:qr.comparator(this.key,e.key)}return this.defaultCompareTo(e)},Es);function Es(e,t){var n=bs.call(this)||this;return n.databaseId=e,n.key=t,n.typeOrder=La.RefValue,n}var _s,ks=(l(Ts,_s=Wa),Ts.prototype.value=function(e){return this.internalValue},Ts.prototype.isEqual=function(e){return e instanceof Ts&&this.internalValue.isEqual(e.internalValue)},Ts.prototype.compareTo=function(e){return e instanceof Ts?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},Ts);function Ts(e){var t=_s.call(this)||this;return t.internalValue=e,t.typeOrder=La.GeoPointValue,t}var Ss,Cs=(l(Is,Ss=Wa),Is.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,i){t[n]=i.value(e)})),t},Is.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},Is.prototype.isEqual=function(e){if(e instanceof Is){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var i=t.getNext(),r=n.getNext();if(i.key!==r.key||!i.value.isEqual(r.value))return!1}return!t.hasNext()&&!n.hasNext()}return!1},Is.prototype.compareTo=function(e){if(e instanceof Is){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var i=t.getNext(),r=n.getNext(),o=yr(i.key,r.key)||i.value.compareTo(r.value);if(o)return o}return yr(t.hasNext(),n.hasNext())}return this.defaultCompareTo(e)},Is.prototype.set=function(e,t){if(Fi(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),t);var n=this.child(e.firstSegment());n instanceof Is||(n=Is.EMPTY);var i=n.set(e.popFirst(),t);return this.setChild(e.firstSegment(),i)},Is.prototype.delete=function(e){if(Fi(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new Is(this.internalValue.remove(e.firstSegment()));var t=this.child(e.firstSegment());if(t instanceof Is){var n=t.delete(e.popFirst());return new Is(this.internalValue.insert(e.firstSegment(),n))}return this},Is.prototype.contains=function(e){return null!==this.field(e)},Is.prototype.field=function(e){Fi(!e.isEmpty(),"Can't get field of empty path");var t=this;return e.forEach((function(e){t=t instanceof Is?t.internalValue.get(e):null})),t},Is.prototype.fieldMask=function(){var e=new yo(Vr.comparator);return this.internalValue.forEach((function(t,n){var i=new Vr([t]);if(n instanceof Is){var r=n.fieldMask().fields;r.isEmpty()?e=e.add(i):r.forEach((function(t){e=e.add(i.child(t))}))}else e=e.add(i)})),pa.fromSet(e)},Is.prototype.toString=function(){return this.internalValue.toString()},Is.prototype.child=function(e){return this.internalValue.get(e)||void 0},Is.prototype.setChild=function(e,t){return new Is(this.internalValue.insert(e,t))},Is.EMPTY=new Is(new uo(yr)),Is);function Is(e){var t=Ss.call(this)||this;return t.internalValue=e,t.typeOrder=La.ObjectValue,t}var Ds,As=(l(Os,Ds=Wa),Os.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},Os.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},Os.prototype.forEach=function(e){this.internalValue.forEach(e)},Os.prototype.isEqual=function(e){if(e instanceof Os){if(this.internalValue.length!==e.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(e.internalValue[t]))return!1;return!0}return!1},Os.prototype.compareTo=function(e){if(e instanceof Os){for(var t=Math.min(this.internalValue.length,e.internalValue.length),n=0;n<t;n++){var i=this.internalValue[n].compareTo(e.internalValue[n]);if(i)return i}return yr(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},Os.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},Os);function Os(e){var t=Ds.call(this)||this;return t.internalValue=e,t.typeOrder=La.ArrayValue,t}var xs=(Ns.compareByKey=function(e,t){return qr.comparator(e.key,t.key)},Ns);function Ns(e,t){this.key=e,this.version=t}var Ms,Rs=(l(Ls,Ms=xs),Ls.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var i=this.getProtoField(e);n=void 0===i?null:this.converter(i),this.fieldValueCache.set(t,n)}return n},Ls.prototype.data=function(){var e=this;if(!this.objectValue){var t=Cs.EMPTY;Yi(this.proto.fields,(function(n,i){t=t.set(new Vr([n]),e.converter(i))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},Ls.prototype.value=function(){return this.data().value()},Ls.prototype.isEqual=function(e){return e instanceof Ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},Ls.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Ls.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Ls.prototype.getProtoField=function(e){Fi(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},Ls.compareByField=function(e,t,n){var i=t.field(e),r=n.field(e);return null!==i&&null!==r?i.compareTo(r):Bi("Trying to compare documents on fields that don't exist")},Ls);function Ls(e,t,n,i,r,o){var a=Ms.call(this,e,t)||this;return a.objectValue=i,a.proto=r,a.converter=o,Fi(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var Ps,Bs=(l(Fs,Ps=xs),Fs.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Fs.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Fs.prototype.isEqual=function(e){return e instanceof Fs&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Fs);function Fs(e,t,n){var i=Ps.call(this,e,t)||this;return i.hasCommittedMutations=!(!n||!n.hasCommittedMutations),i}var Vs,Us=(l(qs,Vs=xs),qs.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(qs.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),qs.prototype.isEqual=function(e){return e instanceof qs&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},qs);function qs(){return null!==Vs&&Vs.apply(this,arguments)||this}var js=(Ws.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];if(a.isEqual(e))return s}},Ws.prototype.has=function(e){return void 0!==this.get(e)},Ws.prototype.set=function(e,t){var n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(e))return void(i[r]=[e,t]);i.push([e,t])}else this.inner[n]=[[e,t]]},Ws.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(i,1),!0;return!1},Ws.prototype.forEach=function(e){Yi(this.inner,(function(t,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];e(a,s)}}))},Ws.prototype.isEmpty=function(){return Xi(this.inner)},Ws);function Ws(e){this.mapKeyFn=e,this.inner={}}var Hs=(zs.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},zs.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},zs.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Po.resolve(n):this.getFromCache(e,t)},zs.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},zs.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},zs.prototype.assertNotApplied=function(){Fi(!this.changesApplied,"Changes have already been applied.")},zs);function zs(){this.changes=new js((function(e){return e.toString()})),this.changesApplied=!1}var $s,Ks="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Qs=(Object.defineProperty(Gs.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),Gs.prototype.start=function(e){var t=Xo.getStore(e,Mu.store);return this.synchronizeLastDocumentChangeId(t)},Gs.prototype.addEntry=function(e,t,n){var i=this;return Js(e).put(eu(t),n).next((function(){i.indexManager.addToCollectionParentIndex(e,t.path.popLast())}))},Gs.prototype.removeEntry=function(e,t){var n=Js(e),i=eu(t);return n.delete(i)},Gs.prototype.updateMetadata=function(e,t,n){var i=this;return this.getMetadata(e).next((function(r){return r.byteSize+=n,i.setMetadata(e,r).next((function(){if(i.keepDocumentChangeLog)return Zs(e).put({changes:i.serializer.toDbResourcePaths(t)})}))}))},Gs.prototype.getEntry=function(e,t){var n=this;return Js(e).get(eu(t)).next((function(e){return e?n.serializer.fromDbRemoteDocument(e):null}))},Gs.prototype.getSizedEntry=function(e,t){var n=this;return Js(e).get(eu(t)).next((function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:tu(e)}:null}))},Gs.prototype.getEntries=function(e,t){var n=this,i=ko();return this.forEachDbEntry(e,t,(function(e,t){i=t?i.insert(e,n.serializer.fromDbRemoteDocument(t)):i.insert(e,null)})).next((function(){return i}))},Gs.prototype.getSizedEntries=function(e,t){var n=this,i=ko(),r=new uo(qr.comparator);return this.forEachDbEntry(e,t,(function(e,t){r=t?(i=i.insert(e,n.serializer.fromDbRemoteDocument(t)),r.insert(e,tu(t))):(i=i.insert(e,null),r.insert(e,0))})).next((function(){return{maybeDocuments:i,sizeMap:r}}))},Gs.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Po.resolve();var i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),r=t.getIterator(),o=r.getNext();return Js(e).iterate({range:i},(function(e,t,i){for(var a=qr.fromSegments(e);o&&qr.comparator(o,a)<0;)n(o,null),o=r.getNext();o&&o.isEqual(a)&&(n(o,t),o=r.hasNext()?r.getNext():null),o?i.skip(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},Gs.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;Fi(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=So(),r=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return Js(e).iterate({range:a},(function(e,o,a){if(e.length===r){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof Rs&&t.matches(s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},Gs.prototype.getNewDocumentChanges=function(e){var t=this;Fi(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ao(),i=_o(),r=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Zs(e);return a.iterate({range:r},(function(e,i){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==i.id))return t.synchronizeLastDocumentChangeId(a).next((function(){return Po.reject(new Hi(Wi.DATA_LOSS,Ks))}));n=n.unionWith(t.serializer.fromDbResourcePaths(i.changes)),t._lastProcessedDocumentChangeId=i.id})).next((function(){var r=[];return n.forEach((function(n){r.push(t.getEntry(e,n).next((function(e){var t=e||new Bs(n,ao.forDeletedDoc());i=i.insert(n,t)})))})),Po.waitFor(r)})).next((function(){return i}))},Gs.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Zs(e).delete(n)},Gs.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},(function(e,n,i){t._lastProcessedDocumentChangeId=e,i.done()}))},Gs.prototype.newChangeBuffer=function(){return new Gs.RemoteDocumentChangeBuffer(this)},Gs.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},Gs.prototype.getMetadata=function(e){return Xs(e).get(_u.key).next((function(e){return Fi(!!e,"Missing document cache metadata"),e}))},Gs.prototype.setMetadata=function(e,t){return Xs(e).put(_u.key,t)},Gs.RemoteDocumentChangeBuffer=(l(Ys,$s=Hs),Ys.prototype.applyChanges=function(e){var t=this,n=[],i=0,r=Ao();return this.changes.forEach((function(o,a){var s=t.documentSizes.get(o);if(Fi(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){var u=t.documentCache.serializer.toDbRemoteDocument(a),l=tu(u);i+=l-s,n.push(t.documentCache.addEntry(e,o,u))}else i-=s,n.push(t.documentCache.removeEntry(e,o));r=r.add(o)})),n.push(this.documentCache.updateMetadata(e,r,i)),Po.waitFor(n)},Ys.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},Ys.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},Ys),Gs);function Gs(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}function Ys(e){var t=$s.call(this)||this;return t.documentCache=e,t.documentSizes=new js((function(e){return e.toString()})),t}function Xs(e){return ll.getStore(e,_u.store)}function Js(e){return ll.getStore(e,wu.store)}function Zs(e){return ll.getStore(e,Mu.store)}function eu(e){return e.path.toArray()}function tu(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bi("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var nu=(iu.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Po.resolve()},iu.prototype.getCollectionParents=function(e,t){return Po.resolve(this.collectionParentIndex.getEntries(t))},iu);function iu(){this.collectionParentIndex=new ru}var ru=(ou.prototype.add=function(e){Fi(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new yo(Lr.comparator),r=!i.has(n);return this.index[t]=i.add(n),r},ou.prototype.getEntries=function(e){return(this.index[e]||new yo(Lr.comparator)).toArray()},ou);function ou(){this.index={}}var au=8,su=(uu.prototype.createOrUpgrade=function(e,t,n,i){var r=this;Fi(n<i&&0<=n&&i<=au,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&1<=i&&(function(e){e.createObjectStore(cu.store)}(e),function(e){e.createObjectStore(du.store,{keyPath:du.keyPath}),e.createObjectStore(pu.store,{keyPath:pu.keyPath,autoIncrement:!0}).createIndex(pu.userMutationsIndex,pu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(vu.store)}(e),Nu(e),function(e){e.createObjectStore(wu.store)}(e));var o=Po.resolve();return n<3&&3<=i&&(0!==n&&(function(e){e.deleteObjectStore(Cu.store),e.deleteObjectStore(Tu.store),e.deleteObjectStore(Du.store)}(e),Nu(e)),o=o.next((function(){return function(e){var t=e.store(Du.store),n=new Du(0,0,ao.MIN.toTimestamp(),0);return t.put(Du.key,n)}(t)}))),n<4&&4<=i&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(pu.store).loadAll().next((function(n){e.deleteObjectStore(pu.store),e.createObjectStore(pu.store,{keyPath:pu.keyPath,autoIncrement:!0}).createIndex(pu.userMutationsIndex,pu.userMutationsKeyPath,{unique:!0});var i=t.store(pu.store),r=n.map((function(e){return i.put(e)}));return Po.waitFor(r)}))}(e,t)}))),o=o.next((function(){!function(e){e.createObjectStore(Lu.store,{keyPath:Lu.keyPath})}(e),function(e){e.createObjectStore(Mu.store,{keyPath:"id",autoIncrement:!0})}(e)}))),n<5&&5<=i&&(o=o.next((function(){return r.removeAcknowledgedMutations(t)}))),n<6&&6<=i&&(o=o.next((function(){return function(e){e.createObjectStore(_u.store)}(e),r.addDocumentGlobal(t)}))),n<7&&7<=i&&(o=o.next((function(){return r.ensureSequenceNumbers(t)}))),n<8&&8<=i&&(o=o.next((function(){return r.createCollectionParentIndex(e,t)}))),o},uu.prototype.addDocumentGlobal=function(e){var t=0;return e.store(wu.store).iterate((function(e,n){t+=tu(n)})).next((function(){var n=new _u(t);return e.store(_u.store).put(_u.key,n)}))},uu.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(du.store),i=e.store(pu.store);return n.loadAll().next((function(n){return Po.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.loadAll(pu.userMutationsIndex,r).next((function(i){return Po.forEach(i,(function(i){Fi(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=t.serializer.fromDbMutationBatch(i);return Wo(e,n.userId,r).next((function(){}))}))}))}))}))},uu.prototype.ensureSequenceNumbers=function(e){var t=e.store(Cu.store),n=e.store(wu.store);return da(e).next((function(e){var i=[];return n.iterate((function(n,r){var o=new Lr(n),a=function(e){return[0,eo(e)]}(o);i.push(t.get(a).next((function(n){return n?Po.resolve():function(n){return t.put(new Cu(0,eo(n),e))}(o)})))})).next((function(){return Po.waitFor(i)}))}))},uu.prototype.createCollectionParentIndex=function(e,t){function n(e){if(r.add(e)){var t=e.lastSegment(),n=e.popLast();return i.put({collectionId:t,parent:eo(n)})}}e.createObjectStore(Ou.store,{keyPath:Ou.keyPath});var i=t.store(Ou.store),r=new ru;return t.store(wu.store).iterate({keysOnly:!0},(function(e,t){return n(new Lr(e).popLast())})).next((function(){return t.store(vu.store).iterate({keysOnly:!0},(function(e,t){e[0];var i=e[1];return n((e[2],io(i)).popLast())}))}))},uu);function uu(e){this.serializer=e}var lu=function(e,t){this.seconds=e,this.nanoseconds=t},cu=(hu.store="owner",hu.key="owner",hu);function hu(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var du=(fu.store="mutationQueues",fu.keyPath="userId",fu);function fu(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}var pu=(mu.store="mutations",mu.keyPath="batchId",mu.userMutationsIndex="userMutationsIndex",mu.userMutationsKeyPath=["userId","batchId"],mu);function mu(e,t,n,i,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}var vu=(yu.prefixForUser=function(e){return[e]},yu.prefixForPath=function(e,t){return[e,eo(t)]},yu.key=function(e,t,n){return[e,eo(t),n]},yu.store="documentMutations",yu.PLACEHOLDER=new yu,yu);function yu(){}var gu=function(e,t){this.path=e,this.readTime=t},bu=function(e,t){this.path=e,this.version=t},wu=(Eu.store="remoteDocuments",Eu);function Eu(e,t,n,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i}var _u=(ku.store="remoteDocumentGlobal",ku.key="remoteDocumentGlobalKey",ku);function ku(e){this.byteSize=e}var Tu=(Su.store="targets",Su.keyPath="targetId",Su.queryTargetsIndexName="queryTargetsIndex",Su.queryTargetsKeyPath=["canonicalId","targetId"],Su);function Su(e,t,n,i,r,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.query=o}var Cu=(Iu.store="targetDocuments",Iu.keyPath=["targetId","path"],Iu.documentTargetsIndex="documentTargetsIndex",Iu.documentTargetsKeyPath=["path","targetId"],Iu);function Iu(e,t,n){this.targetId=e,this.path=t,Fi(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Du=(Au.key="targetGlobalKey",Au.store="targetGlobal",Au);function Au(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i}var Ou=(xu.store="collectionParents",xu.keyPath=["collectionId","parent"],xu);function xu(e,t){this.collectionId=e,this.parent=t}function Nu(e){e.createObjectStore(Cu.store,{keyPath:Cu.keyPath}).createIndex(Cu.documentTargetsIndex,Cu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Tu.store,{keyPath:Tu.keyPath}).createIndex(Tu.queryTargetsIndexName,Tu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Du.store)}var Mu=(Ru.store="remoteDocumentChanges",Ru.keyPath="id",Ru);function Ru(e){this.changes=e}var Lu=(Pu.store="clientMetadata",Pu.keyPath="clientId",Pu);function Pu(e,t,n,i,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i,this.lastProcessedDocumentChangeId=r}var Bu,Fu,Vu=[du.store,pu.store,vu.store,wu.store,Tu.store,cu.store,Du.store,Cu.store].concat([Lu.store,Mu.store]).concat([_u.store]).concat([Ou.store]),Uu=(qu.prototype.addToCollectionParentIndex=function(e,t){if(Fi(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){Fi(1<=t.length,"Invalid collection path.");var n=t.lastSegment(),i=t.popLast();return ju(e).put({collectionId:n,parent:eo(i)})}return Po.resolve()},qu.prototype.getCollectionParents=function(e,t){var n=[],i=IDBKeyRange.bound([t,""],[br(t),""],!1,!0);return ju(e).loadAll(i).next((function(e){for(var i=0,r=e;i<r.length;i++){var o=r[i];if(o.collectionId!==t)break;n.push(io(o.parent))}return n}))},qu);function qu(){this.collectionParentsCache=new ru}function ju(e){return ll.getStore(e,Ou.store)}(Fu=Bu=Bu||{})[Fu.Listen=0]="Listen",Fu[Fu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Fu[Fu.LimboResolution=2]="LimboResolution";var Wu=(Hu.prototype.withSequenceNumber=function(e){return new Hu(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},Hu.prototype.withResumeToken=function(e,t){return new Hu(this.query,this.targetId,this.purpose,this.sequenceNumber,t,e)},Hu.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},Hu);function Hu(e,t,n,i,r,o){void 0===r&&(r=ao.MIN),void 0===o&&(o=qi()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.resumeToken=o}var zu=($u.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=qr.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Bs(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=qr.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new Us(t,n)):Bi("Unexpected DbRemoteDocument")},$u.prototype.toDbRemoteDocument=function(e){if(e instanceof Rs){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new wu(null,null,t,n)}if(e instanceof Bs){var i=e.key.path.toArray(),r=this.toDbTimestamp(e.version);return n=e.hasCommittedMutations,new wu(null,new gu(i,r),null,n)}return e instanceof Us?(i=e.key.path.toArray(),r=this.toDbTimestamp(e.version),new wu(new bu(i,r),null,null,!0)):Bi("Unexpected MaybeDocumment")},$u.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new lu(t.seconds,t.nanoseconds)},$u.prototype.fromDbTimestamp=function(e){var t=new ro(e.seconds,e.nanoseconds);return ao.fromTimestamp(t)},$u.prototype.toDbMutationBatch=function(e,t){var n=this,i=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),r=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new pu(e,t.batchId,t.localWriteTime.toMillis(),i,r)},$u.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),i=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),r=ro.fromMillis(e.localWriteTimeMs);return new No(e.batchId,r,n,i)},$u.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(eo(e.path))})),t},$u.prototype.fromDbResourcePaths=function(e){for(var t=Ao(),n=0,i=e;n<i.length;n++){var r=i[n];t=t.add(new qr(io(r)))}return t},$u.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Wu(t,e.targetId,Bu.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},$u.prototype.toDbTarget=function(e){Fi(Bu.Listen===e.purpose,"Only queries with purpose "+Bu.Listen+" may be stored, got "+e.purpose);var t,n,i=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(Fi("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/dentaltrack"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new Tu(e.targetId,e.query.canonicalId(),i,n,e.sequenceNumber,t)},$u);function $u(e){this.remoteSerializer=e}function Ku(e,t){var n=e[0],i=e[1],r=t[0],o=t[1],a=yr(n,r);return 0===a?yr(i,o):a}var Qu=(Gu.prototype.nextIndex=function(){return++this.previousIndex},Gu.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ku(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(Gu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Gu);function Gu(e){this.maxElements=e,this.buffer=new yo(Ku),this.previousIndex=0}var Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xu=(Ju.withCacheSize=function(e){return new Ju(e,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Ju.COLLECTION_DISABLED=-1,Ju.MINIMUM_CACHE_SIZE_BYTES=1048576,Ju.DEFAULT=new Ju(Ju.DEFAULT_CACHE_SIZE_BYTES=41943040,Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Ju.DISABLED=new Ju(Ju.COLLECTION_DISABLED,0,0),Ju);function Ju(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}var Zu=(el.prototype.start=function(){Fi(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Xu.COLLECTION_DISABLED&&this.scheduleGC()},el.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(el.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),el.prototype.scheduleGC=function(){var e=this;Fi(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;Ri("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Wr.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(hl)}))},el);function el(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}var tl=(nl.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},nl.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Po.resolve(Ar.INVALID);var i=new Qu(t);return this.delegate.forEachTarget(e,(function(e){return i.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return i.addElement(e)}))})).next((function(){return i.maxValue}))},nl.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},nl.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},nl.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Xu.COLLECTION_DISABLED?(Ri("LruGarbageCollector","Garbage collection skipped; disabled"),Po.resolve(Yu)):this.getCacheSize(e).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(Ri("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yu):n.runGarbageCollection(e,t)}))},nl.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},nl.prototype.runGarbageCollection=function(e,t){var n,i,r,o,a,s,u,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return i=t>l.params.maximumSequenceNumbersToCollect?(Ri("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),l.params.maximumSequenceNumbersToCollect):t,o=Date.now(),l.nthSequenceNumber(e,i)})).next((function(i){return n=i,a=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return r=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ni()<=_i.DEBUG&&Ri("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),Po.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e})}))},nl);function nl(e,t){this.delegate=e,this.params=t}var il,rl="IndexedDbPersistence",ol="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",al="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",sl=(l(ul,il=function(){}),ul);function ul(e,t){var n=il.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=t,n}var ll=(cl.getStore=function(e,t){if(e instanceof sl)return Xo.getStore(e.simpleDbTransaction,t);throw Bi("IndexedDbPersistence must use instances of IndexedDbTransaction")},cl.createIndexedDbPersistence=function(e){return c(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:if(!cl.isAvailable())throw new Hi(Wi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(t=new cl(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,t]}}))}))},cl.prototype.start=function(){var e=this;return Fi(!this.started,"IndexedDbPersistence double-started!"),Fi(null!==this.window,"Expected 'window' to be defined"),Xo.openOrCreate(this.dbName,au,new su(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[Du.store],(function(t){return da(t).next((function(t){e.listenSequence=new Ar(t,e.sequenceNumberSyncer)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},cl.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Vu,(function(t){return e.remoteDocumentCache.start(t)}))},cl.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return c(t,void 0,void 0,(function(){return h(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},cl.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return c(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},cl.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return c(t,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},cl.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Vu,(function(t){return fl(t).put(new Lu(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var i=e.isPrimary;return e.isPrimary=n,i!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),i&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},cl.prototype.verifyPrimaryLease=function(e){var t=this;return dl(e).get(cu.key).next((function(e){return Po.resolve(t.isLocalClient(e))}))},cl.prototype.removeClientMetadata=function(e){return fl(e).delete(this.clientId)},cl.prototype.maybeGarbageCollectMultiClientState=function(){return c(this,void 0,void 0,(function(){var e,t,n=this;return h(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),t=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var r=cl.getStore(i,Lu.store);return r.loadAll().next((function(i){e=n.filterActiveClients(i,18e5),t=i.filter((function(t){return-1===e.indexOf(t)}))})).next((function(){return Po.forEach(t,(function(e){return r.delete(e.clientId)}))})).next((function(){if(0<(e=e.filter((function(e){return e.clientId!==n.clientId}))).length){var t=e.map((function(e){return e.lastProcessedDocumentChangeId||0})),r=Math.min.apply(Math,t);return n.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,r)}}))}))]);case 1:i.sent(),t.forEach((function(e){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(e.clientId))})),i.label=2;case 2:return[2]}}))}))},cl.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Wr.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},cl.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},cl.prototype.canActAsPrimary=function(e){var t=this;return dl(e).get(cu.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Hi(Wi.FAILED_PRECONDITION,al);return!1}}return!(!t.networkEnabled||!t.inForeground)||fl(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,i=!t.inForeground&&e.inForeground,r=t.networkEnabled===e.networkEnabled;if(n||i&&r)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ri(rl,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},cl.prototype.shutdown=function(){return c(this,void 0,void 0,(function(){var e=this;return h(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[cu.store,Lu.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},cl.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},cl.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Lu.store],(function(t){return fl(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},cl.clearPersistence=function(e){return c(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return cl.isAvailable()?(t=e+cl.MAIN_DATABASE,[4,Xo.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(cl.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),cl.prototype.getMutationQueue=function(e){return Fi(this.started,"Cannot initialize MutationQueue before persistence is started."),Uo.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},cl.prototype.getQueryCache=function(){return Fi(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},cl.prototype.getRemoteDocumentCache=function(){return Fi(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},cl.prototype.getIndexManager=function(){return Fi(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},cl.prototype.runTransaction=function(e,t,n){var i=this;return Ri(rl,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Vu,(function(r){return"readwrite-primary"===t?i.verifyPrimaryLease(r).next((function(t){if(!t)throw Li("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.queue.enqueueAndForget((function(){return i.primaryStateListener(!1)})),new Hi(Wi.FAILED_PRECONDITION,ol);return n(new sl(r,i.listenSequence.next()))})).next((function(e){return i.acquireOrExtendPrimaryLease(r).next((function(){return e}))})):i.verifyAllowTabSynchronization(r).next((function(){return n(new sl(r,i.listenSequence.next()))}))}))},cl.prototype.verifyAllowTabSynchronization=function(e){var t=this;return dl(e).get(cu.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Hi(Wi.FAILED_PRECONDITION,al)}))},cl.prototype.acquireOrExtendPrimaryLease=function(e){var t=new cu(this.clientId,this.allowTabSynchronization,Date.now());return dl(e).put(cu.key,t)},cl.isAvailable=function(){return Xo.isAvailable()},cl.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},cl.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=dl(e);return n.get(cu.key).next((function(e){return t.isLocalClient(e)?(Ri(rl,"Releasing primary lease."),n.delete(cu.key)):Po.resolve()}))},cl.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Li("Detected an update time that is in the future: "+e+" > "+n),1))},cl.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},cl.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Fi(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},cl.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},cl.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Fi("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},cl.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return Ri(rl,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Li(rl,"Failed to get zombied client id.",e),!1}},cl.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(i){Li("Failed to set zombie client id.",i)}},cl.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(i){}},cl.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},cl.MAIN_DATABASE="main",cl);function cl(e,t,n,i,r,o,a,s){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new pl(this,r),this.dbName=t+cl.MAIN_DATABASE,this.serializer=new zu(a),this.document=i.document,this.queryCache=new ua(this.referenceDelegate,this.serializer),this.indexManager=new Uu,this.remoteDocumentCache=new Qs(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new Hi(Wi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}function hl(e){return c(this,void 0,void 0,(function(){return h(this,(function(t){if(!function(e){return e.code===Wi.FAILED_PRECONDITION&&e.message===ol}(e))throw e;return Ri(rl,"Unexpectedly lost primary lease"),[2]}))}))}function dl(e){return e.store(cu.store)}function fl(e){return e.store(Lu.store)}var pl=(ml.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},ml.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},ml.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},ml.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},ml.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},ml.prototype.addReference=function(e,t){return vl(e,t)},ml.prototype.removeReference=function(e,t){return vl(e,t)},ml.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},ml.prototype.removeMutationReference=function(e,t){return vl(e,t)},ml.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Po.resolve(!0):function(e,t){var n=!1;return Ko(e).iterateSerial((function(i){return jo(e,i,t).next((function(e){return e&&(n=!0),Po.resolve(!e)}))})).next((function(){return n}))}(e,t)},ml.prototype.removeOrphanedDocuments=function(e,t){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,i.getEntry(e,a).next((function(){return i.removeEntry(a),fa(e).delete(function(e){return[0,eo(e.path)]}(a))}))}));r.push(u)}})).next((function(){return Po.waitFor(r)})).next((function(){return i.apply(e)})).next((function(){return o}))},ml.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},ml.prototype.updateLimboDocument=function(e,t){return vl(e,t)},ml.prototype.forEachOrphanedDocument=function(e,t){var n,i=fa(e),r=Ar.INVALID;return i.iterate({index:Cu.documentTargetsIndex},(function(e,i){var o=e[0],a=(e[1],i.path),s=i.sequenceNumber;0===o?(r!==Ar.INVALID&&t(new qr(io(n)),r),r=s,n=a):r=Ar.INVALID})).next((function(){r!==Ar.INVALID&&t(new qr(io(n)),r)}))},ml.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},ml);function ml(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new tl(this,t)}function vl(e,t){return fa(e).put(function(e,t){return new Cu(0,eo(e.path),t)}(t,e.currentSequenceNumber))}var yl=(gl.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(i){return n.getDocumentInternal(e,t,i)}))},gl.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var i=0,r=n;i<r.length;i++)e=r[i].applyToLocalView(t,e);return e}))},gl.prototype.applyLocalMutationsToDocuments=function(e,t,n){var i=ko();return t.forEach((function(e,t){for(var r=0,o=n;r<o.length;r++)t=o[r].applyToLocalView(e,t);i=i.insert(e,t)})),i},gl.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},gl.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(i){var r=n.applyLocalMutationsToDocuments(e,t,i),o=_o();return r.forEach((function(e,t){t=t||new Bs(e,ao.forDeletedDoc()),o=o.insert(e,t)})),o}))},gl.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},gl.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new qr(t)).next((function(e){var t=So();return e instanceof Rs&&(t=t.insert(e.key,e)),t}))},gl.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;Fi(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=t.collectionGroup,r=So();return this.indexManager.getCollectionParents(e,i).next((function(o){return Po.forEach(o,(function(o){var a=t.asCollectionQueryAtPath(o.child(i));return n.getDocumentsMatchingCollectionQuery(e,a).next((function(e){e.forEach((function(e,t){r=r.insert(e,t)}))}))})).next((function(){return r}))}))},gl.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,i,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next((function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,r.addMissingBaseDocuments(e,i,n).next((function(e){n=e;for(var t=0,r=i;t<r.length;t++)for(var o=r[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=n.get(l),h=u.applyToLocalView(c,c,o.localWriteTime);n=h instanceof Rs?n.insert(l,h):n.remove(l)}}))})).next((function(){return n.forEach((function(e,i){t.matches(i)||(n=n.remove(e))})),n}))},gl.prototype.addMissingBaseDocuments=function(e,t,n){for(var i=Ao(),r=0,o=t;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var u=s[a];u instanceof Aa&&null===n.get(u.key)&&(i=i.add(u.key))}var l=n;return this.remoteDocumentCache.getEntries(e,i).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Rs&&(l=l.insert(e,t))})),l}))},gl);function gl(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}var bl=(wl.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},wl.prototype.addReference=function(e,t){var n=new El(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},wl.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},wl.prototype.removeReference=function(e,t){this.removeRef(new El(e,t))},wl.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},wl.prototype.removeReferencesForId=function(e){var t=this,n=qr.EMPTY,i=new El(n,e),r=new El(n,e+1),o=[];return this.refsByTarget.forEachInRange([i,r],(function(e){t.removeRef(e),o.push(e.key)})),o},wl.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},wl.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},wl.prototype.referencesForId=function(e){var t=qr.EMPTY,n=new El(t,e),i=new El(t,e+1),r=Ao();return this.refsByTarget.forEachInRange([n,i],(function(e){r=r.add(e.key)})),r},wl.prototype.containsKey=function(e){var t=new El(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},wl);function wl(){this.refsByKey=new yo(El.compareByKey),this.refsByTarget=new yo(El.compareByTargetId)}var El=(_l.compareByKey=function(e,t){return qr.comparator(e.key,t.key)||yr(e.targetOrBatchId,t.targetOrBatchId)},_l.compareByTargetId=function(e,t){return yr(e.targetOrBatchId,t.targetOrBatchId)||qr.comparator(e.key,t.key)},_l);function _l(e,t){this.key=e,this.targetOrBatchId=t}var kl=(Tl.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var i;return t.mutationQueue.getAllMutationBatches(n).next((function(r){return i=r,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new yl(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var r=[],o=[],a=Ao(),s=0,u=i;s<u.length;s++){var l=u[s];r.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var d=h[c];a=a.add(d.key)}}for(var f=0,p=e;f<p.length;f++){l=p[f],o.push(l.batchId);for(var m=0,v=l.mutations;m<v.length;m++)d=v[m],a=a.add(d.key)}return t.localDocuments.getDocuments(n,a).next((function(e){return{affectedDocuments:e,removedBatchIds:r,addedBatchIds:o}}))}))}))},Tl.prototype.localWrite=function(e){var t=this,n=ro.now(),i=e.reduce((function(e,t){return e.add(t.key)}),Ao());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(r){return t.localDocuments.getDocuments(r,i).next((function(i){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],l=u.extractBaseValue(i.get(u.key));null!=l&&o.push(new Aa(u.key,l,l.fieldMask(),Ea.exists(!0)))}return t.mutationQueue.addMutationBatch(r,n,o,e).next((function(e){var t=e.applyToLocalDocumentSet(i);return{batchId:e.batchId,changes:t}}))}))}))},Tl.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):Po.resolve(null)}))}))},Tl.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var i=e.batch.keys(),r=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,r)})).next((function(){return r.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,i)}))}))},Tl.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var i;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return Fi(null!==e,"Attempt to reject nonexistent batch!"),i=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,i)}))}))},Tl.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},Tl.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},Tl.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},Tl.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},Tl.prototype.applyRemoteEvent=function(e){var t=this,n=this.remoteDocuments.newChangeBuffer(),i=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(r){var o=[];Gi(e.targetChanges,(function(e,n){var a=t.queryDataByTarget[e];if(a){o.push(t.queryCache.removeMatchingKeys(r,n.removedDocuments,e).next((function(){return t.queryCache.addMatchingKeys(r,n.addedDocuments,e)})));var s=n.resumeToken;if(0<s.length){var u=a.withResumeToken(s,i);t.queryDataByTarget[e]=u,Tl.shouldPersistQueryData(a,u,n)&&o.push(t.queryCache.updateQueryData(r,u))}}}));var a=_o(),s=Ao();if(e.documentUpdates.forEach((function(e,t){s=s.add(e)})),o.push(n.getEntries(r,s).next((function(i){e.documentUpdates.forEach((function(s,u){var l=i.get(s);null==l||0<u.version.compareTo(l.version)||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(n.addEntry(u),a=a.insert(s,u)):u instanceof Bs&&u.version.isEqual(ao.MIN)?(n.removeEntry(s),a=a.insert(s,u)):Ri("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",u.version),e.resolvedLimboDocuments.has(s)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(r,s))}))}))),!i.isEqual(ao.MIN)){var u=t.queryCache.getLastRemoteSnapshotVersion(r).next((function(e){return Fi(0<=i.compareTo(e),"Watch stream reverted to previous snapshot?? "+i+" < "+e),t.queryCache.setTargetsMetadata(r,r.currentSequenceNumber,i)}));o.push(u)}return Po.waitFor(o).next((function(){return n.apply(r)})).next((function(){return t.localDocuments.getLocalViewOfDocuments(r,a)}))}))},Tl.shouldPersistQueryData=function(e,t,n){return Fi(0<t.resumeToken.length,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Tl.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Po.forEach(e,(function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Po.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},Tl.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},Tl.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},Tl.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var i;return t.queryCache.getQueryData(n,e).next((function(r){return r?(i=r,Po.resolve()):t.queryCache.allocateTargetId(n).next((function(r){return i=new Wu(e,r,Bu.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,i)}))})).next((function(){return Fi(!t.queryDataByTarget[i.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[i.targetId]=i}))}))},Tl.prototype.releaseQuery=function(e,t){var n=this,i=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",i,(function(i){return n.queryCache.getQueryData(i,e).next((function(r){Fi(null!=r,"Tried to release nonexistent query: "+e);var o=r.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?Po.resolve():Po.forEach(s,(function(e){return n.persistence.referenceDelegate.removeReference(i,e)})).next((function(){return n.persistence.referenceDelegate.removeTarget(i,a)}))}))}))},Tl.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)}))},Tl.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},Tl.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Tl.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},Tl.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},Tl.prototype.applyWriteToRemoteDocuments=function(e,t,n){var i=this,r=t.batch,o=r.keys(),a=Po.resolve();return o.forEach((function(i){a=a.next((function(){return n.getEntry(e,i)})).next((function(e){var o=e,a=t.docVersions.get(i);Fi(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,t))?n.addEntry(o):Fi(!e,"Mutation batch "+r+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return i.mutationQueue.removeMutationBatch(e,r)}))},Tl.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},Tl.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},Tl.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},Tl.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Tl);function Tl(e,t){this.persistence=e,this.localViewReferences=new bl,this.queryDataByTarget={},Fi(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new yl(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}var Sl=(Cl.prototype.checkEmpty=function(e){return Po.resolve(0===this.mutationQueue.length)},Cl.prototype.acknowledgeBatch=function(e,t,n){var i=t.batchId,r=this.indexOfExistingBatchId(i,"acknowledged");Fi(0===r,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[r];return Fi(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),this.lastStreamToken=n,Po.resolve()},Cl.prototype.getLastStreamToken=function(e){return Po.resolve(this.lastStreamToken)},Cl.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Po.resolve()},Cl.prototype.addMutationBatch=function(e,t,n,i){Fi(0!==i.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Fi(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new No(r,t,n,i);this.mutationQueue.push(o);for(var a=0,s=i;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new El(u.key,r)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Po.resolve(o)},Cl.prototype.lookupMutationBatch=function(e,t){return Po.resolve(this.findMutationBatch(t))},Cl.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return Fi(null!=n,"Failed to find local mutation batch."),Po.resolve(n.keys())},Cl.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,i=this.indexOfBatchId(n),r=i<0?0:i;return Po.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},Cl.prototype.getHighestUnacknowledgedBatchId=function(){return Po.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},Cl.prototype.getAllMutationBatches=function(e){return Po.resolve(this.mutationQueue.slice())},Cl.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,i=new El(t,0),r=new El(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([i,r],(function(e){Fi(t.isEqual(e.key),"Should only iterate over a single key's batches");var i=n.findMutationBatch(e.targetOrBatchId);Fi(null!==i,"Batches in the index must exist in the main table"),o.push(i)})),Po.resolve(o)},Cl.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,i=new yo(yr);return t.forEach((function(e){var t=new El(e,0),r=new El(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,r],(function(t){Fi(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),i=i.add(t.targetOrBatchId)}))})),Po.resolve(this.findMutationBatches(i))},Cl.prototype.getAllMutationBatchesAffectingQuery=function(e,t){Fi(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,i=n.length+1,r=n;qr.isDocumentKey(r)||(r=r.child(""));var o=new El(new qr(r),0),a=new yo(yr);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.targetOrBatchId)),!0)}),o),Po.resolve(this.findMutationBatches(a))},Cl.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var i=t.findMutationBatch(e);null!==i&&n.push(i)})),n},Cl.prototype.removeMutationBatch=function(e,t){var n=this;Fi(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return Po.forEach(t.mutations,(function(r){var o=new El(r.key,t.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(e,r.key)})).next((function(){n.batchesByDocumentKey=i}))},Cl.prototype.removeCachedMutationKeys=function(e){},Cl.prototype.containsKey=function(e,t){var n=new El(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return Po.resolve(t.isEqual(i&&i.key))},Cl.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&Fi(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Po.resolve()},Cl.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return Fi(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},Cl.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},Cl.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return Fi(n.batchId===e,"If found batch must match"),n},Cl);function Cl(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=qi(),this.batchesByDocumentKey=new yo(El.compareByKey)}var Il=(Dl.prototype.getTargetCount=function(e){return Po.resolve(this.targetCount)},Dl.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),Po.resolve()},Dl.prototype.getLastRemoteSnapshotVersion=function(e){return Po.resolve(this.lastRemoteSnapshotVersion)},Dl.prototype.getHighestSequenceNumber=function(e){return Po.resolve(this.highestSequenceNumber)},Dl.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Po.resolve(t)},Dl.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Po.resolve()},Dl.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},Dl.prototype.addQueryData=function(e,t){return Fi(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Po.resolve()},Dl.prototype.updateQueryData=function(e,t){return Fi(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Po.resolve()},Dl.prototype.removeQueryData=function(e,t){return Fi(0<this.targetCount,"Removing a target from an empty cache"),Fi(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Po.resolve()},Dl.prototype.removeTargets=function(e,t,n){var i=this,r=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(i.queries.delete(a),o.push(i.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Po.waitFor(o).next((function(){return r}))},Dl.prototype.getQueryCount=function(e){return Po.resolve(this.targetCount)},Dl.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Po.resolve(n)},Dl.prototype.getQueryDataForTarget=function(e,t){return Bi("Not yet implemented.")},Dl.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((function(t){r.push(i.addReference(e,t))})),Po.waitFor(r)},Dl.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((function(t){r.push(i.removeReference(e,t))})),Po.waitFor(r)},Dl.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Po.resolve()},Dl.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Po.resolve(n)},Dl.prototype.containsKey=function(e,t){return Po.resolve(this.references.containsKey(t))},Dl);function Dl(e){this.persistence=e,this.queries=new js((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=ao.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new bl,this.targetCount=0,this.targetIdGenerator=Qo.forQueryCache()}var Al,Ol=(xl.prototype.addEntry=function(e,t){var n=t.key,i=this.docs.get(n),r=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},xl.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},xl.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Po.resolve(n?n.maybeDocument:null)},xl.prototype.getEntries=function(e,t){var n=this,i=ko();return t.forEach((function(e){var t=n.docs.get(e);i=i.insert(e,t?t.maybeDocument:null)})),Po.resolve(i)},xl.prototype.getDocumentsMatchingQuery=function(e,t){Fi(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=So(),i=new qr(t.path.child("")),r=this.docs.getIteratorFrom(i);r.hasNext();){var o=r.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof Rs&&t.matches(s)&&(n=n.insert(s.key,s))}return Po.resolve(n)},xl.prototype.forEachDocumentKey=function(e,t){return Po.forEach(this.docs,(function(e){return t(e)}))},xl.prototype.getNewDocumentChanges=function(e){var t=this,n=_o();return this.newDocumentChanges.forEach((function(e){var i=t.docs.get(e),r=i?i.maybeDocument:new Bs(e,ao.forDeletedDoc());n=n.insert(e,r)})),this.newDocumentChanges=Ao(),Po.resolve(n)},xl.prototype.newChangeBuffer=function(){return new xl.RemoteDocumentChangeBuffer(this)},xl.prototype.getSize=function(e){return Po.resolve(this.size)},xl.RemoteDocumentChangeBuffer=(l(Nl,Al=Hs),Nl.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(i,r){r?n.push(t.documentCache.addEntry(e,r)):t.documentCache.removeEntry(i)})),Po.waitFor(n)},Nl.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},Nl.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},Nl),xl);function xl(e,t){this.indexManager=e,this.sizer=t,this.docs=new uo(qr.comparator),this.newDocumentChanges=Ao(),this.size=0}function Nl(e){var t=Al.call(this)||this;return t.documentCache=e,t}var Ml=(Rl.createLruPersistence=function(e,t,n){return new Rl(e,(function(e){return new Fl(e,new zu(t),n)}))},Rl.createEagerPersistence=function(e){return new Rl(e,(function(e){return new Pl(e)}))},Rl.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Rl.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Rl.prototype.getActiveClients=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){return[2,[this.clientId]]}))}))},Rl.prototype.setPrimaryStateListener=function(e){return e(!0)},Rl.prototype.setDatabaseDeletedListener=function(){},Rl.prototype.setNetworkEnabled=function(e){},Rl.prototype.getIndexManager=function(){return this.indexManager},Rl.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Sl(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},Rl.prototype.getQueryCache=function(){return this.queryCache},Rl.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Rl.prototype.runTransaction=function(e,t,n){var i=this;Ri("MemoryPersistence","Starting transaction:",e);var r=new Ll(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(r).next((function(e){return i.referenceDelegate.onTransactionCommitted(r).next((function(){return e}))})).toPromise()},Rl.prototype.mutationQueuesContainKey=function(e,t){return Po.or(function(e){var t=[];return Yi(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},Rl);function Rl(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Ar(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Il(this),this.indexManager=new nu,this.remoteDocumentCache=new Ol(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}var Ll=function(e){this.currentSequenceNumber=e},Pl=(Object.defineProperty(Bl.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw Bi("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Bl.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Bl.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Po.resolve()},Bl.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Po.resolve()},Bl.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Po.resolve()},Bl.prototype.removeTarget=function(e,t){var n=this,i=this.persistence.getQueryCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return i.removeQueryData(e,t)}))},Bl.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Bl.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Po.forEach(this.orphanedDocuments,(function(i){return t.isReferenced(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},Bl.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},Bl.prototype.documentSize=function(e){return 0},Bl.prototype.isReferenced=function(e,t){var n=this;return Po.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Po.resolve(n.inMemoryPins.containsKey(t))}])},Bl);function Bl(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}var Fl=(Vl.prototype.onTransactionStarted=function(){},Vl.prototype.onTransactionCommitted=function(e){return Po.resolve()},Vl.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},Vl.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},Vl.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},Vl.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Po.forEach(this.orphanedSequenceNumbers,(function(i,r){return n.isPinned(e,i,r).next((function(e){return e?Po.resolve():t(r)}))}))},Vl.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Vl.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},Vl.prototype.removeOrphanedDocuments=function(e,t){var n=this,i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.forEachDocumentKey(e,(function(r){return n.isPinned(e,r,t).next((function(e){e||(i++,o.removeEntry(r))}))})).next((function(){return o.apply(e)})).next((function(){return i}))},Vl.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Po.resolve()},Vl.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},Vl.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Po.resolve()},Vl.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Po.resolve()},Vl.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Po.resolve()},Vl.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Bi("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},Vl.prototype.isPinned=function(e,t,n){var i=this;return Po.or([function(){return i.persistence.mutationQueuesContainKey(e,t)},function(){return Po.resolve(i.inMemoryPins.containsKey(t))},function(){return i.persistence.getQueryCache().containsKey(e,t)},function(){var e=i.orphanedSequenceNumbers.get(t);return Po.resolve(void 0!==e&&n<e)}])},Vl.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},Vl);function Vl(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new js((function(e){return eo(e.path)})),this.garbageCollector=new tl(this,n)}var Ul=Number,ql=Ul.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),jl=Ul.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Wl=Ul.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Hl(e){return null==e}function zl(e){return Wl(e)&&e<=jl&&ql<=e}var $l=(Kl.prototype.reset=function(){this.currentBaseMs=0},Kl.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Kl.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),i=Math.max(0,Date.now()-this.lastAttemptTime),r=Math.max(0,n-i);0<this.currentBaseMs&&Ri("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Kl.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Kl.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Kl);function Kl(e,t,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=r,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var Ql,Gl,Yl="PersistentStream";(Gl=Ql=Ql||{})[Gl.Initial=0]="Initial",Gl[Gl.Starting=1]="Starting",Gl[Gl.Open=2]="Open",Gl[Gl.Error=3]="Error",Gl[Gl.Backoff=4]="Backoff";var Xl=(Jl.prototype.isStarted=function(){return this.state===Ql.Starting||this.state===Ql.Open||this.state===Ql.Backoff},Jl.prototype.isOpen=function(){return this.state===Ql.Open},Jl.prototype.start=function(){this.state!==Ql.Error?(Fi(this.state===Ql.Initial,"Already started"),this.auth()):this.performBackoff()},Jl.prototype.stop=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Ql.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},Jl.prototype.inhibitBackoff=function(){Fi(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ql.Initial,this.backoff.reset()},Jl.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},Jl.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},Jl.prototype.handleIdleCloseTimer=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){return this.isOpen()?[2,this.close(Ql.Initial)]:[2]}))}))},Jl.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},Jl.prototype.close=function(e,t){return c(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return Fi(this.isStarted(),"Only started streams should be closed."),Fi(e===Ql.Error||Hl(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Ql.Error?this.backoff.reset():t&&t.code===Wi.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===Wi.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},Jl.prototype.tearDown=function(){},Jl.prototype.auth=function(){var e=this;Fi(this.state===Ql.Initial,"Must be in initial state to auth"),this.state=Ql.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new Hi(Wi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},Jl.prototype.startStream=function(e){var t=this;Fi(this.state===Ql.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return Fi(t.state===Ql.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Ql.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},Jl.prototype.performBackoff=function(){var e=this;Fi(this.state===Ql.Error,"Should only perform backoff when in Error state"),this.state=Ql.Backoff,this.backoff.backoffAndRun((function(){return c(e,void 0,void 0,(function(){return h(this,(function(e){return Fi(this.state===Ql.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Ql.Initial,this.start(),Fi(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},Jl.prototype.handleStreamClose=function(e){return Fi(this.isStarted(),"Can't handle server close on non-started stream"),Ri(Yl,"close with error: "+e),this.stream=null,this.close(Ql.Error,e)},Jl.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(Ri(Yl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Jl);function Jl(e,t,n,i,r,o){this.queue=e,this.idleTimerId=n,this.connection=i,this.credentialsProvider=r,this.listener=o,this.state=Ql.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new $l(e,t)}var Zl,ec=(l(tc,Zl=Xl),tc.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},tc.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},tc.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},tc.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},tc);function tc(e,t,n,i,r){var o=Zl.call(this,e,Wr.ListenStreamConnectionBackoff,Wr.ListenStreamIdle,t,n,r)||this;return o.serializer=i,o}var nc,ic=(l(rc,nc=Xl),Object.defineProperty(rc.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),rc.prototype.start=function(){this.handshakeComplete_=!1,nc.prototype.start.call(this)},rc.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},rc.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},rc.prototype.onMessage=function(e){if(Fi(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return Fi(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},rc.prototype.writeHandshake=function(){Fi(this.isOpen(),"Writing handshake requires an opened stream"),Fi(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},rc.prototype.writeMutations=function(e){var t=this;Fi(this.isOpen(),"Writing mutations requires an opened stream"),Fi(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Fi(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},rc);function rc(e,t,n,i,r){var o=nc.call(this,e,Wr.WriteStreamConnectionBackoff,Wr.WriteStreamIdle,t,n,r)||this;return o.serializer=i,o.handshakeComplete_=!1,o.lastStreamToken=qi(),o}var oc=(ac.prototype.newPersistentWriteStream=function(e){return new ic(this.queue,this.connection,this.credentials,this.serializer,e)},ac.prototype.newPersistentWatchStream=function(e){return new ec(this.queue,this.connection,this.credentials,this.serializer,e)},ac.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},ac.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var i=_o();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);i=i.insert(n.key,n)}));var r=[];return e.forEach((function(e){var t=i.get(e);Fi(!!t,"Missing entity in write response for "+e),r.push(t)})),r}))},ac.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeRPC(e,t,i)})).catch((function(e){throw e.code===Wi.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},ac.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeStreamingRPC(e,t,i)})).catch((function(e){throw e.code===Wi.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},ac);function ac(e,t,n,i){this.queue=e,this.connection=t,this.credentials=n,this.serializer=i}var sc,uc,lc,cc,hc=(dc.prototype.lookup=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return h(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Hi(Wi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=i.sent()).forEach((function(e){e instanceof Bs||e instanceof Rs?n.recordVersion(e):Bi("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},dc.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},dc.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},dc.prototype.delete=function(e){this.write([new Va(e,this.precondition(e))]),this.writtenDocs.add(e)},dc.prototype.commit=function(){return c(this,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new Hi(Wi.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},dc.prototype.recordVersion=function(e){var t;if(e instanceof Rs)t=e.version;else{if(!(e instanceof Bs))throw Bi("Document in a transaction was a "+e.constructor.name);t=ao.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Hi(Wi.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},dc.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Ea.updateTime(t):Ea.NONE},dc.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(this.writtenDocs.has(e)||!t)return Ea.exists(!0);if(t.isEqual(ao.forDeletedDoc()))throw new Hi(Wi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ea.updateTime(t)},dc.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},dc.prototype.ensureCommitNotCalled=function(){Fi(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},dc);function dc(e){this.datastore=e,this.readVersions=Io(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(uc=sc=sc||{})[uc.Unknown=0]="Unknown",uc[uc.Online=1]="Online",uc[uc.Offline=2]="Offline",(cc=lc=lc||{})[cc.RemoteStore=0]="RemoteStore",cc[cc.SharedClientState=1]="SharedClientState";var fc,pc,mc=(vc.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(sc.Unknown),Fi(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Wr.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,Fi(e.state===sc.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(sc.Offline),Promise.resolve()})))},vc.prototype.handleWatchStreamFailure=function(e){this.state===sc.Online?(this.setAndBroadcast(sc.Unknown),Fi(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Fi(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(sc.Offline)))},vc.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===sc.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},vc.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},vc.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Li(t),this.shouldWarnClientIsOffline=!1):Ri("OnlineStateTracker",t)},vc.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},vc);function vc(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=sc.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function yc(e){switch(e){case Wi.OK:return Bi("Treated status OK as error");case Wi.CANCELLED:case Wi.UNKNOWN:case Wi.DEADLINE_EXCEEDED:case Wi.RESOURCE_EXHAUSTED:case Wi.INTERNAL:case Wi.UNAVAILABLE:case Wi.UNAUTHENTICATED:return!1;case Wi.INVALID_ARGUMENT:case Wi.NOT_FOUND:case Wi.ALREADY_EXISTS:case Wi.PERMISSION_DENIED:case Wi.FAILED_PRECONDITION:case Wi.ABORTED:case Wi.OUT_OF_RANGE:case Wi.UNIMPLEMENTED:case Wi.DATA_LOSS:return!0;default:return Bi("Unknown status code: "+e)}}function gc(e){if(void 0===e)return Li("GRPC error has no .code"),Wi.UNKNOWN;switch(e){case fc.OK:return Wi.OK;case fc.CANCELLED:return Wi.CANCELLED;case fc.UNKNOWN:return Wi.UNKNOWN;case fc.DEADLINE_EXCEEDED:return Wi.DEADLINE_EXCEEDED;case fc.RESOURCE_EXHAUSTED:return Wi.RESOURCE_EXHAUSTED;case fc.INTERNAL:return Wi.INTERNAL;case fc.UNAVAILABLE:return Wi.UNAVAILABLE;case fc.UNAUTHENTICATED:return Wi.UNAUTHENTICATED;case fc.INVALID_ARGUMENT:return Wi.INVALID_ARGUMENT;case fc.NOT_FOUND:return Wi.NOT_FOUND;case fc.ALREADY_EXISTS:return Wi.ALREADY_EXISTS;case fc.PERMISSION_DENIED:return Wi.PERMISSION_DENIED;case fc.FAILED_PRECONDITION:return Wi.FAILED_PRECONDITION;case fc.ABORTED:return Wi.ABORTED;case fc.OUT_OF_RANGE:return Wi.OUT_OF_RANGE;case fc.UNIMPLEMENTED:return Wi.UNIMPLEMENTED;case fc.DATA_LOSS:return Wi.DATA_LOSS;default:return Bi("Unknown status code: "+e)}}(pc=fc=fc||{})[pc.OK=0]="OK",pc[pc.CANCELLED=1]="CANCELLED",pc[pc.UNKNOWN=2]="UNKNOWN",pc[pc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pc[pc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pc[pc.NOT_FOUND=5]="NOT_FOUND",pc[pc.ALREADY_EXISTS=6]="ALREADY_EXISTS",pc[pc.PERMISSION_DENIED=7]="PERMISSION_DENIED",pc[pc.UNAUTHENTICATED=16]="UNAUTHENTICATED",pc[pc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pc[pc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pc[pc.ABORTED=10]="ABORTED",pc[pc.OUT_OF_RANGE=11]="OUT_OF_RANGE",pc[pc.UNIMPLEMENTED=12]="UNIMPLEMENTED",pc[pc.INTERNAL=13]="INTERNAL",pc[pc.UNAVAILABLE=14]="UNAVAILABLE",pc[pc.DATA_LOSS=15]="DATA_LOSS";var bc,wc,Ec,_c,kc=(Tc.emptySet=function(e){return new Tc(e.comparator)},Tc.prototype.has=function(e){return null!=this.keyedMap.get(e)},Tc.prototype.get=function(e){return this.keyedMap.get(e)},Tc.prototype.first=function(){return this.sortedSet.minKey()},Tc.prototype.last=function(){return this.sortedSet.maxKey()},Tc.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Tc.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(Tc.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),Tc.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},Tc.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Tc.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Tc.prototype.isEqual=function(e){if(!(e instanceof Tc))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var i=t.getNext().key,r=n.getNext().key;if(!i.isEqual(r))return!1}return!0},Tc.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Tc.prototype.copy=function(e,t){var n=new Tc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Tc);function Tc(e){this.comparator=e?function(t,n){return e(t,n)||qr.comparator(t.key,n.key)}:function(e,t){return qr.comparator(e.key,t.key)},this.keyedMap=So(),this.sortedSet=new uo(this.comparator)}(wc=bc=bc||{})[wc.Added=0]="Added",wc[wc.Removed=1]="Removed",wc[wc.Modified=2]="Modified",wc[wc.Metadata=3]="Metadata",(_c=Ec=Ec||{})[_c.Local=0]="Local",_c[_c.Synced=1]="Synced";var Sc=(Cc.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==bc.Added&&n.type===bc.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===bc.Metadata&&n.type!==bc.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===bc.Modified&&n.type===bc.Modified?this.changeMap=this.changeMap.insert(t,{type:bc.Modified,doc:e.doc}):e.type===bc.Modified&&n.type===bc.Added?this.changeMap=this.changeMap.insert(t,{type:bc.Added,doc:e.doc}):e.type===bc.Removed&&n.type===bc.Added?this.changeMap=this.changeMap.remove(t):e.type===bc.Removed&&n.type===bc.Modified?this.changeMap=this.changeMap.insert(t,{type:bc.Removed,doc:n.doc}):e.type===bc.Added&&n.type===bc.Removed?this.changeMap=this.changeMap.insert(t,{type:bc.Modified,doc:e.doc}):Bi("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},Cc.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},Cc);function Cc(){this.changeMap=new uo(qr.comparator)}var Ic=(Dc.fromInitialDocuments=function(e,t,n,i){var r=[];return t.forEach((function(e){r.push({type:bc.Added,doc:e})})),new Dc(e,t,kc.emptySet(t),r,n,i,!0,!1)},Object.defineProperty(Dc.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Dc.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0},Dc);function Dc(e,t,n,i,r,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var Ac=(Oc.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n,i=((n={})[e]=xc.createSynthesizedTargetChangeForCurrentChange(e,t),n);return new Oc(ao.MIN,i,xo(),_o(),Ao())},Oc);function Oc(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}var xc=(Nc.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Nc(qi(),t,Ao(),Ao(),Ao())},Nc);function Nc(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}var Mc,Rc,Lc=function(e,t,n,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=i},Pc=function(e,t){this.targetId=e,this.existenceFilter=t};(Rc=Mc=Mc||{})[Rc.NoChange=0]="NoChange",Rc[Rc.Added=1]="Added",Rc[Rc.Removed=2]="Removed",Rc[Rc.Current=3]="Current",Rc[Rc.Reset=4]="Reset";var Bc=function(e,t,n,i){void 0===n&&(n=qi()),void 0===i&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},Fc=(Object.defineProperty(Vc.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(Vc.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(Vc.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(Vc.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),Vc.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},Vc.prototype.toTargetChange=function(){var e=Ao(),t=Ao(),n=Ao();return this.documentChanges.forEach((function(i,r){switch(r){case bc.Added:e=e.add(i);break;case bc.Modified:t=t.add(i);break;case bc.Removed:n=n.add(i);break;default:Bi("Encountered invalid change type: "+r)}})),new xc(this._resumeToken,this._current,e,t,n)},Vc.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Wc()},Vc.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},Vc.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},Vc.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},Vc.prototype.recordTargetResponse=function(){this.pendingResponses-=1},Vc.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},Vc);function Vc(){this.pendingResponses=0,this.documentChanges=Wc(),this._resumeToken=qi(),this._current=!1,this._hasPendingChanges=!0}var Uc=(qc.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var i=n[t];e.newDoc instanceof Rs?this.addDocumentToTarget(i,e.newDoc):e.newDoc instanceof Bs&&this.removeDocumentFromTarget(i,e.key,e.newDoc)}for(var r=0,o=e.removedTargetIds;r<o.length;r++)i=o[r],this.removeDocumentFromTarget(i,e.key,e.newDoc)},qc.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var i=t.ensureTargetState(n);switch(e.state){case Mc.NoChange:t.isActiveTarget(n)&&i.updateResumeToken(e.resumeToken);break;case Mc.Added:i.recordTargetResponse(),i.isPending||i.clearPendingChanges(),i.updateResumeToken(e.resumeToken);break;case Mc.Removed:i.recordTargetResponse(),i.isPending||t.removeTarget(n),Fi(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Mc.Current:t.isActiveTarget(n)&&(i.markCurrent(),i.updateResumeToken(e.resumeToken));break;case Mc.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),i.updateResumeToken(e.resumeToken));break;default:Bi("Unknown target watch change state: "+e.state)}}))},qc.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Gi(this.targetStates,t)},qc.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,i=this.queryDataForActiveTarget(t);if(i){var r=i.query;if(r.isDocumentQuery())if(0===n){var o=new qr(r.path);this.removeDocumentFromTarget(t,o,new Bs(o,ao.forDeletedDoc()))}else Fi(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},qc.prototype.createRemoteEvent=function(e){var t=this,n={};Gi(this.targetStates,(function(i,r){var o=t.queryDataForActiveTarget(i);if(o){if(r.current&&o.query.isDocumentQuery()){var a=new qr(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(i,a)||t.removeDocumentFromTarget(i,a,new Bs(a,e))}r.hasPendingChanges&&(n[i]=r.toTargetChange(),r.clearPendingChanges())}}));var i=Ao();this.pendingDocumentTargetMapping.forEach((function(e,n){var r=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Bu.LimboResolution||(r=!1)})),r&&(i=i.add(e))}));var r=new Ac(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,i);return this.pendingDocumentUpdates=_o(),this.pendingDocumentTargetMapping=jc(),this.pendingTargetResets=new yo(yr),r},qc.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?bc.Modified:bc.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},qc.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,bc.Removed):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},qc.prototype.removeTarget=function(e){delete this.targetStates[e]},qc.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},qc.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},qc.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Fc),this.targetStates[e]},qc.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new yo(yr),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},qc.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||Ri("WatchChangeAggregator","Detected inactive target",e),t},qc.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},qc.prototype.resetTarget=function(e){var t=this;Fi(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Fc,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},qc.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},qc);function qc(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=_o(),this.pendingDocumentTargetMapping=jc(),this.pendingTargetResets=new yo(yr)}function jc(){return new uo(qr.comparator)}function Wc(){return new uo(qr.comparator)}var Hc="RemoteStore",zc=($c.prototype.start=function(){return this.enableNetwork()},$c.prototype.enableNetwork=function(){return c(this,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(sc.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},$c.prototype.disableNetwork=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(sc.Offline),[2]}}))}))},$c.prototype.disableNetworkInternal=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(Ri(Hc,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},$c.prototype.shutdown=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return Ri(Hc,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(sc.Unknown),[2]}}))}))},$c.prototype.listen=function(e){Fi(!Ki(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},$c.prototype.unlisten=function(e){Fi(Ki(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),Xi(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(sc.Unknown))},$c.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},$c.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},$c.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},$c.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},$c.prototype.startWatchStream=function(){Fi(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Uc(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},$c.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!Xi(this.listenTargets)},$c.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},$c.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},$c.prototype.onWatchStreamOpen=function(){return c(this,void 0,void 0,(function(){var e=this;return h(this,(function(t){return Gi(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},$c.prototype.onWatchStreamClose=function(e){return c(this,void 0,void 0,(function(){return h(this,(function(t){return void 0===e&&Fi(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(sc.Unknown),[2]}))}))},$c.prototype.onWatchStreamChange=function(e,t){return c(this,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return this.onlineStateTracker.set(sc.Online),e instanceof Bc&&e.state===Mc.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Lc?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Pc?this.watchChangeAggregator.handleExistenceFilter(e):(Fi(e instanceof Bc,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(ao.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=i.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},$c.prototype.raiseWatchSnapshot=function(e){var t=this;Fi(!e.isEqual(ao.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Gi(n.targetChanges,(function(n,i){if(0<i.resumeToken.length){var r=t.listenTargets[n];r&&(t.listenTargets[n]=r.withResumeToken(i.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(qi(),n.snapshotVersion),t.sendUnwatchRequest(e);var i=new Wu(n.query,e,Bu.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(i)}})),this.syncEngine.applyRemoteEvent(n)},$c.prototype.handleTargetError=function(e){var t=this;Fi(!!e.cause,"Handling target error without a cause");var n=e.cause,i=Promise.resolve();return e.targetIds.forEach((function(e){i=i.then((function(){return c(t,void 0,void 0,(function(){return h(this,(function(t){return Ki(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),i},$c.prototype.fillWritePipeline=function(){return c(this,void 0,void 0,(function(){var e,t;return h(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},$c.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},$c.prototype.outstandingWrites=function(){return this.writePipeline.length},$c.prototype.addToWritePipeline=function(e){Fi(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},$c.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},$c.prototype.startWriteStream=function(){Fi(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},$c.prototype.onWriteStreamOpen=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},$c.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var i=n[t];e.writeStream.writeMutations(i.mutations)}})).catch(hl)},$c.prototype.onMutationResult=function(e,t){var n=this;Fi(0<this.writePipeline.length,"Got result for empty write pipeline");var i=this.writePipeline.shift(),r=Ro.from(i,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then((function(){return n.fillWritePipeline()}))},$c.prototype.onWriteStreamClose=function(e){return c(this,void 0,void 0,(function(){var t=this;return h(this,(function(n){return void 0===e&&Fi(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},$c.prototype.handleHandshakeError=function(e){return c(this,void 0,void 0,(function(){return h(this,(function(t){return yc(e.code)?(Ri(Hc,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=qi(),[2,this.localStore.setLastStreamToken(qi()).catch(hl)]):[2]}))}))},$c.prototype.handleWriteError=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return h(this,(function(i){return function(e){return yc(e)&&e!==Wi.ABORTED}(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},$c.prototype.createTransaction=function(){return new hc(this.datastore)},$c.prototype.restartNetwork=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(sc.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},$c.prototype.handleCredentialChange=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Ri(Hc,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},$c.prototype.applyPrimaryState=function(e){return c(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(sc.Unknown),t.label=4;case 4:return[2]}}))}))},$c);function $c(e,t,n,i,r){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=r,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return c(o,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Ri(Hc,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new mc(n,i),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Kc=(Object.defineProperty(Qc.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(Qc.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),Qc.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Qc.prototype._compareTo=function(e){return yr(this._lat,e._lat)||yr(this._long,e._long)},Qc);function Qc(e,t){if(Zi("GeoPoint",arguments,2),nr("GeoPoint","number",1,e),nr("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new Hi(Wi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Hi(Wi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}var Gc=(Yc.atPath=function(e){return new Yc(e)},Object.defineProperty(Yc.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[kh]:this.memoizedOrderBy=[new Eh(e),kh];else{Fi(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),i=0,r=this.explicitOrderBy;i<r.length;i++){var o=r[i];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:yh.ASCENDING;this.memoizedOrderBy.push(a===yh.ASCENDING?kh:Th)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),Yc.prototype.addFilter=function(e){Fi(null==this.getInequalityFilterField()||!(e instanceof eh)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Fi(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},Yc.prototype.addOrderBy=function(e){Fi(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new Yc(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},Yc.prototype.withLimit=function(e){return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},Yc.prototype.withStartAt=function(e){return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},Yc.prototype.withEndAt=function(e){return new Yc(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},Yc.prototype.asCollectionQueryAtPath=function(e){return new Yc(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},Yc.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var i=0,r=this.orderBy;i<r.length;i++)e+=r[i].canonicalId(),e+=",";Hl(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},Yc.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),Hl(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},Yc.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},Yc.prototype.docComparator=function(e,t){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return Fi(n,"orderBy used that doesn't compare on key field"),0},Yc.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},Yc.prototype.hasLimit=function(){return!Hl(this.limit)},Yc.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},Yc.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof eh&&n.isInequality())return n.field}return null},Yc.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var i=n[t];if(i instanceof eh&&0<=e.indexOf(i.op))return i.op}return null},Yc.prototype.isDocumentQuery=function(){return qr.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},Yc.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},Yc.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):qr.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},Yc.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var i=n[t];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0},Yc.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},Yc.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},Yc.prototype.assertValidBound=function(e){Fi(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},Yc);function Yc(e,t,n,i,r,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var Xc=(Jc.fromString=function(e){switch(e){case"<":return Jc.LESS_THAN;case"<=":return Jc.LESS_THAN_OR_EQUAL;case"==":return Jc.EQUAL;case">=":return Jc.GREATER_THAN_OR_EQUAL;case">":return Jc.GREATER_THAN;case"array-contains":return Jc.ARRAY_CONTAINS;case"in":return Jc.IN;case"array-contains-any":return Jc.ARRAY_CONTAINS_ANY;default:return Bi("Unknown FieldFilter operator: "+e)}},Jc.prototype.toString=function(){return this.name},Jc.prototype.isEqual=function(e){return this.name===e.name},Jc.LESS_THAN=new Jc("<"),Jc.LESS_THAN_OR_EQUAL=new Jc("<="),Jc.EQUAL=new Jc("=="),Jc.GREATER_THAN=new Jc(">"),Jc.GREATER_THAN_OR_EQUAL=new Jc(">="),Jc.ARRAY_CONTAINS=new Jc("array-contains"),Jc.IN=new Jc("in"),Jc.ARRAY_CONTAINS_ANY=new Jc("array-contains-any"),Jc);function Jc(e){this.name=e}var Zc,eh=(l(th,Zc=function(){}),th.create=function(e,t,n){if(e.isKeyField())return t===Xc.IN?(Fi(n instanceof As,"Comparing on key with IN, but filter value not an ArrayValue"),Fi(n.internalValue.every((function(e){return e instanceof ws})),"Comparing on key with IN, but an array value was not a RefValue"),new ah(e,n)):(Fi(n instanceof ws,"Comparing on key, but filter value not a RefValue"),Fi(t!==Xc.ARRAY_CONTAINS&&t!==Xc.ARRAY_CONTAINS_ANY,"'"+t.toString()+"' queries don't make sense on document keys."),new ih(e,t,n));if(n.isEqual($a.INSTANCE)){if(t!==Xc.EQUAL)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new th(e,t,n)}if(n.isEqual(os.NAN)){if(t!==Xc.EQUAL)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new th(e,t,n)}return t===Xc.ARRAY_CONTAINS?new lh(e,n):t===Xc.IN?(Fi(n instanceof As,"IN filter has invalid value: "+n.toString()),new dh(e,n)):t===Xc.ARRAY_CONTAINS_ANY?(Fi(n instanceof As,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new mh(e,n)):new th(e,t,n)},th.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},th.prototype.matchesComparison=function(e){switch(this.op){case Xc.LESS_THAN:return e<0;case Xc.LESS_THAN_OR_EQUAL:return e<=0;case Xc.EQUAL:return 0===e;case Xc.GREATER_THAN:return 0<e;case Xc.GREATER_THAN_OR_EQUAL:return 0<=e;default:return Bi("Unknown FieldFilter operator: "+this.op)}},th.prototype.isInequality=function(){return 0<=[Xc.LESS_THAN,Xc.LESS_THAN_OR_EQUAL,Xc.GREATER_THAN,Xc.GREATER_THAN_OR_EQUAL].indexOf(this.op)},th.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},th.prototype.isEqual=function(e){return e instanceof th&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},th.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},th);function th(e,t,n){var i=Zc.call(this)||this;return i.field=e,i.op=t,i.value=n,i}var nh,ih=(l(rh,nh=eh),rh.prototype.matches=function(e){var t=this.value,n=qr.comparator(e.key,t.key);return this.matchesComparison(n)},rh);function rh(){return null!==nh&&nh.apply(this,arguments)||this}var oh,ah=(l(sh,oh=eh),sh.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},sh);function sh(e,t){var n=oh.call(this,e,Xc.IN,t)||this;return n.value=t,n}var uh,lh=(l(ch,uh=eh),ch.prototype.matches=function(e){var t=e.field(this.field);return t instanceof As&&t.contains(this.value)},ch);function ch(e,t){return uh.call(this,e,Xc.ARRAY_CONTAINS,t)||this}var hh,dh=(l(fh,hh=eh),fh.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},fh);function fh(e,t){var n=hh.call(this,e,Xc.IN,t)||this;return n.value=t,n}var ph,mh=(l(vh,ph=eh),vh.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof As&&n.internalValue.some((function(e){return t.value.contains(e)}))},vh);function vh(e,t){var n=ph.call(this,e,Xc.ARRAY_CONTAINS_ANY,t)||this;return n.value=t,n}var yh=(gh.prototype.toString=function(){return this.name},gh.ASCENDING=new gh("asc"),gh.DESCENDING=new gh("desc"),gh);function gh(e){this.name=e}var bh=(wh.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},wh.prototype.sortsBeforeDocument=function(e,t){Fi(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=e[i],o=this.position[i];if(r.field.isKeyField())Fi(o instanceof ws,"Bound has a non-key value where the key path is being used."),n=qr.comparator(o.key,t.key);else{var a=t.field(r.field);Fi(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(r.dir===yh.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},wh.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],i=e.position[t];if(!n.isEqual(i))return!1}return!0},wh);function wh(e,t){this.position=e,this.before=t}var Eh=(_h.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Rs.compareByKey(e,t):Rs.compareByField(this.field,e,t);switch(this.dir){case yh.ASCENDING:return n;case yh.DESCENDING:return-1*n;default:return Bi("Unknown direction: "+this.dir)}},_h.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},_h.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},_h.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},_h);function _h(e,t){this.field=e,void 0===t&&(t=yh.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}var kh=new Eh(Vr.keyField(),yh.ASCENDING),Th=new Eh(Vr.keyField(),yh.DESCENDING),Sh=(Ch.prototype.applyToLocalView=function(e,t){return new ps(t,e)},Ch.prototype.applyToRemoteDocument=function(e,t){return t},Ch.prototype.computeBaseValue=function(e){return null},Ch.prototype.isEqual=function(e){return e instanceof Ch},Ch.instance=new Ch,Ch);function Ch(){}var Ih=(Dh.prototype.applyToLocalView=function(e,t){return this.apply(e)},Dh.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Dh.prototype.apply=function(e){for(var t=Mh(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new As(t)},Dh.prototype.computeBaseValue=function(e){return null},Dh.prototype.isEqual=function(e){return e instanceof Dh&&gr(e.elements,this.elements)},Dh);function Dh(e){this.elements=e}var Ah=(Oh.prototype.applyToLocalView=function(e,t){return this.apply(e)},Oh.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Oh.prototype.apply=function(e){for(var t=Mh(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new As(t)},Oh.prototype.computeBaseValue=function(e){return null},Oh.prototype.isEqual=function(e){return e instanceof Oh&&gr(e.elements,this.elements)},Oh);function Oh(e){this.elements=e}var xh=(Nh.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof ns&&this.operand instanceof ns){var i=n.internalValue+this.operand.internalValue;return new ns(i)}return i=n.internalValue+this.operand.internalValue,new os(i)},Nh.prototype.applyToRemoteDocument=function(e,t){return Fi(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},Nh.prototype.computeBaseValue=function(e){return e instanceof Ja?e:new ns(0)},Nh.prototype.isEqual=function(e){return e instanceof Nh&&this.operand.isEqual(e.operand)},Nh);function Nh(e){this.operand=e}function Mh(e){return e instanceof As?e.internalValue.slice():[]}var Rh=(Lh.prototype.isEqual=function(e){return e&&e.count===this.count},Lh);function Lh(e){this.count=e}var Ph,Bh,Fh=((Ph={})[yh.ASCENDING.name]="ASCENDING",Ph[yh.DESCENDING.name]="DESCENDING",Ph),Vh=((Bh={})[Xc.LESS_THAN.name]="LESS_THAN",Bh[Xc.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Bh[Xc.GREATER_THAN.name]="GREATER_THAN",Bh[Xc.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Bh[Xc.EQUAL.name]="EQUAL",Bh[Xc.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Bh[Xc.IN.name]="IN",Bh[Xc.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Bh),Uh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qh(e,t){Fi(!Hl(e),t+" is missing")}function jh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):Bi("can't parse "+e)}var Wh=(Hh.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},Hh.prototype.unsafeCastProtoByteString=function(e){return e},Hh.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Wi.UNKNOWN:gc(e.code);return new Hi(t,e.message||"")},Hh.prototype.toInt32Value=function(e){return Hl(e)?void 0:{value:e}},Hh.prototype.fromInt32Value=function(e){var t;return Hl(t="object"==typeof e?e.value:e)?null:t},Hh.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},Hh.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);Fi(!!e,"Cannot deserialize null or undefined timestamp.");var t=jh(e.seconds||"0"),n=e.nanos||0;return new ro(t,n)},Hh.prototype.fromIso8601String=function(e){var t=0,n=Uh.exec(e);if(Fi(!!n,"invalid timestamp: "+e),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var r=new Date(e),o=Math.floor(r.getTime()/1e3);return new ro(o,t)},Hh.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},Hh.prototype.fromBlob=function(e){return"string"==typeof e?(Fi(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),_r.fromBase64String(e)):(Fi(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),_r.fromUint8Array(e))},Hh.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},Hh.prototype.fromVersion=function(e){return Fi(!!e,"Trying to deserialize version that isn't set"),ao.fromTimestamp(this.fromTimestamp(e))},Hh.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},Hh.prototype.fromResourceName=function(e){var t=Lr.fromString(e);return Fi(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},Hh.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},Hh.prototype.fromName=function(e){var t=this.fromResourceName(e);return Fi(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),Fi(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new qr(this.extractLocalPathFromResourceName(t))},Hh.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},Hh.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Lr.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(Hh.prototype,"encodedDatabaseId",{get:function(){return new Lr(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),Hh.prototype.fullyQualifiedPrefixPath=function(e){return new Lr(["projects",e.projectId,"databases",e.database])},Hh.prototype.extractLocalPathFromResourceName=function(e){return Fi(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},Hh.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},Hh.prototype.toValue=function(e){if(e instanceof $a)return{nullValue:"NULL_VALUE"};if(e instanceof Ga)return{booleanValue:e.value()};if(e instanceof ns)return{integerValue:""+e.value()};if(e instanceof os){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof us?{stringValue:e.value()}:e instanceof Cs?{mapValue:this.toMapValue(e)}:e instanceof As?{arrayValue:this.toArrayValue(e)}:e instanceof hs?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof ks?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof ys?{bytesValue:this.toBytes(e.value())}:e instanceof ws?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:Bi("Unknown FieldValue "+JSON.stringify(e))},Hh.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return $a.INSTANCE;if("booleanValue"in e)return Ga.of(e.booleanValue);if("integerValue"in e)return new ns(jh(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return os.NAN;if("Infinity"===e.doubleValue)return os.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return os.NEGATIVE_INFINITY}return new os(e.doubleValue)}if("stringValue"in e)return new us(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){qh(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new As(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return qh(e.timestampValue,"timestampValue"),new hs(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){qh(e.geoPointValue,"geoPointValue");var i=e.geoPointValue.latitude||0,r=e.geoPointValue.longitude||0;return new ks(new Kc(i,r))}if("bytesValue"in e){qh(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new ys(o)}if("referenceValue"in e){qh(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new Ir(a.get(1),a.get(3)),u=new qr(this.extractLocalPathFromResourceName(a));return new ws(s,u)}return Bi("Unknown Value proto "+JSON.stringify(e))},Hh.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},Hh.prototype.toDocument=function(e){return Fi(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},Hh.prototype.fromDocument=function(e,t){var n=this,i=this.fromName(e.name),r=this.fromVersion(e.updateTime);return new Rs(i,r,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},Hh.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,i){n[e]=t.toValue(i)})),n},Hh.prototype.fromFields=function(e){var t=this,n=e,i=Cs.EMPTY;return Yi(n,(function(e,n){i=i.set(new Vr([e]),t.fromValue(n))})),i},Hh.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},Hh.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},Hh.prototype.fromFound=function(e){var t=this;Fi(!!e.found,"Tried to deserialize a found document from a missing document."),qh(e.found.name,"doc.found.name"),qh(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),i=this.fromVersion(e.found.updateTime);return new Rs(n,i,{},void 0,e.found,(function(e){return t.fromValue(e)}))},Hh.prototype.fromMissing=function(e){Fi(!!e.missing,"Tried to deserialize a missing document from a found document."),Fi(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Bs(t,n)},Hh.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):Bi("invalid batch get response: "+JSON.stringify(e))},Hh.prototype.toWatchTargetChangeState=function(e){switch(e){case Mc.Added:return"ADD";case Mc.Current:return"CURRENT";case Mc.NoChange:return"NO_CHANGE";case Mc.Removed:return"REMOVE";case Mc.Reset:return"RESET";default:return Bi("Unknown WatchTargetChangeState: "+e)}},Hh.prototype.toTestWatchChange=function(e){if(e instanceof Pc)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Lc){if(e.newDoc instanceof Rs){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Bs)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Bc){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return fc.OK;switch(e){case Wi.OK:return fc.OK;case Wi.CANCELLED:return fc.CANCELLED;case Wi.UNKNOWN:return fc.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return fc.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return fc.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return fc.INTERNAL;case Wi.UNAVAILABLE:return fc.UNAVAILABLE;case Wi.UNAUTHENTICATED:return fc.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return fc.INVALID_ARGUMENT;case Wi.NOT_FOUND:return fc.NOT_FOUND;case Wi.ALREADY_EXISTS:return fc.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return fc.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return fc.FAILED_PRECONDITION;case Wi.ABORTED:return fc.ABORTED;case Wi.OUT_OF_RANGE:return fc.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return fc.UNIMPLEMENTED;case Wi.DATA_LOSS:return fc.DATA_LOSS;default:return Bi("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return Bi("Unrecognized watch change: "+JSON.stringify(e))},Hh.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){qh(e.targetChange,"targetChange");var i=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Bc(i,r,o,s||null)}else if("documentChange"in e){qh(e.documentChange,"documentChange"),qh(e.documentChange.document,"documentChange.name"),qh(e.documentChange.document.name,"documentChange.document.name"),qh(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,l=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=new Rs(l,c,{},void 0,u.document,(function(e){return n.fromValue(e)})),d=u.targetIds||[],f=u.removedTargetIds||[];t=new Lc(d,f,h.key,h)}else if("documentDelete"in e){qh(e.documentDelete,"documentDelete"),qh(e.documentDelete.document,"documentDelete.document");var p=e.documentDelete;l=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):ao.forDeletedDoc(),h=new Bs(l,c),f=p.removedTargetIds||[],t=new Lc([],f,h.key,h)}else if("documentRemove"in e){qh(e.documentRemove,"documentRemove"),qh(e.documentRemove.document,"documentRemove");var m=e.documentRemove;l=this.fromName(m.document),f=m.removedTargetIds||[],t=new Lc([],f,l,null)}else{if(!("filter"in e))return Bi("Unknown change type "+JSON.stringify(e));qh(e.filter,"filter"),qh(e.filter.targetId,"filter.targetId");var v=e.filter,y=v.count||0,g=new Rh(y),b=v.targetId;t=new Pc(b,g)}return t},Hh.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Mc.NoChange:"ADD"===e?Mc.Added:"REMOVE"===e?Mc.Removed:"CURRENT"===e?Mc.Current:"RESET"===e?Mc.Reset:Bi("Got unexpected TargetChange.state: "+e)},Hh.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return ao.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?ao.MIN:t.readTime?this.fromVersion(t.readTime):ao.MIN},Hh.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ca)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Va)t={delete:this.toName(e.key)};else if(e instanceof Aa)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Na))return Bi("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},Hh.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Ea.NONE;if(e.update){qh(e.update.name,"name");var i=this.fromName(e.update.name),r=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Aa(i,r,o,n)}return new Ca(i,r,n)}if(e.delete)return i=this.fromName(e.delete),new Va(i,n);if(e.transform){i=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return Fi(!0===n.exists,'Transforms only support precondition "exists == true"'),new Na(i,a)}return Bi("unknown mutation proto: "+JSON.stringify(e))},Hh.prototype.toPrecondition=function(e){return Fi(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Bi("Unknown precondition")},Hh.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Ea.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Ea.exists(e.exists):Ea.NONE},Hh.prototype.fromWriteResult=function(e,t){var n=this,i=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),r=null;return e.transformResults&&0<e.transformResults.length&&(r=e.transformResults.map((function(e){return n.fromValue(e)}))),new wa(i,r)},Hh.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(Fi(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},Hh.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Sh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ih)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Ah)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof xh)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw Bi("Unknown transform: "+e.transform)},Hh.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)Fi("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=Sh.instance;else if("appendMissingElements"in e){var i=e.appendMissingElements.values||[];n=new Ih(i.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e)i=e.removeAllFromArray.values||[],n=new Ah(i.map((function(e){return t.fromValue(e)})));else if("increment"in e){var r=this.fromValue(e.increment);Fi(r instanceof Ja,"NUMERIC_ADD transform requires a NumberValue"),n=new xh(r)}else Bi("Unknown transform proto: "+JSON.stringify(e));var o=Vr.fromServerFormat(e.fieldPath);return new va(o,n)},Hh.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},Hh.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;Fi(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Gc.atPath(this.fromQueryPath(n))},Hh.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(Fi(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Fi(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var i=this.toFilter(e.filters);i&&(t.structuredQuery.where=i);var r=this.toOrder(e.orderBy);r&&(t.structuredQuery.orderBy=r);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},Hh.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,r=null;if(0<i){Fi(1===i,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?r=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Gc(t,r,s,a,u,l,c)},Hh.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},Hh.prototype.toLabel=function(e){switch(e){case Bu.Listen:return null;case Bu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Bu.LimboResolution:return"limbo-document";default:return Bi("Unrecognized query purpose: "+e)}},Hh.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},Hh.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof eh?t.toUnaryOrFieldFilter(e):Bi("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Hh.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):Bi("Unknown filter: "+JSON.stringify(e)):[]},Hh.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},Hh.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},Hh.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},Hh.prototype.fromCursor=function(e){var t=this,n=!!e.before,i=e.values.map((function(e){return t.fromValue(e)}));return new bh(i,n)},Hh.prototype.toDirection=function(e){return Fh[e.name]},Hh.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return yh.ASCENDING;case"DESCENDING":return yh.DESCENDING;default:return}},Hh.prototype.toOperatorName=function(e){return Vh[e.name]},Hh.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Xc.EQUAL;case"GREATER_THAN":return Xc.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Xc.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Xc.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Xc.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Xc.ARRAY_CONTAINS;case"IN":return Xc.IN;case"ARRAY_CONTAINS_ANY":return Xc.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Bi("Unspecified operator");default:return Bi("Unknown operator")}},Hh.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},Hh.prototype.fromFieldPathReference=function(e){return Vr.fromServerFormat(e.fieldPath)},Hh.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},Hh.prototype.fromPropertyOrder=function(e){return new Eh(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},Hh.prototype.fromFieldFilter=function(e){return eh.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},Hh.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Xc.EQUAL){if(e.value.isEqual(os.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual($a.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},Hh.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return eh.create(t,Xc.EQUAL,os.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return eh.create(n,Xc.EQUAL,$a.INSTANCE);case"OPERATOR_UNSPECIFIED":return Bi("Unspecified filter");default:return Bi("Unknown filter")}},Hh.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},Hh.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return Vr.fromServerFormat(e)}));return pa.fromArray(t)},Hh);function Hh(e,t){this.databaseId=e,this.options=t}var zh=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},$h=(Kh.prototype.listen=function(e){var t=e.query,n=!1,i=this.queries.get(t);return i||(n=!0,i=new zh,this.queries.set(t,i)),i.listeners.push(e),Fi(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!i.viewSnap||e.onViewSnapshot(i.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return i.targetId=e})):Promise.resolve(i.targetId)},Kh.prototype.unlisten=function(e){return c(this,void 0,void 0,(function(){var t,n,i,r;return h(this,(function(o){return t=e.query,n=!1,(i=this.queries.get(t))&&0<=(r=i.listeners.indexOf(e))&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},Kh.prototype.onWatchChange=function(e){for(var t=!1,n=0,i=e;n<i.length;n++){var r=i[n],o=r.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(r)&&(t=!0);a.viewSnap=r}}t&&this.raiseSnapshotsInSyncEvent()},Kh.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(t);this.queries.delete(e)},Kh.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,i){for(var r=0,o=i.listeners;r<o.length;r++)o[r].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},Kh.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},Kh.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},Kh.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},Kh);function Kh(e){this.syncEngine=e,this.queries=new js((function(e){return e.canonicalId()})),this.onlineState=sc.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var Qh=(Gh.prototype.onViewSnapshot=function(e){if(Fi(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,i=e.docChanges;n<i.length;n++){var r=i[n];r.type!==bc.Metadata&&t.push(r)}e=new Ic(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},Gh.prototype.onError=function(e){this.queryObserver.error(e)},Gh.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},Gh.prototype.shouldRaiseInitialEvent=function(e,t){if(Fi(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==sc.Offline;return this.options.waitForSyncWhenOnline&&n?(Fi(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===sc.Offline},Gh.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},Gh.prototype.raiseInitialEvent=function(e){Fi(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},Gh);function Gh(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=sc.Unknown,this.options=n||{}}var Yh=(Xh.fromSnapshot=function(e,t){for(var n=Ao(),i=Ao(),r=0,o=t.docChanges;r<o.length;r++){var a=o[r];switch(a.type){case bc.Added:n=n.add(a.doc.key);break;case bc.Removed:i=i.add(a.doc.key)}}return new Xh(e,n,i)},Xh);function Xh(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}var Jh=function(e){this.key=e},Zh=function(e){this.key=e},ed=(Object.defineProperty(td.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),td.prototype.computeDocChanges=function(e,t){var n=this,i=t?t.changeSet:new Sc,r=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1,u=this.query.hasLimit()&&r.size===this.query.limit?r.last():null;if(e.inorderTraversal((function(e,t){var l=r.get(e),c=t instanceof Rs?t:null;c&&(Fi(e.isEqual(c.key),"Mismatching keys found in document changes: "+e+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;l&&c?l.data().isEqual(c.data())?h!==d&&(i.track({type:bc.Metadata,doc:c}),f=!0):n.shouldWaitForSyncedDocument(l,c)||(i.track({type:bc.Modified,doc:c}),f=!0,u&&0<n.query.docComparator(c,u)&&(s=!0)):!l&&c?(i.track({type:bc.Added,doc:c}),f=!0):l&&!c&&(i.track({type:bc.Removed,doc:l}),f=!0,u&&(s=!0)),f&&(o=c?(a=a.add(c),d?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),o=o.delete(l.key),i.track({type:bc.Removed,doc:l})}return Fi(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:i,needsRefill:s,mutatedKeys:o}},td.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},td.prototype.applyChanges=function(e,t,n){var i=this;Fi(!e.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){function n(e){switch(e){case bc.Added:return 1;case bc.Modified:case bc.Metadata:return 2;case bc.Removed:return 0;default:return Bi("Unknown ChangeType: "+e)}}return n(e)-n(t)}(e.type,t.type)||i.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Ec.Synced:Ec.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Ic(this.query,e.documentSet,r,o,e.mutatedKeys,s===Ec.Local,u,!1),limboChanges:a}:{limboChanges:a}},td.prototype.applyOnlineStateChange=function(e){return this.current&&e===sc.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Sc,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},td.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},td.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return Fi(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},td.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Ao(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Zh(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new Jh(e))})),n},td.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Ao();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},td.prototype.computeInitialSnapshot=function(){return Ic.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ec.Local)},td);function td(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Ao(),this.mutatedKeys=Ao(),this.documentSet=new kc(e.docComparator.bind(e))}var nd=(id.prototype.run=function(){this.runWithBackOff()},id.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return c(e,void 0,void 0,(function(){var e,t,n=this;return h(this,(function(i){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},id.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Hl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},id.prototype.handleTransactionError=function(e){var t=this;0<this.retries&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},id.prototype.isRetryableTransactionError=function(e){if("FirebaseError"!==e.name)return!1;var t=e.code;return"aborted"===t||"failed-precondition"===t||!yc(t)},id);function id(e,t,n,i){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=i,this.retries=5,this.backoff=new $l(this.asyncQueue,Wr.RetryTransaction)}var rd="SyncEngine",od=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ad=function(e){this.key=e,this.receivedDocument=!1},sd=(Object.defineProperty(ud.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),ud.prototype.subscribe=function(e){Fi(null!==e,"SyncEngine listener cannot be null"),Fi(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},ud.prototype.listen=function(e){return c(this,void 0,void 0,(function(){var t,n,i,r,o;return h(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(i=this.queryViewsByQuery.get(e))?(t=i.targetId,this.sharedClientState.addLocalQueryTarget(t),n=i.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return r=a.sent(),o=this.sharedClientState.addLocalQueryTarget(r.targetId),t=r.targetId,[4,this.initializeViewAndComputeSnapshot(r,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(r),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},ud.prototype.initializeViewAndComputeSnapshot=function(e,t){return c(this,void 0,void 0,(function(){var n,i,r,o,a,s,u,l;return h(this,(function(c){switch(c.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return i=c.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return r=c.sent(),o=new ed(n,r),a=o.computeDocChanges(i),s=xc.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==sc.Offline),Fi(0===(u=o.applyChanges(a,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),Fi(!!u.snapshot,"applyChanges for new view should always return a snapshot"),l=new od(n,e.targetId,o),this.queryViewsByQuery.set(n,l),this.queryViewsByTarget[e.targetId]=l,[2,u.snapshot]}}))}))},ud.prototype.synchronizeViewAndComputeSnapshot=function(e){return c(this,void 0,void 0,(function(){var t,n,i;return h(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=r.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=r.sent(),i=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,i.limboChanges),[2,i]}}))}))},ud.prototype.unlisten=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return h(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),Fi(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(hl)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},ud.prototype.write=function(e,t){return c(this,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=i.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return i.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return i.sent(),[2]}}))}))},ud.prototype.runTransaction=function(e,t,n){new nd(e,this.remoteStore,t,n).run()},ud.prototype.applyRemoteEvent=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return h(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=i.sent(),Yi(e.targetChanges,(function(e,t){var i=n.limboResolutionsByTarget[Number(e)];i&&(Fi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<t.addedDocuments.size?i.receivedDocument=!0:0<t.modifiedDocuments.size?Fi(i.receivedDocument,"Received change for limbo target document without add."):0<t.removedDocuments.size&&(Fi(i.receivedDocument,"Received remove for limbo target document without add."),i.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return i.sent(),[3,6];case 4:return[4,hl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},ud.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===lc.RemoteStore||!this.isPrimary&&t===lc.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,i){var r=i.view.applyOnlineStateChange(e);Fi(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},ud.prototype.rejectListen=function(e,t){return c(this,void 0,void 0,(function(){var n,i,r,o,a,s,u=this;return h(this,(function(l){switch(l.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(i=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[e],r=(r=new uo(qr.comparator)).insert(i,new Bs(i,ao.forDeletedDoc())),o=Ao().add(i),a=new Ac(ao.MIN,{},new yo(yr),r,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Fi(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then((function(){return u.removeAndCleanupQuery(s)})).catch(hl)];case 2:l.sent(),this.syncEngineListener.onWatchError(s.query,t),l.label=3;case 3:return[2]}}))}))},ud.prototype.applyBatchState=function(e,t,n){return c(this,void 0,void 0,(function(){var i;return h(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(i=r.sent())?(Ri(rd,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):Bi("Unknown batchState: "+t),r.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(i)];case 5:return r.sent(),[2]}}))}))},ud.prototype.applySuccessfulWrite=function(e){return c(this,void 0,void 0,(function(){var t,n;return h(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,hl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},ud.prototype.rejectFailedWrite=function(e,t){return c(this,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,hl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},ud.prototype.registerPendingWritesCallback=function(e){return c(this,void 0,void 0,(function(){var t,n;return h(this,(function(i){switch(i.label){case 0:return this.remoteStore.canUseNetwork()||Ri(rd,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=i.sent())?e.resolve():((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n)),[2]}}))}))},ud.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},ud.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new Hi(Wi.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},ud.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new uo(yr)).insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},ud.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var i=n.get(e);i&&(Fi(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?i.reject(t):i.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},ud.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},ud.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},ud.prototype.updateTrackedLimbos=function(e,t){for(var n=0,i=t;n<i.length;n++){var r=i[n];r instanceof Jh?(this.limboDocumentRefs.addReference(r.key,e),this.trackLimboChange(r)):r instanceof Zh?(Ri(rd,"Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,e),this.limboDocumentRefs.containsKey(r.key)||this.removeLimboTarget(r.key)):Bi("Unknown limbo change: "+JSON.stringify(r))}},ud.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){Ri(rd,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),i=Gc.atPath(t.path);this.limboResolutionsByTarget[n]=new ad(t),this.remoteStore.listen(new Wu(i,n,Bu.LimboResolution,Ar.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},ud.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},ud.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return c(this,void 0,void 0,(function(){var n,i,r,o=this;return h(this,(function(a){switch(a.label){case 0:return n=[],i=[],r=[],this.queryViewsByQuery.forEach((function(a,s){r.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then((function(e){return s.view.computeDocChanges(e,t)})):t})).then((function(e){var r=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,r);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Yh.fromSnapshot(s.targetId,a.snapshot);i.push(u)}})))})),[4,Promise.all(r)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(i)];case 2:return a.sent(),[2]}}))}))},ud.prototype.assertSubscribed=function(e){Fi(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},ud.prototype.handleCredentialChange=function(e){return c(this,void 0,void 0,(function(){var t,n;return h(this,(function(i){switch(i.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=i.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:i.sent(),i.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return i.sent(),[2]}}))}))},ud.prototype.applyPrimaryState=function(e){return c(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u=this;return h(this,(function(l){switch(l.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return l.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=l.sent(),i=0,r=n;i<r.length;i++)o=r[i],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Gi(this.queryViewsByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then((function(){return u.unlisten(t.query)})),u.remoteStore.unlisten(t.targetId)})),[4,s]);case 4:return l.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return l.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))},ud.prototype.resetLimboDocuments=function(){var e=this;Gi(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new uo(qr.comparator)},ud.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return c(this,void 0,void 0,(function(){var t,n,i,r,o,a,s,u,l;return h(this,(function(c){switch(c.label){case 0:t=[],n=[],i=0,r=e,c.label=1;case 1:return i<r.length?(o=r[i],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return c.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=c.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=c.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return Fi(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Fi(!!(l=c.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=c.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:c.sent(),c.label=9;case 9:t.push(a),c.label=10;case 10:return i++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},ud.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},ud.prototype.applyTargetState=function(e,t,n){return c(this,void 0,void 0,(function(){var i,r,o,a,s;return h(this,(function(u){switch(u.label){case 0:if(this.isPrimary)return Ri(rd,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return u.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return i=u.sent(),r=Ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(i,r)];case 3:return u.sent(),[3,11];case 4:return function(e){return e.code===Wi.DATA_LOSS&&e.message===Ks}(o=u.sent())?(a=[],Gi(this.queryViewsByTarget,(function(e){return a.push(e)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]):[3,6];case 5:return u.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return s=this.queryViewsByTarget[e],this.removeAndCleanupQuery(s),[4,this.localStore.releaseQuery(s.query,!0)];case 9:return u.sent(),this.syncEngineListener.onWatchError(s.query,n),[3,11];case 10:Bi("Unexpected target state: "+t),u.label=11;case 11:return[2]}}))}))},ud.prototype.applyActiveTargetsChange=function(e,t){return c(this,void 0,void 0,(function(){var n,i,r,o,a,s,u,l,c,d=this;return h(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,i=e,f.label=1;case 1:return n<i.length?(c=i[n],Fi(!this.queryViewsByTarget[c],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(c)]):[3,6];case 2:return Fi(!!(r=f.sent()),"Query data for active target "+c+" not found"),[4,this.localStore.allocateQuery(r)];case 3:return o=f.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:f.sent(),this.remoteStore.listen(o),f.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return h(this,(function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then((function(){d.remoteStore.unlisten(e),d.removeAndCleanupQuery(t)})).catch(hl)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},s=this,u=0,l=t,f.label=7;case 7:return u<l.length?(c=l[u],[5,a(c)]):[3,10];case 8:f.sent(),f.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},ud.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},ud.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},ud.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Ao().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Ao()},ud);function ud(e,t,n,i){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=i,this.syncEngineListener=null,this.queryViewsByQuery=new js((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new uo(qr.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new bl,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Qo.forSyncEngine(),this.isPrimary=void 0,this.onlineState=sc.Unknown}var ld=(cd.prototype.isAuthenticated=function(){return null!=this.uid},cd.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},cd.prototype.isEqual=function(e){return e.uid===this.uid},cd.UNAUTHENTICATED=new cd(null),cd.GOOGLE_CREDENTIALS=new cd("google-credentials-uid"),cd.FIRST_PARTY=new cd("first-party-uid"),cd);function cd(e){this.uid=e}var hd="SharedClientState",dd="firestore_clients",fd="firestore_mutations",pd="firestore_targets",md=(vd.fromWebStorageEntry=function(e,t,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Hi(i.error.code,i.error.message)),r?new vd(e,t,i.state,o):(Li(hd,"Failed to parse mutation state for ID '"+t+"': "+n),null)},vd.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},vd);function vd(e,t,n,i){this.user=e,this.batchId=t,this.state=n,Fi(void 0!==(this.error=i)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var yd=(gd.fromWebStorageEntry=function(e,t){var n=JSON.parse(t),i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),r=void 0;return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new Hi(n.error.code,n.error.message)),i?new gd(e,n.state,r):(Li(hd,"Failed to parse target state for ID '"+e+"': "+t),null)},gd.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},gd);function gd(e,t,n){this.targetId=e,this.state=t,Fi(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var bd=(wd.fromWebStorageEntry=function(e,t){for(var n=JSON.parse(t),i="object"==typeof n&&n.activeTargetIds instanceof Array,r=xo(),o=0;i&&o<n.activeTargetIds.length;++o)i=zl(n.activeTargetIds[o]),r=r.add(n.activeTargetIds[o]);return i?new wd(e,r):(Li(hd,"Failed to parse client data for instance '"+e+"': "+t),null)},wd);function wd(e,t){this.clientId=e,this.activeTargetIds=t}var Ed=(_d.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&t.onlineState in sc&&"string"==typeof t.clientId?new _d(t.clientId,sc[t.onlineState]):(Li(hd,"Failed to parse online state: "+e),null)},_d);function _d(e,t){this.clientId=e,this.onlineState=t}var kd=(Td.prototype.addQueryTarget=function(e){Fi(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},Td.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},Td.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},Td);function Td(){this.activeTargetIds=xo()}var Sd=(Cd.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},Cd.prototype.start=function(){return c(this,void 0,void 0,(function(){var e,t,n,i,r,o,a,s,u,l,c,d=this;return h(this,(function(h){switch(h.label){case 0:return Fi(!this.started,"WebStorageSharedClientState already started"),Fi(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Fi(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.localClientId&&(r=this.getItem(this.toWebStorageClientStateKey(i)))&&(o=bd.fromWebStorageEntry(i,r))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,l=this.earlyEvents;u<l.length;u++)c=l[u],this.handleWebStorageEvent(c);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return d.shutdown()})),this.started=!0,[2]}}))}))},Cd.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},Cd.prototype.getAllActiveQueryTargets=function(){var e=xo();return Yi(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},Cd.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},Cd.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},Cd.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},Cd.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var i=yd.fromWebStorageEntry(e,n);i&&(t=i.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},Cd.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},Cd.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},Cd.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},Cd.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},Cd.prototype.handleUserChange=function(e,t,n){var i=this;t.forEach((function(e){i.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){i.addPendingMutation(e)}))},Cd.prototype.setOnlineState=function(e){this.persistOnlineState(e)},Cd.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},Cd.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ri(hd,"READ",e,t),t},Cd.prototype.setItem=function(e,t){Ri(hd,"SET",e,t),this.storage.setItem(e,t)},Cd.prototype.removeItem=function(e){Ri(hd,"REMOVE",e),this.storage.removeItem(e)},Cd.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(Ri(hd,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return c(t,void 0,void 0,(function(){var t,n,i,r,o,a;return h(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(i)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(r)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(Fi(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=Ar.INVALID;if(null!=e)try{var n=JSON.parse(e);Fi("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){Li(hd,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Ar.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(Cd.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),Cd.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},Cd.prototype.persistMutationState=function(e,t,n){var i=new md(this.currentUser,e,t,n),r=this.toWebStorageMutationBatchKey(e);this.setItem(r,i.toWebStorageJSON())},Cd.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},Cd.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:sc[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},Cd.prototype.persistQueryTargetState=function(e,t,n){var i=this.toWebStorageQueryTargetMetadataKey(e),r=new yd(e,t,n);this.setItem(i,r.toWebStorageJSON())},Cd.prototype.toWebStorageClientStateKey=function(e){return Fi(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),dd+"_"+this.persistenceKey+"_"+e},Cd.prototype.toWebStorageQueryTargetMetadataKey=function(e){return pd+"_"+this.persistenceKey+"_"+e},Cd.prototype.toWebStorageMutationBatchKey=function(e){var t=fd+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},Cd.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},Cd.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return Fi(null!==n,"Cannot parse client state key '"+e+"'"),bd.fromWebStorageEntry(n,t)},Cd.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);Fi(null!==n,"Cannot parse mutation batch key '"+e+"'");var i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return md.fromWebStorageEntry(new ld(r),i,t)},Cd.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);Fi(null!==n,"Cannot parse query target key '"+e+"'");var i=Number(n[1]);return yd.fromWebStorageEntry(i,t)},Cd.prototype.fromWebStorageOnlineState=function(e){return Ed.fromWebStorageEntry(e)},Cd.prototype.handleMutationBatchEvent=function(e){return c(this,void 0,void 0,(function(){return h(this,(function(t){return e.user.uid!==this.currentUser.uid?(Ri(hd,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},Cd.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},Cd.prototype.handleClientStateEvent=function(e,t){var n=this,i=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var r=this.getAllActiveQueryTargets(),o=[],a=[];return r.forEach((function(e){return c(n,void 0,void 0,(function(){return h(this,(function(t){return i.has(e)||o.push(e),[2]}))}))})),i.forEach((function(e){return c(n,void 0,void 0,(function(){return h(this,(function(t){return r.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},Cd.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},Cd);function Cd(e,t,n,i,r){if(this.queue=e,this.platform=t,this.persistenceKey=n,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!Cd.isAvailable(this.platform))throw new Hi(Wi.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=r,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new kd,this.clientStateKeyRe=new RegExp("^"+dd+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+fd+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+pd+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Id=(Dd.prototype.addPendingMutation=function(e){},Dd.prototype.updateMutationState=function(e,t,n){},Dd.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},Dd.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},Dd.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},Dd.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Dd.prototype.clearQueryState=function(e){delete this.queryState[e]},Dd.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Dd.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Dd.prototype.start=function(){return this.localState=new kd,Promise.resolve()},Dd.prototype.handleUserChange=function(e,t,n){},Dd.prototype.setOnlineState=function(e){},Dd.prototype.shutdown=function(){},Dd.prototype.writeSequenceNumber=function(e){},Dd);function Dd(){this.localState=new kd,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var Ad="FirestoreClient",Od=(xd.prototype.lruParams=function(){return Xu.withCacheSize(this.cacheSizeBytes)},xd);function xd(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}var Nd=function(){},Md=(Rd.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new zr,i=new zr,r=!1;return this.credentials.setChangeListener((function(o){r?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(r=!0,t.initializePersistence(e,i,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),i.promise},Rd.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},Rd.prototype.initializePersistence=function(e,t,n){var i=this;return e instanceof Od?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!i.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),i.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},Rd.prototype.canFallback=function(e){return e instanceof Hi?e.code===Wi.FAILED_PRECONDITION||e.code===Wi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},Rd.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Hi(Wi.FAILED_PRECONDITION,"The client has already been terminated.")},Rd.prototype.startIndexedDbPersistence=function(e,t){var n=this,i=ll.buildStoragePrefix(this.databaseInfo),r=new Wh(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return c(n,void 0,void 0,(function(){var n,o;return h(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Sd.isAvailable(this.platform))throw new Hi(Wi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Sd(this.asyncQueue,this.platform,i,this.clientId,e):new Id,[4,ll.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:i,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:r,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}}))}))}))},Rd.prototype.startMemoryPersistence=function(){return this.persistence=Ml.createEagerPersistence(this.clientId),this.sharedClientState=new Id,Promise.resolve(null)},Rd.prototype.initializeRest=function(e,t){var n=this;return Ri(Ad,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(i){return c(n,void 0,void 0,(function(){var n,r,o,a,s,u=this;return h(this,(function(l){switch(l.label){case 0:return this.localStore=new kl(this.persistence,e),t&&(this.lruScheduler=new Zu(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),r=this.platform.newSerializer(this.databaseInfo.databaseId),o=new oc(this.asyncQueue,i,this.credentials,r),a=function(e){return u.syncEngine.applyOnlineStateChange(e,lc.RemoteStore)},s=function(e){return u.syncEngine.applyOnlineStateChange(e,lc.SharedClientState)},this.remoteStore=new zc(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new sd(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new $h(this.syncEngine),[4,this.sharedClientState.start()];case 1:return l.sent(),[4,this.remoteStore.start()];case 2:return l.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return c(u,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return l.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return c(u,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 4:return l.sent(),[2]}}))}))}))},Rd.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),Ri(Ad,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},Rd.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},Rd.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return c(e,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},Rd.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new zr;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},Rd.prototype.listen=function(e,t,n){var i=this;this.verifyNotTerminated();var r=new Qh(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return i.eventMgr.listen(r)})),r},Rd.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},Rd.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Rs)return e;if(e instanceof Bs)return null;throw new Hi(Wi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Rd.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.executeQuery(e)})).then((function(t){var n=Ao(),i=new ed(e,n),r=i.computeDocChanges(t);return i.applyChanges(r,!1).snapshot}))},Rd.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new zr;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},Rd.prototype.databaseId=function(){return this.databaseInfo.databaseId},Rd.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},Rd.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(Rd.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Rd.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new zr;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},Rd);function Rd(e,t,n,i){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=i,this.clientId=mr.newId()}var Ld=(Pd.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},Pd.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},Pd.prototype.mute=function(){this.muted=!0},Pd.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},Pd);function Pd(e){this.observer=e,this.muted=!1}var Bd=(Fd.documentId=function(){return Fd._DOCUMENT_ID},Fd.prototype.isEqual=function(e){if(!(e instanceof Fd))throw dr("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},Fd._DOCUMENT_ID=new Fd(Vr.keyField().canonicalString()),Fd);function Fd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,i){if(!(t instanceof Array)||t.length<1)throw new Hi(Wi.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+pr(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(nr("FieldPath","string",n,e[n]),0===e[n].length)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}var Vd=new RegExp("[~\\*/\\[\\]]"),Ud=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},qd=(jd.prototype.getToken=function(){return Promise.resolve(null)},jd.prototype.invalidateToken=function(){},jd.prototype.setChangeListener=function(e){Fi(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(ld.UNAUTHENTICATED)},jd.prototype.removeChangeListener=function(){Fi(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},jd);function jd(){this.changeListener=null}var Wd=(Hd.prototype.getToken=function(){var e=this;Fi(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new Hi(Wi.ABORTED,"getToken aborted due to token change.");return n?(Fi("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Ud(n.accessToken,e.currentUser)):null}))},Hd.prototype.invalidateToken=function(){this.forceRefresh=!0},Hd.prototype.setChangeListener=function(e){Fi(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(this.currentUser)},Hd.prototype.removeChangeListener=function(){Fi(null!=this.tokenListener,"removeChangeListener() called twice"),Fi(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Hd.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return Fi(null===e||"string"==typeof e,"Received invalid UID: "+e),new ld(e)},Hd);function Hd(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=ld.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var zd=(Object.defineProperty($d.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),$d);function $d(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ld.FIRST_PARTY}var Kd=(Qd.prototype.getToken=function(){return Promise.resolve(new zd(this.gapi,this.sessionIndex))},Qd.prototype.setChangeListener=function(e){e(ld.FIRST_PARTY)},Qd.prototype.removeChangeListener=function(){},Qd.prototype.invalidateToken=function(){},Qd);function Qd(e,t){this.gapi=e,this.sessionIndex=t}function Gd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Yd=(Xd.delete=function(){return Ji("FieldValue.delete",arguments),Zd.instance},Xd.serverTimestamp=function(){return Ji("FieldValue.serverTimestamp",arguments),nf.instance},Xd.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return er("FieldValue.arrayUnion",arguments,1),new af(e)},Xd.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return er("FieldValue.arrayRemove",arguments,1),new lf(e)},Xd.increment=function(e){return nr("FieldValue.increment","number",1,e),Zi("FieldValue.increment",arguments,1),new df(e)},Xd.prototype.isEqual=function(e){return this===e},Xd);function Xd(e){this._methodName=e}var Jd,Zd=(l(ef,Jd=Yd),ef.instance=new ef,ef);function ef(){return Jd.call(this,"FieldValue.delete")||this}var tf,nf=(l(rf,tf=Yd),rf.instance=new rf,rf);function rf(){return tf.call(this,"FieldValue.serverTimestamp")||this}var of,af=(l(sf,of=Yd),sf);function sf(e){var t=of.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}var uf,lf=(l(cf,uf=Yd),cf);function cf(e){var t=uf.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}var hf,df=(l(ff,hf=Yd),ff);function ff(e){var t=hf.call(this,"FieldValue.increment")||this;return t._operand=e,t}var pf=$i(Yd,"Use FieldValue.<field>() instead."),mf=/^__.*__$/,vf=(yf.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Aa(e,this.data,this.fieldMask,t)):n.push(new Ca(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new Na(e,this.fieldTransforms)),n},yf);function yf(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}var gf,bf,wf=(Ef.prototype.toMutations=function(e,t){var n=[new Aa(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Na(e,this.fieldTransforms)),n},Ef);function Ef(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function _f(e){switch(e){case gf.Set:case gf.MergeSet:case gf.Update:return!0;case gf.Argument:return!1;default:throw Bi("Unexpected case for UserDataSource: "+e)}}(bf=gf=gf||{})[bf.Set=0]="Set",bf[bf.Update=1]="Update",bf[bf.MergeSet=2]="MergeSet",bf[bf.Argument=3]="Argument";var kf=(Tf.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),n=new Tf(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},Tf.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),n=new Tf(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Tf.prototype.childContextForArray=function(e){return new Tf(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Tf.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Hi(Wi.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},Tf.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},Tf.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},Tf.prototype.validatePathSegment=function(e){if(_f(this.dataSource)&&mf.test(e))throw this.createError("Document fields cannot begin and end with __")},Tf);function Tf(e,t,n,i,r,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=i,void 0===r&&this.validatePath(),this.arrayElement=void 0!==i&&i,this.fieldTransforms=r||[],this.fieldMask=o||[]}var Sf=function(e,t){this.databaseId=e,this.key=t},Cf=(If.prototype.parseSetData=function(e,t){var n=new kf(gf.Set,e,Vr.EMPTY_PATH);Af("Data must be an object, but it was:",n,t);var i=this.parseData(t,n);return new vf(i,null,n.fieldTransforms)},If.prototype.parseMergeData=function(e,t,n){var i=new kf(gf.MergeSet,e,Vr.EMPTY_PATH);Af("Data must be an object, but it was:",i,t);var r,o,a=this.parseData(t,i);if(n){for(var s=new yo(Vr.comparator),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Bd)h=c._internalPath;else{if("string"!=typeof c)throw Bi("Expected stringOrFieldPath to be a string or a FieldPath");h=xf(e,c)}if(!i.contains(h))throw new Hi(Wi.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}r=pa.fromSet(s),o=i.fieldTransforms.filter((function(e){return r.covers(e.field)}))}else r=pa.fromArray(i.fieldMask),o=i.fieldTransforms;return new vf(a,r,o)},If.prototype.parseUpdateData=function(e,t){var n=this,i=new kf(gf.Update,e,Vr.EMPTY_PATH);Af("Data must be an object, but it was:",i,t);var r=new yo(Vr.comparator),o=Cs.EMPTY;Yi(t,(function(t,a){var s=xf(e,t),u=i.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Zd)r=r.add(s);else{var l=n.parseData(a,u);null!=l&&(r=r.add(s),o=o.set(s,l))}}));var a=pa.fromSet(r);return new wf(o,a,i.fieldTransforms)},If.prototype.parseUpdateVarargs=function(e,t,n,i){var r=new kf(gf.Update,e,Vr.EMPTY_PATH),o=[Of(e,t)],a=[n];if(i.length%2!=0)throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<i.length;s+=2)o.push(Of(e,i[s])),a.push(i[s+1]);var u=new yo(Vr.comparator),l=Cs.EMPTY;for(s=0;s<o.length;++s){var c=o[s],h=r.childContextForFieldPath(c),d=this.runPreConverter(a[s],h);if(d instanceof Zd)u=u.add(c);else{var f=this.parseData(d,h);null!=f&&(u=u.add(c),l=l.set(c,f))}}var p=pa.fromSet(u);return new wf(l,p,r.fieldTransforms)},If.prototype.parseQueryValue=function(e,t){var n=new kf(gf.Argument,e,Vr.EMPTY_PATH),i=this.parseData(t,n);return Fi(null!=i,"Parsed data should not be null."),Fi(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),i},If.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Nf(e);throw t.createError(n)}},If.prototype.parseData=function(e,t){if(Df(e=this.runPreConverter(e,t)))return Af("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Yd)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},If.prototype.parseObject=function(e,t){var n=this,i=new uo(yr);return Xi(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Yi(e,(function(e,r){var o=n.parseData(r,t.childContextForField(e));null!=o&&(i=i.insert(e,o))})),new Cs(i)},If.prototype.parseArray=function(e,t){for(var n=[],i=0,r=0,o=e;r<o.length;r++){var a=o[r],s=this.parseData(a,t.childContextForArray(i));null==s&&(s=$a.INSTANCE),n.push(s),i++}return new As(n)},If.prototype.parseSentinelFieldValue=function(e,t){if(!_f(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Zd){if(t.dataSource!==gf.MergeSet)throw t.dataSource===gf.Update?(Fi(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof nf)t.fieldTransforms.push(new va(t.path,Sh.instance));else if(e instanceof af){var n=this.parseArrayTransformElements(e._methodName,e._elements),i=new Ih(n);t.fieldTransforms.push(new va(t.path,i))}else if(e instanceof lf){n=this.parseArrayTransformElements(e._methodName,e._elements);var r=new Ah(n);t.fieldTransforms.push(new va(t.path,r))}else if(e instanceof df){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new xh(o);t.fieldTransforms.push(new va(t.path,a))}else Bi("Unknown FieldValue type: "+e)},If.prototype.parseScalarValue=function(e,t){if(null===e)return $a.INSTANCE;if("number"==typeof e)return zl(e)?new ns(e):new os(e);if("boolean"==typeof e)return Ga.of(e);if("string"==typeof e)return new us(e);if(e instanceof Date)return new hs(ro.fromDate(e));if(e instanceof ro)return new hs(new ro(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Kc)return new ks(e);if(e instanceof _r)return new ys(e);if(e instanceof Sf)return new ws(e.databaseId,e.key);throw t.createError("Unsupported field value: "+lr(e))},If.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,i){var r=new kf(gf.Argument,e,Vr.EMPTY_PATH);return n.parseData(t,r.childContextForArray(i))}))},If);function If(e){this.preConverter=e}function Df(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ro||e instanceof Kc||e instanceof _r||e instanceof Sf||e instanceof Yd)}function Af(e,t,n){if(!Df(n)||!ur(n)){var i=lr(n);throw"an object"===i?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Of(e,t){if(t instanceof Bd)return t._internalPath;if("string"==typeof t)return xf(e,t);throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function xf(e,t){try{return function(e){if(0<=e.search(Vd))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Bd.bind.apply(Bd,[void 0].concat(e.split("."))))}catch(t){throw new Hi(Wi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Nf(t);throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Nf(e){return e instanceof Error?e.message:e.toString()}var Mf=Xu.COLLECTION_DISABLED,Rf=(Lf.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},Lf);function Lf(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Hi(Wi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else rr("settings","non-empty string","host",e.host),this.host=e.host,or("settings","boolean","ssl",e.ssl),this.ssl=Qi(e.ssl,!0);if(hr("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),or("settings","object","credentials",e.credentials),this.credentials=e.credentials,or("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?Li("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&Li("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Qi(e.timestampsInSnapshots,!0),or("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Xu.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Mf&&e.cacheSizeBytes<Xu.MINIMUM_CACHE_SIZE_BYTES)throw new Hi(Wi.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Xu.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}or("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}var Pf=(Bf.prototype.settings=function(e){if(Zi("Firestore.settings",arguments,1),nr("Firestore.settings","object",1,e),Ki(e,"persistence"))throw new Hi(Wi.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Rf(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Hi(Wi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=t).credentials&&(this._credentials=function(e){if(!e)return new qd;switch(e.type){case"gapi":var t=e.client;return Fi(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Kd(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Hi(Wi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Bf.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Bf.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Bf.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Hi(Wi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&Li("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=Qi(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Od(this._settings.cacheSizeBytes,t))},Bf.prototype.clearPersistence=function(){var e=this,t=ll.buildStoragePrefix(this.makeDatabaseInfo()),n=new zr;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return c(e,void 0,void 0,(function(){var e;return h(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Hi(Wi.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,ll.clearPersistence(t)];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},Bf.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Bf.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Bf.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Bf.prototype._onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),Gd(e))return this.onSnapshotsInSyncInternal(e);nr("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},Bf.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Ld({next:function(){e.next&&e.next()},error:function(e){throw Bi("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},Bf.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Nd),this._firestoreClient},Bf.prototype.makeDatabaseInfo=function(){return new Sr(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Bf.prototype.configureClient=function(e){Fi(!!this._settings.host,"FirestoreSettings.host is not set"),Fi(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Md(Vi.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},Bf.prototype.createDataConverter=function(e){return new Cf((function(t){if(t instanceof jf){var n=e,i=t.firestore._databaseId;if(!i.isEqual(n))throw new Hi(Wi.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new Sf(e,t._key)}return t}))},Bf.databaseIdFromApp=function(e){var t=e.options;if(!Ki(t,"projectId"))throw new Hi(Wi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new Hi(Wi.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ir(n)},Object.defineProperty(Bf.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Hi(Wi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Bf.prototype.collection=function(e){return Zi("Firestore.collection",arguments,1),nr("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new np(Lr.fromString(e),this)},Bf.prototype.doc=function(e){return Zi("Firestore.doc",arguments,1),nr("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),jf.forPath(Lr.fromString(e),this)},Bf.prototype.collectionGroup=function(e){if(Zi("Firestore.collectionGroup",arguments,1),nr("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Xf(new Gc(Lr.EMPTY_PATH,e),this)},Bf.prototype.runTransaction=function(e){var t=this;return Zi("Firestore.runTransaction",arguments,1),nr("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Ff(t,n))}))},Bf.prototype.batch=function(){return this.ensureClientConfigured(),new Uf(this)},Object.defineProperty(Bf,"logLevel",{get:function(){switch(Ni()){case _i.DEBUG:return"debug";case _i.ERROR:return"error";case _i.SILENT:return"silent";default:return Bi("Unknown log level: "+Ni())}},enumerable:!0,configurable:!0}),Bf.setLogLevel=function(e){switch(Zi("Firestore.setLogLevel",arguments,1),nr("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Mi(_i.DEBUG);break;case"error":Mi(_i.ERROR);break;case"silent":Mi(_i.SILENT);break;default:throw new Hi(Wi.INVALID_ARGUMENT,"Invalid log level: "+e)}},Bf.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Bf);function Bf(e){var t=this;if(this._firebaseApp=null,this._queue=new Qr,this.INTERNAL={delete:function(){return c(t,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof e.options){var n=e;this._firebaseApp=n,this._databaseId=Bf.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Wd(n)}else{var i=e;if(!i.projectId)throw new Hi(Wi.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new Ir(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new qd}this._settings=new Rf({}),this._dataConverter=this.createDataConverter(this._databaseId)}var Ff=(Vf.prototype.get=function(e){var t=this;Zi("Transaction.get",arguments,1);var n=sp("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bi("Mismatch in docs returned from document lookup.");var i=e[0];if(i instanceof Bs)return new $f(t._firestore,n._key,null,!1,!1);if(i instanceof Rs)return new $f(t._firestore,n._key,i,!1,!1);throw Bi("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)}))},Vf.prototype.set=function(e,t,n){tr("Transaction.set",arguments,2,3);var i=sp("Transaction.set",e,this._firestore),r=(n=rp("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(i._key,r),this},Vf.prototype.update=function(e,t,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return r="string"==typeof t||t instanceof Bd?(er("Transaction.update",arguments,3),i=sp("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(Zi("Transaction.update",arguments,2),i=sp("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(i._key,r),this},Vf.prototype.delete=function(e){Zi("Transaction.delete",arguments,1);var t=sp("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},Vf);function Vf(e,t){this._firestore=e,this._transaction=t}var Uf=(qf.prototype.set=function(e,t,n){tr("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var i=sp("WriteBatch.set",e,this._firestore),r=(n=rp("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(r.toMutations(i._key,Ea.NONE)),this},qf.prototype.update=function(e,t,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),r="string"==typeof t||t instanceof Bd?(er("WriteBatch.update",arguments,3),i=sp("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(Zi("WriteBatch.update",arguments,2),i=sp("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(r.toMutations(i._key,Ea.exists(!0))),this},qf.prototype.delete=function(e){Zi("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=sp("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Va(t._key,Ea.NONE)),this},qf.prototype.commit=function(){return c(this,void 0,void 0,(function(){return h(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},qf.prototype.verifyNotCommitted=function(){if(this._committed)throw new Hi(Wi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},qf);function qf(e){this._firestore=e,this._mutations=[],this._committed=!1}var jf=(Wf.forPath=function(e,t){if(e.length%2!=0)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new Wf(new qr(e),t)},Object.defineProperty(Wf.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Wf.prototype,"parent",{get:function(){return new np(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Wf.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Wf.prototype.collection=function(e){if(Zi("DocumentReference.collection",arguments,1),nr("DocumentReference.collection","non-empty string",1,e),!e)throw new Hi(Wi.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Lr.fromString(e);return new np(this._key.path.child(t),this.firestore)},Wf.prototype.isEqual=function(e){if(!(e instanceof Wf))throw dr("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},Wf.prototype.set=function(e,t){tr("DocumentReference.set",arguments,1,2);var n=(t=rp("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Ea.NONE))},Wf.prototype.update=function(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return n="string"==typeof e||e instanceof Bd?(er("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,i)):(Zi("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Ea.exists(!0)))},Wf.prototype.delete=function(){return Zi("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Va(this._key,Ea.NONE)])},Wf.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];tr("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof e[r]||Gd(e[r])||(hr("DocumentReference.onSnapshot",i=e[r],["includeMetadataChanges"]),or("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return n=Gd(e[r])?e[r]:(nr("DocumentReference.onSnapshot","function",r,e[r]),ir("DocumentReference.onSnapshot","function",r+1,e[r+1]),ir("DocumentReference.onSnapshot","function",r+2,e[r+2]),{next:e[r],error:e[r+1],complete:e[r+2]}),this.onSnapshotInternal(o,n)},Wf.prototype.onSnapshotInternal=function(e,t){var n=this,i=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(i=t.error.bind(t));var r=new Ld({next:function(e){if(t.next){Fi(e.docs.size<=1,"Too many documents returned on a document query");var i=e.docs.get(n._key);t.next(new $f(n.firestore,n._key,i,e.fromCache,e.hasPendingWrites))}},error:i}),o=this._firestoreClient.listen(Gc.atPath(this._key.path),r,e);return function(){r.mute(),n._firestoreClient.unlisten(o)}},Wf.prototype.get=function(e){var t=this;return tr("DocumentReference.get",arguments,0,1),ap("DocumentReference.get",e),new Promise((function(n,i){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new $f(t.firestore,t._key,e,!0,e instanceof Rs&&e.hasLocalMutations))}),i):t.getViaSnapshotListener(n,i,e)}))},Wf.prototype.getViaSnapshotListener=function(e,t,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?t(new Hi(Wi.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?t(new Hi(Wi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(r)},error:t})},Wf);function Wf(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}var Hf=(zf.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},zf);function zf(e,t){this.hasPendingWrites=e,this.fromCache=t}var $f=(Kf.prototype.data=function(e){return tr("DocumentSnapshot.data",arguments,0,1),e=op("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),qa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},Kf.prototype.get=function(e,t){if(tr("DocumentSnapshot.get",arguments,1,2),t=op("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Of("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,qa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(Kf.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"ref",{get:function(){return new jf(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(Kf.prototype,"metadata",{get:function(){return new Hf(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),Kf.prototype.isEqual=function(e){if(!(e instanceof Kf))throw dr("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},Kf.prototype.convertObject=function(e,t){var n=this,i={};return e.forEach((function(e,r){i[e]=n.convertValue(r,t)})),i},Kf.prototype.convertValue=function(e,t){if(e instanceof Cs)return this.convertObject(e,t);if(e instanceof As)return this.convertArray(e,t);if(e instanceof ws){var n=e.value(t),i=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(i)||Li("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),new jf(n,this._firestore)}return e.value(t)},Kf.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},Kf);function Kf(e,t,n,i,r){this._firestore=e,this._key=t,this._document=n,this._fromCache=i,this._hasPendingWrites=r}var Qf,Gf=(l(Yf,Qf=$f),Yf.prototype.data=function(e){var t=Qf.prototype.data.call(this,e);return Fi("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},Yf);function Yf(){return null!==Qf&&Qf.apply(this,arguments)||this}var Xf=(Jf.prototype.where=function(e,t,n){Zi("Query.where",arguments,3),cr("Query.where",3,n),"in"!==t&&"array-contains-any"!==t&&function(e,t,n,i){if(!t.some((function(e){return e===i})))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid value "+lr(i)+" provided to function Query.where() for its "+fr(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var i,r=Of("Query.where",e),o=Xc.fromString(t);if(r.isKeyField()){if(o===Xc.ARRAY_CONTAINS||o===Xc.ARRAY_CONTAINS_ANY)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===Xc.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var l=u[s];a.push(this.parseDocumentIdValue(l))}i=new As(a)}else i=this.parseDocumentIdValue(n)}else o!==Xc.IN&&o!==Xc.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),i=this.firestore._dataConverter.parseQueryValue("Query.where",n);var c=eh.create(r,o,i);return this.validateNewFilter(c),new Jf(this._query.addFilter(c),this.firestore)},Jf.prototype.orderBy=function(e,t){var n;if(tr("Query.orderBy",arguments,1,2),ir("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)n=yh.ASCENDING;else{if("desc"!==t)throw new Hi(Wi.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");n=yh.DESCENDING}if(null!==this._query.startAt)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Of("Query.orderBy",e),r=new Eh(i,n);return this.validateNewOrderBy(r),new Jf(this._query.addOrderBy(r),this.firestore)},Jf.prototype.limit=function(e){if(Zi("Query.limit",arguments,1),nr("Query.limit","number",1,e),e<=0)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new Jf(this._query.withLimit(e),this.firestore)},Jf.prototype.startAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];er("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new Jf(this._query.withStartAt(i),this.firestore)},Jf.prototype.startAfter=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];er("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new Jf(this._query.withStartAt(i),this.firestore)},Jf.prototype.endBefore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];er("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new Jf(this._query.withEndAt(i),this.firestore)},Jf.prototype.endAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];er("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new Jf(this._query.withEndAt(i),this.firestore)},Jf.prototype.isEqual=function(e){if(!(e instanceof Jf))throw dr("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},Jf.prototype.boundFromDocOrFields=function(e,t,n,i){if(cr(e,1,t),t instanceof $f){if(0<n.length)throw new Hi(Wi.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var r=t;if(!r.exists)throw new Hi(Wi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,r._document,i)}var o=[t].concat(n);return this.boundFromFields(e,o,i)},Jf.prototype.boundFromDocument=function(e,t,n){for(var i=[],r=0,o=this._query.orderBy;r<o.length;r++){var a=o[r];if(a.field.isKeyField())i.push(new ws(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof ps)throw new Hi(Wi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}i.push(s)}}return new bh(i,n)},Jf.prototype.boundFromFields=function(e,t,n){var i=this._query.explicitOrderBy;if(t.length>i.length)throw new Hi(Wi.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<t.length;o++){var a=t[o];if(i[o].field.isKeyField()){if("string"!=typeof a)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Lr.fromString(a));if(!qr.isDocumentKey(s))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new qr(s);r.push(new ws(this.firestore._databaseId,u))}else{var l=this.firestore._dataConverter.parseQueryValue(e,a);r.push(l)}}return new bh(r,n)},Jf.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];tr("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof e[r]||Gd(e[r])||(hr("Query.onSnapshot",i=e[r],["includeMetadataChanges"]),or("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),n=Gd(e[r])?e[r]:(nr("Query.onSnapshot","function",r,e[r]),ir("Query.onSnapshot","function",r+1,e[r+1]),ir("Query.onSnapshot","function",r+2,e[r+2]),{next:e[r],error:e[r+1],complete:e[r+2]}),this.onSnapshotInternal(i,n)},Jf.prototype.onSnapshotInternal=function(e,t){var n=this,i=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(i=t.error.bind(t));var r=new Ld({next:function(e){t.next&&t.next(new Zf(n.firestore,n._query,e))},error:i}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,r,e);return function(){r.mute(),o.unlisten(a)}},Jf.prototype.get=function(e){var t=this;return tr("Query.get",arguments,0,1),ap("Query.get",e),new Promise((function(n,i){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Zf(t.firestore,t._query,e))}),i):t.getViaSnapshotListener(n,i,e)}))},Jf.prototype.getViaSnapshotListener=function(e,t,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?t(new Hi(Wi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(r)},error:t})},Jf.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Lr.fromString(e));if(!qr.isDocumentKey(t))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new ws(this.firestore._databaseId,new qr(t))}if(e instanceof jf){var n=e;return new ws(this.firestore._databaseId,n._key)}throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lr(e)+".")},Jf.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=e.indexOf(null))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(0<e.filter((function(e){return Number.isNaN(e)})).length)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},Jf.prototype.validateNewFilter=function(e){if(e instanceof eh){var t=[Xc.ARRAY_CONTAINS,Xc.ARRAY_CONTAINS_ANY],n=[Xc.IN,Xc.ARRAY_CONTAINS_ANY],i=0<=t.indexOf(e.op),r=0<=n.indexOf(e.op);if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(r||i){var s=null;if(r&&(s=this._query.findFilterOperator(n)),null===s&&i&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Hi(Wi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Hi(Wi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},Jf.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},Jf.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Hi(Wi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},Jf);function Jf(e,t){this._query=e,this.firestore=t}var Zf=(Object.defineProperty(ep.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(ep.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(ep.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),ep.prototype.forEach=function(e,t){var n=this;tr("QuerySnapshot.forEach",arguments,1,2),nr("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(i){e.call(t,n.convertToDocumentImpl(i))}))},Object.defineProperty(ep.prototype,"query",{get:function(){return new Xf(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),ep.prototype.docChanges=function(e){e&&(hr("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),or("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Hi(Wi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var i,r=0;return n.docChanges.map((function(t){var o=new Gf(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return Fi(t.type===bc.Added,"Invalid event type for first snapshot"),Fi(!i||n.query.docComparator(i,t.doc)<0,"Got added events in wrong order"),i=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:r++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==bc.Metadata})).map((function(t){var i=new Gf(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),r=-1,a=-1;return t.type!==bc.Added&&(Fi(0<=(r=o.indexOf(t.doc.key)),"Index for document not found"),o=o.delete(t.doc.key)),t.type!==bc.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case bc.Added:return"added";case bc.Modified:case bc.Metadata:return"modified";case bc.Removed:return"removed";default:return Bi("Unknown change type: "+e)}}(t.type),doc:i,oldIndex:r,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},ep.prototype.isEqual=function(e){if(!(e instanceof ep))throw dr("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},ep.prototype.convertToDocumentImpl=function(e){return new Gf(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},ep);function ep(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Hf(n.hasPendingWrites,n.fromCache)}["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Zf.prototype.docChanges,e,{get:function(){return function(){throw new Hi(Wi.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var tp,np=(l(ip,tp=Xf),Object.defineProperty(ip.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(ip.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new jf(new qr(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(ip.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),ip.prototype.doc=function(e){if(tr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=mr.newId()),nr("CollectionReference.doc","non-empty string",1,e),""===e)throw new Hi(Wi.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Lr.fromString(e);return jf.forPath(this._query.path.child(t),this.firestore)},ip.prototype.add=function(e){Zi("CollectionReference.add",arguments,1),nr("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},ip);function ip(e,t){var n=tp.call(this,Gc.atPath(e),t)||this;if(e.length%2!=1)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}function rp(e,t){if(void 0===t)return{merge:!1};if(hr(e,t,["merge","mergeFields"]),or(e,"boolean","merge",t.merge),function(e,t,n,i,r){void 0!==i&&function(e,t,n,i,r){if(!(i instanceof Array))throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+lr(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new Hi(Wi.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+lr(i[o]))}(e,t,n,i,r)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof Bd})),void 0!==t.mergeFields&&void 0!==t.merge)throw new Hi(Wi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function op(e,t){return void 0===t?{}:(hr(e,t,["serverTimestamps"]),ar(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function ap(e,t){ir(e,"object",1,t),t&&(hr(e,t,["source"]),ar(e,0,"source",t.source,["default","server","cache"]))}function sp(e,t,n){if(t instanceof jf){if(t.firestore!==n)throw new Hi(Wi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw dr(e,"DocumentReference",1,t)}var up=$i(Pf,"Use firebase.firestore() instead."),lp=$i(Ff,"Use firebase.firestore().runTransaction() instead."),cp=$i(Uf,"Use firebase.firestore().batch() instead."),hp=$i(jf,"Use firebase.firestore().doc() instead."),dp=$i($f),fp=$i(Gf),pp=$i(Xf),mp=$i(Zf),vp=$i(np,"Use firebase.firestore().collection() instead."),yp={Firestore:up,GeoPoint:Kc,Timestamp:ro,Blob:Tr,Transaction:lp,WriteBatch:cp,DocumentReference:hp,DocumentSnapshot:dp,Query:pp,QueryDocumentSnapshot:fp,QuerySnapshot:mp,CollectionReference:vp,FieldPath:Bd,FieldValue:pf,setLogLevel:Pf.setLogLevel,CACHE_SIZE_UNLIMITED:Mf},gp=(bp.prototype.addCallback=function(e){},bp.prototype.shutdown=function(){},bp);function bp(){}var wp="ConnectivityMonitor",Ep=(_p.prototype.addCallback=function(e){this.callbacks.push(e)},_p.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},_p.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},_p.prototype.onNetworkAvailable=function(){Ri(wp,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},_p.prototype.onNetworkUnavailable=function(){Ri(wp,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},_p.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},_p);function _p(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var kp=(Tp.prototype.onOpen=function(e){Fi(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},Tp.prototype.onClose=function(e){Fi(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},Tp.prototype.onMessage=function(e){Fi(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},Tp.prototype.close=function(){this.closeFn()},Tp.prototype.send=function(e){this.sendFn(e)},Tp.prototype.callOnOpen=function(){Fi(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Tp.prototype.callOnClose=function(e){Fi(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},Tp.prototype.callOnMessage=function(e){Fi(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},Tp);function Tp(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}var Sp="Connection",Cp={BatchGetDocuments:"batchGet",Commit:"commit"},Ip="gl-js/ fire/"+Oi,Dp=(Ap.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Ip},Ap.prototype.invokeRPC=function(e,t,n){var i=this,r=this.makeUrl(e);return new Promise((function(o,a){var s=new Ai;s.listenOnce(Ii.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ci.NO_ERROR:var t=s.getResponseJson();Ri(Sp,"XHR received:",JSON.stringify(t)),o(t);break;case Ci.TIMEOUT:Ri(Sp,'RPC "'+e+'" timed out'),a(new Hi(Wi.DEADLINE_EXCEEDED,"Request time out"));break;case Ci.HTTP_ERROR:var n=s.getStatus();if(Ri(Sp,'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),0<n){var i=s.getResponseJson().error;if(i&&i.status&&i.message){var r=function(e){var t=e.toLowerCase().replace("_","-");return 0<=Object.values(Wi).indexOf(t)?t:Wi.UNKNOWN}(i.status);a(new Hi(r,i.message))}else a(new Hi(Wi.UNKNOWN,"Server responded with status "+s.getStatus()))}else Ri(Sp,'RPC "'+e+'" failed'),a(new Hi(Wi.UNAVAILABLE,"Connection failed."));break;default:Bi('RPC "'+e+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{Ri(Sp,'RPC "'+e+'" completed.')}}));var u=JSON.stringify(t);Ri(Sp,"XHR sending: ",r+" "+u);var l={"Content-Type":"text/plain"};i.modifyHeadersForRequest(l,n),s.send(r,"POST",u,l,15)}))},Ap.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},Ap.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Si(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(r.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))}Ri(Sp,"Creating WebChannel: "+o+" "+r);var s=i.createWebChannel(o,r),u=!1,l=!1,c=new kp({sendFn:function(e){l?Ri(Sp,"Not sending because WebChannel is closed:",e):(u||(Ri(Sp,"Opening WebChannel transport."),s.open(),u=!0),Ri(Sp,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}});return a(Di.EventType.OPEN,(function(){l||Ri(Sp,"WebChannel transport opened.")})),a(Di.EventType.CLOSE,(function(){l||(l=!0,Ri(Sp,"WebChannel transport closed"),c.callOnClose())})),a(Di.EventType.ERROR,(function(e){l||(l=!0,Ri(Sp,"WebChannel transport errored:",e),c.callOnClose(new Hi(Wi.UNAVAILABLE,"The operation could not be completed")))})),a(Di.EventType.MESSAGE,(function(e){if(!l){var t=e.data[0];Fi(!!t,"Got a webchannel message without data.");var n=t,i=n.error||n[0]&&n[0].error;if(i){Ri(Sp,"WebChannel received error:",i);var r=i.status,o=function(e){var t=fc[e];if(void 0!==t)return gc(t)}(r),a=i.message;void 0===o&&(o=Wi.INTERNAL,a="Unknown error status: "+r+" with message "+i.message),l=!0,c.callOnClose(new Hi(o,a)),s.close()}else Ri(Sp,"WebChannel received:",t),c.callOnMessage(t)}})),setTimeout((function(){c.callOnOpen()}),0),c},Ap.prototype.makeUrl=function(e){var t=Cp[e];Fi(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},Ap);function Ap(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}var Op=(Object.defineProperty(xp.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(xp.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),xp.prototype.loadConnection=function(e){return Promise.resolve(new Dp(e))},xp.prototype.newConnectivityMonitor=function(){return Ep.isAvailable()?new Ep:new gp},xp.prototype.newSerializer=function(e){return new Wh(e,{useProto3Json:!0})},xp.prototype.formatJSON=function(e){return JSON.stringify(e)},xp.prototype.atob=function(e){return atob(e)},xp.prototype.btoa=function(e){return btoa(e)},xp);function xp(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}Vi.setPlatform(new Op),function(e){e.INTERNAL.registerService("firestore",(function(e){return new Pf(e)}),function(e){Fi(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(yp))}(t)}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(1))}).call(this,n(15))},function(e,t,n){"use strict";var i=n(45);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,c=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case h:case d:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case l:return e;default:return t}}case y:case v:case o:return t}}}function E(e){return w(e)===d}t.typeOf=w,t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===b)},t.isAsyncMode=function(e){return E(e)||w(e)===h},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p}},function(e,t,n){}]]);
//# sourceMappingURL=2.260ebaf9.chunk.js.map