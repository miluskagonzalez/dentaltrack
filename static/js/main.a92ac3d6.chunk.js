(window.webpackJsonpdentaltrack=window.webpackJsonpdentaltrack||[]).push([[0],{12:function(e,t){e.exports="data:image/png;base64,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"},31:function(e,t,a){e.exports=a(49)},36:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),c=a.n(r),s=(a(36),a(9)),i=a(10),o=a(13),m=a(11),u=a(14),d=(a(37),a(38),a(17)),E=a.n(d),f=a(5),b=a(3),p=a(26),g=(a(41),a(43),p.initializeApp({apiKey:"AIzaSyCaH9X1SW2ks_4EiRtxaU_UuJze8Rj4Sj4",authDomain:"dentaltrackpt.firebaseapp.com",databaseURL:"https://dentaltrackpt.firebaseio.com",projectId:"dentaltrackpt",storageBucket:"",messagingSenderId:"945431541755",appId:"1:945431541755:web:305d1114561091971cbd5e"})),h=l.a.createContext(),A=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(f.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){g.auth().onAuthStateChanged(s),console.log(c)}),[c]),l.a.createElement(h.Provider,{value:{currentUser:c}},t)},v=a(12),O=a.n(v),N=Object(b.f)((function(e){var t=e.history,a=Object(n.useState)(!0),r=Object(f.a)(a,2),c=r[0],s=r[1],i=Object(n.useCallback)((function(e){e.preventDefault();var a=e.target.elements,n=a.username,l=a.password;g.firestore().collection("usernames").where("username","==",n.value).get().then((function(e){e.forEach((function(e){var a=e.data().email;console.log(e.id," => ",e.data()),g.auth().signInWithEmailAndPassword(a,l.value).then((function(){return t.push("/")})).catch(console.log)}))}))}),[t]);return Object(n.useContext)(h).currentUser?l.a.createElement(b.a,{to:"/"}):l.a.createElement(n.Fragment,null,l.a.createElement("main",{className:"flex-container section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"section center-align"},l.a.createElement("img",{src:O.a,alt:""})),l.a.createElement("h6",{className:"center-align brand-text"},l.a.createElement("b",null,"INICIAR SESI\xd3N")),l.a.createElement("form",{className:"section row",onSubmit:i},l.a.createElement("div",{className:"input-field col s12 m6 offset-m3 l4 offset-l4"},l.a.createElement("input",{type:"text",name:"username"}),l.a.createElement("label",null,"Usuario")),l.a.createElement("div",{className:"input-field col s12 m6 offset-m3 l4 offset-l4"},l.a.createElement("i",{className:"material-icons suffix pointer",onClick:function(){return s(!c)}},c?"visibility":"visibility_off"),l.a.createElement("input",{type:c?"password":"text",name:"password"}),l.a.createElement("label",null,"Contrase\xf1a")),l.a.createElement("div",{className:"input-field col s12 center-align"},l.a.createElement("button",{className:"waves-effect waves-light btn brand-bg"},"INICIAR SESI\xd3N"))),l.a.createElement("div",{className:"center-align"},l.a.createElement("span",{className:"light-blue-text text-darken-1"},"\xbfOlvidaste tu contrase\xf1a?"),l.a.createElement("br",null),"\xbfNo tienes cuenta? ",l.a.createElement("span",{className:"light-blue-text text-darken-1 pointer",onClick:function(){return t.push("/signin")}},"Reg\xedstrate")))),l.a.createElement("footer",{className:"fixed-footer center-align"},l.a.createElement("p",null,l.a.createElement("small",null,"Software DentalTrack v.1 by Agencia Misterio 2019"))))})),j=Object(b.f)((function(e){var t=e.history,a=Object(n.useState)(!0),r=Object(f.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(""),o=Object(f.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)(""),E=Object(f.a)(d,2),b=E[0],p=E[1],h=Object(n.useState)(""),A=Object(f.a)(h,2),v=A[0],N=A[1],j=Object(n.useState)(""),x=Object(f.a)(j,2),w=x[0],y=x[1],S=Object(n.useState)(""),k=Object(f.a)(S,2),C=k[0],z=k[1],I=Object(n.useState)(""),D=Object(f.a)(I,2),Y=D[0],Q=D[1],U=g.firestore(),L=Object(n.useCallback)((function(e,t){return U.collection("usernames").where(e,"==",t).get().then((function(e){return e.empty}))}),[U]),R=function(e){var t=e.target,a=t.name,n=t.value;if(n.length)switch(a){case"username":L(a,n).then((function(e){e||y("Este usuario no est\xe1 disponible")}));break;case"email":/^[a-zA-Z0-9]+([_.-]?[a-zA-Z0-9]+)*@([a-zA-Z0-9-])+(\.[a-zA-Z]{2,4})+$/.test(n)?L(a,n).then((function(e){e||z("Este email ya est\xe1 siendo utilizado")})):z("Ingresa un email v\xe1lido");break;case"password":n.length<6?Q("La contrase\xf1a debe tener al menos 6 caracteres"):Q("")}},G=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"username":/^[\xf1a-z0-9_-]{0,16}$/gim.test(n)&&(u(n),0===n.length?y("Ingresa un nombre de usuario"):y(""),n.length>0&&L(a,n).then((function(e){e||y("Este usuario no est\xe1 disponible")})));break;case"email":(/^[\S]+$/gm.test(n)||0===n.length)&&(p(n),0!==n.length&&/^[a-zA-Z0-9]+([_.-]?[a-zA-Z0-9]+)*@([a-zA-Z0-9-])+(\.[a-zA-Z]{2,4})+$/.test(n)?z(""):z("Ingresa un email"),/^[a-zA-Z0-9]+([_.-]?[a-zA-Z0-9]+)*@([a-zA-Z0-9-])+(\.[a-zA-Z]{2,4})+$/.test(n)&&L(a,n).then((function(e){e||z("Este email ya est\xe1 siendo utilizado")})));break;case"password":N(n),0===n.length?Q("La contrase\xf1a debe tener al menos 6 caracteres"):Q("")}},P=Object(n.useCallback)((function(e){e.preventDefault(),L("username",m).then((function(e){e?g.auth().createUserWithEmailAndPassword(b,v).then((function(e){return e.user.uid})).then((function(e){return U.collection("usernames").doc(e).set({email:b,username:m})})).then((function(){return t.push("/")})).catch(console.log):y("Este usuario no est\xe1 disponible")}))}),[t,L,m,b,v,U]);return l.a.createElement(n.Fragment,null,l.a.createElement("main",{className:"flex-container section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"section center-align"},l.a.createElement("img",{src:O.a,alt:""})),l.a.createElement("h6",{className:"center-align brand-text"},l.a.createElement("b",null,"FORMULARIO DE REGISTRO")),l.a.createElement("form",{className:"section row",onSubmit:P},l.a.createElement("div",{className:"input-field col s12 m6 offset-m3 l4 offset-l4"},l.a.createElement("input",{type:"text",name:"username",onChange:G,value:m,onBlur:R,maxLength:"16"}),l.a.createElement("label",null,"Usuario"),w&&l.a.createElement("span",{className:"helper-text"},w)),l.a.createElement("div",{className:"input-field col s12 m6 offset-m3 l4 offset-l4"},l.a.createElement("i",{className:"material-icons suffix pointer",onClick:function(){return s(!c)}},c?"visibility":"visibility_off"),l.a.createElement("input",{type:c?"password":"text",name:"password",onChange:G,value:v,onBlur:R}),l.a.createElement("label",null,"Contrase\xf1a"),Y&&l.a.createElement("span",{className:"helper-text"},Y)),l.a.createElement("div",{className:"input-field col s12 m6 offset-m3 l4 offset-l4"},l.a.createElement("input",{type:"text",name:"email",onChange:G,value:b,onBlur:R}),l.a.createElement("label",null,"E-mail"),C&&l.a.createElement("span",{className:"helper-text"},C)),l.a.createElement("div",{className:"input-field col s12 center-align"},l.a.createElement("button",{className:"waves-effect waves-light btn brand-bg",disabled:!m||w||!b||C||!v||Y},"REGISTRARME"))),l.a.createElement("div",{className:"center-align"},"\xbfYa tienes una cuenta? ",l.a.createElement("span",{className:"light-blue-text text-darken-1 pointer",onClick:function(){return t.push("/login")}},"Inicia sesi\xf3n")))),l.a.createElement("footer",{className:"fixed-footer center-align"},l.a.createElement("p",null,l.a.createElement("small",null,"Software DentalTrack v.1 by Agencia Misterio 2019"))))})),x=a(29),w=(a(48),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".dropdown-trigger"),t=E.a.Dropdown.init(e,{inDuration:300,outDuration:225});this.element=e,this.instance=t}},{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"navbar-fixed"},l.a.createElement("nav",{className:"white grey-text"},l.a.createElement("div",{className:"nav-wrapper"},l.a.createElement("a",{className:"brand-logo ml-3"},l.a.createElement("img",{src:O.a,alt:"DentalTrack"})),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement("button",{className:"btn brand-outline waves-effect waves-light",type:"button",name:"action"},"Nuevo Pedido",l.a.createElement("i",{className:"material-icons left"},"add"))),l.a.createElement("li",null,l.a.createElement("a",{className:"grey-text",href:"#!"},l.a.createElement(x.Progress,{type:"circle",percent:25,width:40,strokeWidth:15,style:{color:"transparent",marginRight:15}}),"SALDO: ",l.a.createElement("span",{className:"bold-text grey-text text-darken-2"},"S/ 2,500.00"))),l.a.createElement("li",null,l.a.createElement("a",{className:"dropdown-trigger grey-text",href:"#!","data-target":"dropdown1"},l.a.createElement("i",{className:"material-icons avatar"},"account_circle"),"Odontolog\xeda San Pedro",l.a.createElement("i",{className:"material-icons right"},"arrow_drop_down")),l.a.createElement("ul",{id:"dropdown1",className:"dropdown-content"},l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"one")),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"two")),l.a.createElement("li",{className:"divider"}),l.a.createElement("li",null,l.a.createElement("a",{href:"#!"},"Cerrar sesi\xf3n",l.a.createElement("i",{className:"material-icons"},"exit_to_app"))))))))))}}]),t}(n.Component)),y=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(w,null),l.a.createElement("button",{onClick:function(){return g.auth().signOut()}},"Sign out"))}}]),t}(n.Component),S=a(19),k=a(30),C=function(e){var t=e.component,a=Object(k.a)(e,["component"]),r=Object(n.useContext)(h).currentUser;return l.a.createElement(b.b,Object.assign({},a,{render:function(e){return r?l.a.createElement(t,e):l.a.createElement(b.a,{to:"/login"})}}))},z=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){E.a.AutoInit()}},{key:"render",value:function(){return l.a.createElement(A,null,l.a.createElement(S.a,null,l.a.createElement(C,{exact:!0,path:"/",component:y}),l.a.createElement(b.b,{exact:!0,path:"/login",component:N}),l.a.createElement(b.b,{exact:!0,path:"/signin",component:j})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a92ac3d6.chunk.js.map